"use strict";const l=require("fs"),p=require("path");function d(o){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const n in o)if(n!=="default"){const t=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(e,n,t.get?t:{enumerable:!0,get:()=>o[n]})}}return e.default=o,Object.freeze(e)}const r=d(l),a=d(p),E="theme-mode:current",u="theme-mode:toggle",_="theme-mode:dark",N="theme-mode:light",M="theme-mode:system";function h(){const{contextBridge:o,ipcRenderer:e}=window.require("electron");o.exposeInMainWorld("themeMode",{current:()=>e.invoke(E),toggle:()=>e.invoke(u),dark:()=>e.invoke(_),light:()=>e.invoke(N),system:()=>e.invoke(M)})}const x="window:minimize",b="window:maximize",f="window:close",g=process.cwd(),w=window.require("better-sqlite3"),c=a.join(g,".cache");r.existsSync(c)||r.mkdirSync(c);const m=a.join(c,"photos.db"),i=new w(m),s=a.join(c,".thumbs");r.existsSync(s)||r.mkdirSync(s);function k(){const{contextBridge:o,ipcRenderer:e}=window.require("electron");o.exposeInMainWorld("electronWindow",{minimize:()=>e.invoke(x),maximize:()=>e.invoke(b),close:()=>e.invoke(f)}),o.exposeInMainWorld("electronAPI",{readFile:n=>e.invoke("read-file",n),readClipboard:()=>e.invoke("clipboard-read"),runCommand:(n,t)=>e.invoke("run-command",n,t)}),o.exposeInMainWorld("ElectronDB",{run:(n,t)=>i.prepare(n).run(t),get:(n,t)=>i.prepare(n).get(t),all:(n,t)=>i.prepare(n).all(t),exec:n=>i.exec(n),getDbPath:()=>m,getThumbsPath:()=>s})}function C(){k(),h()}C();
