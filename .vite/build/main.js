"use strict";const ve=require("electron"),vt=require("fs"),We=require("path"),Xr=require("better-sqlite3"),Xn=require("https"),En=require("stream"),Vn=require("events"),kn=require("buffer"),Zr=require("util"),Jn=require("zlib");function Wr(i){const s=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(i){for(const f in i)if(f!=="default"){const t=Object.getOwnPropertyDescriptor(i,f);Object.defineProperty(s,f,t.get?t:{enumerable:!0,get:()=>i[f]})}}return s.default=i,Object.freeze(s)}const Je=Wr(vt),pt=Wr(We),Qn=Wr(Jn),ea="theme-mode:current",ta="theme-mode:toggle",ra="theme-mode:dark",ia="theme-mode:light",na="theme-mode:system";function aa(){ve.ipcMain.handle(ea,()=>ve.nativeTheme.themeSource),ve.ipcMain.handle(ta,()=>(ve.nativeTheme.shouldUseDarkColors?ve.nativeTheme.themeSource="light":ve.nativeTheme.themeSource="dark",ve.nativeTheme.shouldUseDarkColors)),ve.ipcMain.handle(ra,()=>ve.nativeTheme.themeSource="dark"),ve.ipcMain.handle(ia,()=>ve.nativeTheme.themeSource="light"),ve.ipcMain.handle(na,()=>(ve.nativeTheme.themeSource="system",ve.nativeTheme.shouldUseDarkColors))}const oa="window:minimize",sa="window:maximize",fa="window:close",la=require("fs"),{protocol:$r}=require("electron"),{exec:ua}=require("child_process");require("path");$r.registerSchemesAsPrivileged([{scheme:"local-resource",privileges:{secure:!0,supportFetchAPI:!0,standard:!0,bypassCSP:!0,stream:!0}}]);$r.registerSchemesAsPrivileged([{scheme:"thumbnail-resource",privileges:{secure:!0,supportFetchAPI:!0,standard:!0,bypassCSP:!0,stream:!0}}]);$r.registerSchemesAsPrivileged([{scheme:"photo-info",privileges:{secure:!0,supportFetchAPI:!0,standard:!0,bypassCSP:!0,stream:!0}}]);function ha(i){ve.ipcMain.handle(oa,()=>{i.minimize()}),ve.ipcMain.handle(sa,()=>{i.isMaximized()?i.unmaximize():i.maximize()}),ve.ipcMain.handle(fa,()=>{i.close()}),ve.ipcMain.handle("read-file",async(s,f)=>{try{return{success:!0,content:la.readFileSync(f,"utf-8")}}catch(t){return{success:!1,error:t.message}}}),ve.ipcMain.handle("clipboard-read",()=>clipboard.readText()),ve.ipcMain.handle("run-command",async(s,f,t)=>new Promise((y,o)=>{const n=ua(f,{cwd:t});let p="",c="";n.stdout.on("data",x=>{p+=x}),n.stderr.on("data",x=>{c+=x}),n.on("close",x=>{x===0?y(p):o({error:c,command:f})})}))}let Ve=null,ct="",Ot="",Dt="";const ca=()=>{try{if(Ve)return;const i=process.cwd();if(ct=pt.join(i,".cache"),Je.existsSync(ct)||Je.mkdirSync(ct,{recursive:!0}),Ot=pt.join(ct,"photos.db"),console.log(`Initializing database at: ${Ot}`),Dt=pt.join(ct,".thumbs"),Je.existsSync(Dt)||Je.mkdirSync(Dt,{recursive:!0}),!Xr){console.error("✗ Failed to load better-sqlite3, database operations will not be available");return}Ve=new Xr(Ot),console.log("✓ Database initialized successfully in main process")}catch(i){console.error(`✗ Failed to initialize database in main process: ${i.message}`)}},da=()=>{try{ca(),Ve||console.warn("⚠ Database not available, IPC handlers will return null"),ve.ipcMain.handle("db-run",(i,s,f)=>{try{return Ve?Ve.prepare(s).run(f):null}catch(t){throw console.error(`✗ Database run error: ${t.message}`),t}}),ve.ipcMain.handle("db-get",(i,s,f)=>{try{return Ve?Ve.prepare(s).get(f):null}catch(t){throw console.error(`✗ Database get error: ${t.message}`),t}}),ve.ipcMain.handle("db-all",(i,s,f)=>{try{return Ve?Ve.prepare(s).all(f):null}catch(t){throw console.error(`✗ Database all error: ${t.message}`),t}}),ve.ipcMain.handle("db-exec",(i,s)=>{try{return Ve?Ve.exec(s):null}catch(f){throw console.error(`✗ Database exec error: ${f.message}`),f}}),ve.ipcMain.handle("db-get-path",()=>Ot),ve.ipcMain.handle("db-get-thumbs-path",()=>Dt),console.log("✓ Database IPC listeners registered")}catch(i){console.error(`✗ Failed to register database IPC listeners: ${i.message}`)}};function pa(i){ha(i),aa(),da()}var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},Nt={},zt={},Vr;function va(){return Vr||(Vr=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.changePermissions=i.downloadFile=i.getPath=void 0;const s=ve,f=vt,t=We,y=Xn,o=()=>{const x=s.app.getPath("userData");return t.resolve(`${x}/extensions`)};i.getPath=o;const n=s.net?s.net.request:y.get,p=(x,_)=>new Promise((d,r)=>{const h=n(x);h.on("response",m=>{if(m.statusCode&&m.statusCode>=300&&m.statusCode<400&&m.headers.location)return(0,i.downloadFile)(m.headers.location,_).then(d).catch(r);m.pipe(f.createWriteStream(_)).on("close",d),m.on("error",r)}),h.on("error",r),h.end()});i.downloadFile=p;const c=(x,_)=>{f.readdirSync(x).forEach(r=>{const h=t.join(x,r);f.chmodSync(h,parseInt(`${_}`,8)),f.statSync(h).isDirectory()&&(0,i.changePermissions)(h,_)})};i.changePermissions=c}(zt)),zt}var Lt={},Pt={},Ue={},xt={exports:{}},St={exports:{}},Jr;function It(){if(Jr)return St.exports;Jr=1,typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?St.exports={nextTick:i}:St.exports=process;function i(s,f,t,y){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,n,p;switch(o){case 0:case 1:return process.nextTick(s);case 2:return process.nextTick(function(){s.call(null,f)});case 3:return process.nextTick(function(){s.call(null,f,t)});case 4:return process.nextTick(function(){s.call(null,f,t,y)});default:for(n=new Array(o-1),p=0;p<n.length;)n[p++]=arguments[p];return process.nextTick(function(){s.apply(null,n)})}}return St.exports}var Mt,Qr;function _a(){if(Qr)return Mt;Qr=1;var i={}.toString;return Mt=Array.isArray||function(s){return i.call(s)=="[object Array]"},Mt}var jt,ei;function Cn(){return ei||(ei=1,jt=En),jt}var Et={exports:{}},ti;function Ft(){return ti||(ti=1,function(i,s){var f=kn,t=f.Buffer;function y(n,p){for(var c in n)p[c]=n[c]}t.from&&t.alloc&&t.allocUnsafe&&t.allocUnsafeSlow?i.exports=f:(y(f,s),s.Buffer=o);function o(n,p,c){return t(n,p,c)}y(t,o),o.from=function(n,p,c){if(typeof n=="number")throw new TypeError("Argument must not be a number");return t(n,p,c)},o.alloc=function(n,p,c){if(typeof n!="number")throw new TypeError("Argument must be a number");var x=t(n);return p!==void 0?typeof c=="string"?x.fill(p,c):x.fill(p):x.fill(0),x},o.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return t(n)},o.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(n)}}(Et,Et.exports)),Et.exports}var ze={},ri;function _t(){if(ri)return ze;ri=1;function i(S){return Array.isArray?Array.isArray(S):m(S)==="[object Array]"}ze.isArray=i;function s(S){return typeof S=="boolean"}ze.isBoolean=s;function f(S){return S===null}ze.isNull=f;function t(S){return S==null}ze.isNullOrUndefined=t;function y(S){return typeof S=="number"}ze.isNumber=y;function o(S){return typeof S=="string"}ze.isString=o;function n(S){return typeof S=="symbol"}ze.isSymbol=n;function p(S){return S===void 0}ze.isUndefined=p;function c(S){return m(S)==="[object RegExp]"}ze.isRegExp=c;function x(S){return typeof S=="object"&&S!==null}ze.isObject=x;function _(S){return m(S)==="[object Date]"}ze.isDate=_;function d(S){return m(S)==="[object Error]"||S instanceof Error}ze.isError=d;function r(S){return typeof S=="function"}ze.isFunction=r;function h(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||typeof S>"u"}ze.isPrimitive=h,ze.isBuffer=kn.Buffer.isBuffer;function m(S){return Object.prototype.toString.call(S)}return ze}var kt={exports:{}},Ct={exports:{}},ii;function ga(){return ii||(ii=1,typeof Object.create=="function"?Ct.exports=function(s,f){f&&(s.super_=f,s.prototype=Object.create(f.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:Ct.exports=function(s,f){if(f){s.super_=f;var t=function(){};t.prototype=f.prototype,s.prototype=new t,s.prototype.constructor=s}}),Ct.exports}var ni;function gt(){if(ni)return kt.exports;ni=1;try{var i=require("util");if(typeof i.inherits!="function")throw"";kt.exports=i.inherits}catch{kt.exports=ga()}return kt.exports}var qt={exports:{}},ai;function ma(){return ai||(ai=1,function(i){function s(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}var f=Ft().Buffer,t=Zr;function y(o,n,p){o.copy(n,p)}i.exports=function(){function o(){s(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(p){var c={data:p,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length},o.prototype.unshift=function(p){var c={data:p,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length},o.prototype.shift=function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(p){if(this.length===0)return"";for(var c=this.head,x=""+c.data;c=c.next;)x+=p+c.data;return x},o.prototype.concat=function(p){if(this.length===0)return f.alloc(0);for(var c=f.allocUnsafe(p>>>0),x=this.head,_=0;x;)y(x.data,c,_),_+=x.data.length,x=x.next;return c},o}(),t&&t.inspect&&t.inspect.custom&&(i.exports.prototype[t.inspect.custom]=function(){var o=t.inspect({length:this.length});return this.constructor.name+" "+o})}(qt)),qt.exports}var Ut,oi;function Rn(){if(oi)return Ut;oi=1;var i=It();function s(y,o){var n=this,p=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return p||c?(o?o(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(t,this,y)):i.nextTick(t,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(x){!o&&x?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,i.nextTick(t,n,x)):i.nextTick(t,n,x):o&&o(x)}),this)}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function t(y,o){y.emit("error",o)}return Ut={destroy:s,undestroy:f},Ut}var Zt,si;function wa(){return si||(si=1,Zt=Zr.deprecate),Zt}var Wt,fi;function Tn(){if(fi)return Wt;fi=1;var i=It();Wt=S;function s(R){var A=this;this.next=null,this.entry=null,this.finish=function(){ke(A,R)}}var f=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:i.nextTick,t;S.WritableState=h;var y=Object.create(_t());y.inherits=gt();var o={deprecate:wa()},n=Cn(),p=Ft().Buffer,c=(typeof Le<"u"?Le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function x(R){return p.from(R)}function _(R){return p.isBuffer(R)||R instanceof c}var d=Rn();y.inherits(S,n);function r(){}function h(R,A){t=t||ht(),R=R||{};var L=A instanceof t;this.objectMode=!!R.objectMode,L&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var te=R.highWaterMark,ae=R.writableHighWaterMark,se=this.objectMode?16:16*1024;te||te===0?this.highWaterMark=te:L&&(ae||ae===0)?this.highWaterMark=ae:this.highWaterMark=se,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=R.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(we){P(A,we)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}h.prototype.getBuffer=function(){for(var A=this.bufferedRequest,L=[];A;)L.push(A),A=A.next;return L},function(){try{Object.defineProperty(h.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var m;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(R){return m.call(this,R)?!0:this!==S?!1:R&&R._writableState instanceof h}})):m=function(R){return R instanceof this};function S(R){if(t=t||ht(),!m.call(S,this)&&!(this instanceof t))return new S(R);this._writableState=new h(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),n.call(this)}S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function C(R,A){var L=new Error("write after end");R.emit("error",L),i.nextTick(A,L)}function u(R,A,L,te){var ae=!0,se=!1;return L===null?se=new TypeError("May not write null values to stream"):typeof L!="string"&&L!==void 0&&!A.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se&&(R.emit("error",se),i.nextTick(te,se),ae=!1),ae}S.prototype.write=function(R,A,L){var te=this._writableState,ae=!1,se=!te.objectMode&&_(R);return se&&!p.isBuffer(R)&&(R=x(R)),typeof A=="function"&&(L=A,A=null),se?A="buffer":A||(A=te.defaultEncoding),typeof L!="function"&&(L=r),te.ended?C(this,L):(se||u(this,te,R,L))&&(te.pendingcb++,ae=k(this,te,se,R,A,L)),ae},S.prototype.cork=function(){var R=this._writableState;R.corked++},S.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&oe(this,R))},S.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+A);return this._writableState.defaultEncoding=A,this};function g(R,A,L){return!R.objectMode&&R.decodeStrings!==!1&&typeof A=="string"&&(A=p.from(A,L)),A}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(R,A,L,te,ae,se){if(!L){var ne=g(A,te,ae);te!==ne&&(L=!0,ae="buffer",te=ne)}var we=A.objectMode?1:te.length;A.length+=we;var xe=A.length<A.highWaterMark;if(xe||(A.needDrain=!0),A.writing||A.corked){var pe=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:ae,isBuf:L,callback:se,next:null},pe?pe.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else O(R,A,!1,we,te,ae,se);return xe}function O(R,A,L,te,ae,se,ne){A.writelen=te,A.writecb=ne,A.writing=!0,A.sync=!0,L?R._writev(ae,A.onwrite):R._write(ae,se,A.onwrite),A.sync=!1}function B(R,A,L,te,ae){--A.pendingcb,L?(i.nextTick(ae,te),i.nextTick(ee,R,A),R._writableState.errorEmitted=!0,R.emit("error",te)):(ae(te),R._writableState.errorEmitted=!0,R.emit("error",te),ee(R,A))}function $(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function P(R,A){var L=R._writableState,te=L.sync,ae=L.writecb;if($(L),A)B(R,L,te,A,ae);else{var se=le(L);!se&&!L.corked&&!L.bufferProcessing&&L.bufferedRequest&&oe(R,L),te?f(X,R,L,se,ae):X(R,L,se,ae)}}function X(R,A,L,te){L||ue(R,A),A.pendingcb--,te(),ee(R,A)}function ue(R,A){A.length===0&&A.needDrain&&(A.needDrain=!1,R.emit("drain"))}function oe(R,A){A.bufferProcessing=!0;var L=A.bufferedRequest;if(R._writev&&L&&L.next){var te=A.bufferedRequestCount,ae=new Array(te),se=A.corkedRequestsFree;se.entry=L;for(var ne=0,we=!0;L;)ae[ne]=L,L.isBuf||(we=!1),L=L.next,ne+=1;ae.allBuffers=we,O(R,A,!0,A.length,ae,"",se.finish),A.pendingcb++,A.lastBufferedRequest=null,se.next?(A.corkedRequestsFree=se.next,se.next=null):A.corkedRequestsFree=new s(A),A.bufferedRequestCount=0}else{for(;L;){var xe=L.chunk,pe=L.encoding,w=L.callback,b=A.objectMode?1:xe.length;if(O(R,A,!1,b,xe,pe,w),L=L.next,A.bufferedRequestCount--,A.writing)break}L===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=L,A.bufferProcessing=!1}S.prototype._write=function(R,A,L){L(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(R,A,L){var te=this._writableState;typeof R=="function"?(L=R,R=null,A=null):typeof A=="function"&&(L=A,A=null),R!=null&&this.write(R,A),te.corked&&(te.corked=1,this.uncork()),te.ending||ye(this,te,L)};function le(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function he(R,A){R._final(function(L){A.pendingcb--,L&&R.emit("error",L),A.prefinished=!0,R.emit("prefinish"),ee(R,A)})}function Y(R,A){!A.prefinished&&!A.finalCalled&&(typeof R._final=="function"?(A.pendingcb++,A.finalCalled=!0,i.nextTick(he,R,A)):(A.prefinished=!0,R.emit("prefinish")))}function ee(R,A){var L=le(A);return L&&(Y(R,A),A.pendingcb===0&&(A.finished=!0,R.emit("finish"))),L}function ye(R,A,L){A.ending=!0,ee(R,A),L&&(A.finished?i.nextTick(L):R.once("finish",L)),A.ended=!0,R.writable=!1}function ke(R,A,L){var te=R.entry;for(R.entry=null;te;){var ae=te.callback;A.pendingcb--,ae(L),te=te.next}A.corkedRequestsFree.next=R}return Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),S.prototype.destroy=d.destroy,S.prototype._undestroy=d.undestroy,S.prototype._destroy=function(R,A){this.end(),A(R)},Wt}var $t,li;function ht(){if(li)return $t;li=1;var i=It(),s=Object.keys||function(d){var r=[];for(var h in d)r.push(h);return r};$t=c;var f=Object.create(_t());f.inherits=gt();var t=An(),y=Tn();f.inherits(c,t);for(var o=s(y.prototype),n=0;n<o.length;n++){var p=o[n];c.prototype[p]||(c.prototype[p]=y.prototype[p])}function c(d){if(!(this instanceof c))return new c(d);t.call(this,d),y.call(this,d),d&&d.readable===!1&&(this.readable=!1),d&&d.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,d&&d.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",x)}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function x(){this.allowHalfOpen||this._writableState.ended||i.nextTick(_,this)}function _(d){d.end()}return Object.defineProperty(c.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),c.prototype._destroy=function(d,r){this.push(null),this.end(),i.nextTick(r,d)},$t}var Ht={},ui;function hi(){if(ui)return Ht;ui=1;var i=Ft().Buffer,s=i.isEncoding||function(u){switch(u=""+u,u&&u.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function f(u){if(!u)return"utf8";for(var g;;)switch(u){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return u;default:if(g)return;u=(""+u).toLowerCase(),g=!0}}function t(u){var g=f(u);if(typeof g!="string"&&(i.isEncoding===s||!s(u)))throw new Error("Unknown encoding: "+u);return g||u}Ht.StringDecoder=y;function y(u){this.encoding=t(u);var g;switch(this.encoding){case"utf16le":this.text=d,this.end=r,g=4;break;case"utf8":this.fillLast=c,g=4;break;case"base64":this.text=h,this.end=m,g=3;break;default:this.write=S,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(g)}y.prototype.write=function(u){if(u.length===0)return"";var g,k;if(this.lastNeed){if(g=this.fillLast(u),g===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<u.length?g?g+this.text(u,k):this.text(u,k):g||""},y.prototype.end=_,y.prototype.text=x,y.prototype.fillLast=function(u){if(this.lastNeed<=u.length)return u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);u.copy(this.lastChar,this.lastTotal-this.lastNeed,0,u.length),this.lastNeed-=u.length};function o(u){return u<=127?0:u>>5===6?2:u>>4===14?3:u>>3===30?4:u>>6===2?-1:-2}function n(u,g,k){var O=g.length-1;if(O<k)return 0;var B=o(g[O]);return B>=0?(B>0&&(u.lastNeed=B-1),B):--O<k||B===-2?0:(B=o(g[O]),B>=0?(B>0&&(u.lastNeed=B-2),B):--O<k||B===-2?0:(B=o(g[O]),B>=0?(B>0&&(B===2?B=0:u.lastNeed=B-3),B):0))}function p(u,g,k){if((g[0]&192)!==128)return u.lastNeed=0,"�";if(u.lastNeed>1&&g.length>1){if((g[1]&192)!==128)return u.lastNeed=1,"�";if(u.lastNeed>2&&g.length>2&&(g[2]&192)!==128)return u.lastNeed=2,"�"}}function c(u){var g=this.lastTotal-this.lastNeed,k=p(this,u);if(k!==void 0)return k;if(this.lastNeed<=u.length)return u.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);u.copy(this.lastChar,g,0,u.length),this.lastNeed-=u.length}function x(u,g){var k=n(this,u,g);if(!this.lastNeed)return u.toString("utf8",g);this.lastTotal=k;var O=u.length-(k-this.lastNeed);return u.copy(this.lastChar,0,O),u.toString("utf8",g,O)}function _(u){var g=u&&u.length?this.write(u):"";return this.lastNeed?g+"�":g}function d(u,g){if((u.length-g)%2===0){var k=u.toString("utf16le",g);if(k){var O=k.charCodeAt(k.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=u[u.length-1],u.toString("utf16le",g,u.length-1)}function r(u){var g=u&&u.length?this.write(u):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,k)}return g}function h(u,g){var k=(u.length-g)%3;return k===0?u.toString("base64",g):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=u[u.length-1]:(this.lastChar[0]=u[u.length-2],this.lastChar[1]=u[u.length-1]),u.toString("base64",g,u.length-k))}function m(u){var g=u&&u.length?this.write(u):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function S(u){return u.toString(this.encoding)}function C(u){return u&&u.length?this.write(u):""}return Ht}var Gt,ci;function An(){if(ci)return Gt;ci=1;var i=It();Gt=g;var s=_a(),f;g.ReadableState=u,Vn.EventEmitter;var t=function(w,b){return w.listeners(b).length},y=Cn(),o=Ft().Buffer,n=(typeof Le<"u"?Le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(w){return o.from(w)}function c(w){return o.isBuffer(w)||w instanceof n}var x=Object.create(_t());x.inherits=gt();var _=Zr,d=void 0;_&&_.debuglog?d=_.debuglog("stream"):d=function(){};var r=ma(),h=Rn(),m;x.inherits(g,y);var S=["error","close","destroy","pause","resume"];function C(w,b,j){if(typeof w.prependListener=="function")return w.prependListener(b,j);!w._events||!w._events[b]?w.on(b,j):s(w._events[b])?w._events[b].unshift(j):w._events[b]=[j,w._events[b]]}function u(w,b){f=f||ht(),w=w||{};var j=b instanceof f;this.objectMode=!!w.objectMode,j&&(this.objectMode=this.objectMode||!!w.readableObjectMode);var H=w.highWaterMark,de=w.readableHighWaterMark,G=this.objectMode?16:16*1024;H||H===0?this.highWaterMark=H:j&&(de||de===0)?this.highWaterMark=de:this.highWaterMark=G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new r,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=w.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,w.encoding&&(m||(m=hi().StringDecoder),this.decoder=new m(w.encoding),this.encoding=w.encoding)}function g(w){if(f=f||ht(),!(this instanceof g))return new g(w);this._readableState=new u(w,this),this.readable=!0,w&&(typeof w.read=="function"&&(this._read=w.read),typeof w.destroy=="function"&&(this._destroy=w.destroy)),y.call(this)}Object.defineProperty(g.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),g.prototype.destroy=h.destroy,g.prototype._undestroy=h.undestroy,g.prototype._destroy=function(w,b){this.push(null),b(w)},g.prototype.push=function(w,b){var j=this._readableState,H;return j.objectMode?H=!0:typeof w=="string"&&(b=b||j.defaultEncoding,b!==j.encoding&&(w=o.from(w,b),b=""),H=!0),k(this,w,b,!1,H)},g.prototype.unshift=function(w){return k(this,w,null,!0,!1)};function k(w,b,j,H,de){var G=w._readableState;if(b===null)G.reading=!1,oe(w,G);else{var fe;de||(fe=B(G,b)),fe?w.emit("error",fe):G.objectMode||b&&b.length>0?(typeof b!="string"&&!G.objectMode&&Object.getPrototypeOf(b)!==o.prototype&&(b=p(b)),H?G.endEmitted?w.emit("error",new Error("stream.unshift() after end event")):O(w,G,b,!0):G.ended?w.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!j?(b=G.decoder.write(b),G.objectMode||b.length!==0?O(w,G,b,!1):Y(w,G)):O(w,G,b,!1))):H||(G.reading=!1)}return $(G)}function O(w,b,j,H){b.flowing&&b.length===0&&!b.sync?(w.emit("data",j),w.read(0)):(b.length+=b.objectMode?1:j.length,H?b.buffer.unshift(j):b.buffer.push(j),b.needReadable&&le(w)),Y(w,b)}function B(w,b){var j;return!c(b)&&typeof b!="string"&&b!==void 0&&!w.objectMode&&(j=new TypeError("Invalid non-string/buffer chunk")),j}function $(w){return!w.ended&&(w.needReadable||w.length<w.highWaterMark||w.length===0)}g.prototype.isPaused=function(){return this._readableState.flowing===!1},g.prototype.setEncoding=function(w){return m||(m=hi().StringDecoder),this._readableState.decoder=new m(w),this._readableState.encoding=w,this};var P=8388608;function X(w){return w>=P?w=P:(w--,w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,w|=w>>>16,w++),w}function ue(w,b){return w<=0||b.length===0&&b.ended?0:b.objectMode?1:w!==w?b.flowing&&b.length?b.buffer.head.data.length:b.length:(w>b.highWaterMark&&(b.highWaterMark=X(w)),w<=b.length?w:b.ended?b.length:(b.needReadable=!0,0))}g.prototype.read=function(w){d("read",w),w=parseInt(w,10);var b=this._readableState,j=w;if(w!==0&&(b.emittedReadable=!1),w===0&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return d("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?we(this):le(this),null;if(w=ue(w,b),w===0&&b.ended)return b.length===0&&we(this),null;var H=b.needReadable;d("need readable",H),(b.length===0||b.length-w<b.highWaterMark)&&(H=!0,d("length less than watermark",H)),b.ended||b.reading?(H=!1,d("reading or ended",H)):H&&(d("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(w=ue(j,b)));var de;return w>0?de=te(w,b):de=null,de===null?(b.needReadable=!0,w=0):b.length-=w,b.length===0&&(b.ended||(b.needReadable=!0),j!==w&&b.ended&&we(this)),de!==null&&this.emit("data",de),de};function oe(w,b){if(!b.ended){if(b.decoder){var j=b.decoder.end();j&&j.length&&(b.buffer.push(j),b.length+=b.objectMode?1:j.length)}b.ended=!0,le(w)}}function le(w){var b=w._readableState;b.needReadable=!1,b.emittedReadable||(d("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?i.nextTick(he,w):he(w))}function he(w){d("emit readable"),w.emit("readable"),L(w)}function Y(w,b){b.readingMore||(b.readingMore=!0,i.nextTick(ee,w,b))}function ee(w,b){for(var j=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(d("maybeReadMore read 0"),w.read(0),j!==b.length);)j=b.length;b.readingMore=!1}g.prototype._read=function(w){this.emit("error",new Error("_read() is not implemented"))},g.prototype.pipe=function(w,b){var j=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=w;break;case 1:H.pipes=[H.pipes,w];break;default:H.pipes.push(w);break}H.pipesCount+=1,d("pipe count=%d opts=%j",H.pipesCount,b);var de=(!b||b.end!==!1)&&w!==process.stdout&&w!==process.stderr,G=de?je:M;H.endEmitted?i.nextTick(G):j.once("end",G),w.on("unpipe",fe);function fe(W,V){d("onunpipe"),W===j&&V&&V.hasUnpiped===!1&&(V.hasUnpiped=!0,Se())}function je(){d("onend"),w.end()}var Ie=ye(j);w.on("drain",Ie);var Fe=!1;function Se(){d("cleanup"),w.removeListener("close",Me),w.removeListener("finish",F),w.removeListener("drain",Ie),w.removeListener("error",$e),w.removeListener("unpipe",fe),j.removeListener("end",je),j.removeListener("end",M),j.removeListener("data",Oe),Fe=!0,H.awaitDrain&&(!w._writableState||w._writableState.needDrain)&&Ie()}var re=!1;j.on("data",Oe);function Oe(W){d("ondata"),re=!1;var V=w.write(W);V===!1&&!re&&((H.pipesCount===1&&H.pipes===w||H.pipesCount>1&&pe(H.pipes,w)!==-1)&&!Fe&&(d("false write response, pause",H.awaitDrain),H.awaitDrain++,re=!0),j.pause())}function $e(W){d("onerror",W),M(),w.removeListener("error",$e),t(w,"error")===0&&w.emit("error",W)}C(w,"error",$e);function Me(){w.removeListener("finish",F),M()}w.once("close",Me);function F(){d("onfinish"),w.removeListener("close",Me),M()}w.once("finish",F);function M(){d("unpipe"),j.unpipe(w)}return w.emit("pipe",j),H.flowing||(d("pipe resume"),j.resume()),w};function ye(w){return function(){var b=w._readableState;d("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,b.awaitDrain===0&&t(w,"data")&&(b.flowing=!0,L(w))}}g.prototype.unpipe=function(w){var b=this._readableState,j={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return w&&w!==b.pipes?this:(w||(w=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,w&&w.emit("unpipe",this,j),this);if(!w){var H=b.pipes,de=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var G=0;G<de;G++)H[G].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(b.pipes,w);return fe===-1?this:(b.pipes.splice(fe,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),w.emit("unpipe",this,j),this)},g.prototype.on=function(w,b){var j=y.prototype.on.call(this,w,b);if(w==="data")this._readableState.flowing!==!1&&this.resume();else if(w==="readable"){var H=this._readableState;!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.emittedReadable=!1,H.reading?H.length&&le(this):i.nextTick(ke,this))}return j},g.prototype.addListener=g.prototype.on;function ke(w){d("readable nexttick read 0"),w.read(0)}g.prototype.resume=function(){var w=this._readableState;return w.flowing||(d("resume"),w.flowing=!0,R(this,w)),this};function R(w,b){b.resumeScheduled||(b.resumeScheduled=!0,i.nextTick(A,w,b))}function A(w,b){b.reading||(d("resume read 0"),w.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,w.emit("resume"),L(w),b.flowing&&!b.reading&&w.read(0)}g.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function L(w){var b=w._readableState;for(d("flow",b.flowing);b.flowing&&w.read()!==null;);}g.prototype.wrap=function(w){var b=this,j=this._readableState,H=!1;w.on("end",function(){if(d("wrapped end"),j.decoder&&!j.ended){var fe=j.decoder.end();fe&&fe.length&&b.push(fe)}b.push(null)}),w.on("data",function(fe){if(d("wrapped data"),j.decoder&&(fe=j.decoder.write(fe)),!(j.objectMode&&fe==null)&&!(!j.objectMode&&(!fe||!fe.length))){var je=b.push(fe);je||(H=!0,w.pause())}});for(var de in w)this[de]===void 0&&typeof w[de]=="function"&&(this[de]=function(fe){return function(){return w[fe].apply(w,arguments)}}(de));for(var G=0;G<S.length;G++)w.on(S[G],this.emit.bind(this,S[G]));return this._read=function(fe){d("wrapped _read",fe),H&&(H=!1,w.resume())},this},Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),g._fromList=te;function te(w,b){if(b.length===0)return null;var j;return b.objectMode?j=b.buffer.shift():!w||w>=b.length?(b.decoder?j=b.buffer.join(""):b.buffer.length===1?j=b.buffer.head.data:j=b.buffer.concat(b.length),b.buffer.clear()):j=ae(w,b.buffer,b.decoder),j}function ae(w,b,j){var H;return w<b.head.data.length?(H=b.head.data.slice(0,w),b.head.data=b.head.data.slice(w)):w===b.head.data.length?H=b.shift():H=j?se(w,b):ne(w,b),H}function se(w,b){var j=b.head,H=1,de=j.data;for(w-=de.length;j=j.next;){var G=j.data,fe=w>G.length?G.length:w;if(fe===G.length?de+=G:de+=G.slice(0,w),w-=fe,w===0){fe===G.length?(++H,j.next?b.head=j.next:b.head=b.tail=null):(b.head=j,j.data=G.slice(fe));break}++H}return b.length-=H,de}function ne(w,b){var j=o.allocUnsafe(w),H=b.head,de=1;for(H.data.copy(j),w-=H.data.length;H=H.next;){var G=H.data,fe=w>G.length?G.length:w;if(G.copy(j,j.length-w,0,fe),w-=fe,w===0){fe===G.length?(++de,H.next?b.head=H.next:b.head=b.tail=null):(b.head=H,H.data=G.slice(fe));break}++de}return b.length-=de,j}function we(w){var b=w._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,i.nextTick(xe,b,w))}function xe(w,b){!w.endEmitted&&w.length===0&&(w.endEmitted=!0,b.readable=!1,b.emit("end"))}function pe(w,b){for(var j=0,H=w.length;j<H;j++)if(w[j]===b)return j;return-1}return Gt}var Yt,di;function On(){if(di)return Yt;di=1,Yt=t;var i=ht(),s=Object.create(_t());s.inherits=gt(),s.inherits(t,i);function f(n,p){var c=this._transformState;c.transforming=!1;var x=c.writecb;if(!x)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,p!=null&&this.push(p),x(n);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);i.call(this,n),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",y)}function y(){var n=this;typeof this._flush=="function"?this._flush(function(p,c){o(n,p,c)}):o(this,null,null)}t.prototype.push=function(n,p){return this._transformState.needTransform=!1,i.prototype.push.call(this,n,p)},t.prototype._transform=function(n,p,c){throw new Error("_transform() is not implemented")},t.prototype._write=function(n,p,c){var x=this._transformState;if(x.writecb=c,x.writechunk=n,x.writeencoding=p,!x.transforming){var _=this._readableState;(x.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},t.prototype._read=function(n){var p=this._transformState;p.writechunk!==null&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},t.prototype._destroy=function(n,p){var c=this;i.prototype._destroy.call(this,n,function(x){p(x),c.emit("close")})};function o(n,p,c){if(p)return n.emit("error",p);if(c!=null&&n.push(c),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}return Yt}var Kt,pi;function ba(){if(pi)return Kt;pi=1,Kt=f;var i=On(),s=Object.create(_t());s.inherits=gt(),s.inherits(f,i);function f(t){if(!(this instanceof f))return new f(t);i.call(this,t)}return f.prototype._transform=function(t,y,o){o(null,t)},Kt}var vi;function Dn(){return vi||(vi=1,function(i,s){var f=En;process.env.READABLE_STREAM==="disable"&&f?(i.exports=f,s=i.exports=f.Readable,s.Readable=f.Readable,s.Writable=f.Writable,s.Duplex=f.Duplex,s.Transform=f.Transform,s.PassThrough=f.PassThrough,s.Stream=f):(s=i.exports=An(),s.Stream=f||s,s.Readable=s,s.Writable=Tn(),s.Duplex=ht(),s.Transform=On(),s.PassThrough=ba())}(xt,xt.exports)),xt.exports}var _i;function nt(){if(_i)return Ue;if(_i=1,Ue.base64=!0,Ue.array=!0,Ue.string=!0,Ue.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",Ue.nodebuffer=typeof Buffer<"u",Ue.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")Ue.blob=!1;else{var i=new ArrayBuffer(0);try{Ue.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var s=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,f=new s;f.append(i),Ue.blob=f.getBlob("application/zip").size===0}catch{Ue.blob=!1}}}try{Ue.nodestream=!!Dn().Readable}catch{Ue.nodestream=!1}return Ue}var Rt={},gi;function In(){if(gi)return Rt;gi=1;var i=Te(),s=nt(),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return Rt.encode=function(t){for(var y=[],o,n,p,c,x,_,d,r=0,h=t.length,m=h,S=i.getTypeOf(t)!=="string";r<t.length;)m=h-r,S?(o=t[r++],n=r<h?t[r++]:0,p=r<h?t[r++]:0):(o=t.charCodeAt(r++),n=r<h?t.charCodeAt(r++):0,p=r<h?t.charCodeAt(r++):0),c=o>>2,x=(o&3)<<4|n>>4,_=m>1?(n&15)<<2|p>>6:64,d=m>2?p&63:64,y.push(f.charAt(c)+f.charAt(x)+f.charAt(_)+f.charAt(d));return y.join("")},Rt.decode=function(t){var y,o,n,p,c,x,_,d=0,r=0,h="data:";if(t.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9+/=]/g,"");var m=t.length*3/4;if(t.charAt(t.length-1)===f.charAt(64)&&m--,t.charAt(t.length-2)===f.charAt(64)&&m--,m%1!==0)throw new Error("Invalid base64 input, bad content length.");var S;for(s.uint8array?S=new Uint8Array(m|0):S=new Array(m|0);d<t.length;)p=f.indexOf(t.charAt(d++)),c=f.indexOf(t.charAt(d++)),x=f.indexOf(t.charAt(d++)),_=f.indexOf(t.charAt(d++)),y=p<<2|c>>4,o=(c&15)<<4|x>>2,n=(x&3)<<6|_,S[r++]=y,x!==64&&(S[r++]=o),_!==64&&(S[r++]=n);return S},Rt}var Xt,mi;function Bt(){return mi||(mi=1,Xt={isNode:typeof Buffer<"u",newBufferFrom:function(i,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,s);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,s)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var s=new Buffer(i);return s.fill(0),s},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}),Xt}var Vt,wi;function ya(){if(wi)return Vt;wi=1;var i=Le.MutationObserver||Le.WebKitMutationObserver,s;if(process.browser)if(i){var f=0,t=new i(c),y=Le.document.createTextNode("");t.observe(y,{characterData:!0}),s=function(){y.data=f=++f%2}}else if(!Le.setImmediate&&typeof Le.MessageChannel<"u"){var o=new Le.MessageChannel;o.port1.onmessage=c,s=function(){o.port2.postMessage(0)}}else"document"in Le&&"onreadystatechange"in Le.document.createElement("script")?s=function(){var _=Le.document.createElement("script");_.onreadystatechange=function(){c(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},Le.document.documentElement.appendChild(_)}:s=function(){setTimeout(c,0)};else s=function(){process.nextTick(c)};var n,p=[];function c(){n=!0;for(var _,d,r=p.length;r;){for(d=p,p=[],_=-1;++_<r;)d[_]();r=p.length}n=!1}Vt=x;function x(_){p.push(_)===1&&!n&&s()}return Vt}var Jt,bi;function xa(){if(bi)return Jt;bi=1;var i=ya();function s(){}var f={},t=["REJECTED"],y=["FULFILLED"],o=["PENDING"];if(!process.browser)var n=["UNHANDLED"];Jt=p;function p(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,process.browser||(this.handled=n),u!==s&&d(this,u)}p.prototype.finally=function(u){if(typeof u!="function")return this;var g=this.constructor;return this.then(k,O);function k(B){function $(){return B}return g.resolve(u()).then($)}function O(B){function $(){throw B}return g.resolve(u()).then($)}},p.prototype.catch=function(u){return this.then(null,u)},p.prototype.then=function(u,g){if(typeof u!="function"&&this.state===y||typeof g!="function"&&this.state===t)return this;var k=new this.constructor(s);if(process.browser||this.handled===n&&(this.handled=null),this.state!==o){var O=this.state===y?u:g;x(k,O,this.outcome)}else this.queue.push(new c(k,u,g));return k};function c(u,g,k){this.promise=u,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}c.prototype.callFulfilled=function(u){f.resolve(this.promise,u)},c.prototype.otherCallFulfilled=function(u){x(this.promise,this.onFulfilled,u)},c.prototype.callRejected=function(u){f.reject(this.promise,u)},c.prototype.otherCallRejected=function(u){x(this.promise,this.onRejected,u)};function x(u,g,k){i(function(){var O;try{O=g(k)}catch(B){return f.reject(u,B)}O===u?f.reject(u,new TypeError("Cannot resolve promise with itself")):f.resolve(u,O)})}f.resolve=function(u,g){var k=r(_,g);if(k.status==="error")return f.reject(u,k.value);var O=k.value;if(O)d(u,O);else{u.state=y,u.outcome=g;for(var B=-1,$=u.queue.length;++B<$;)u.queue[B].callFulfilled(g)}return u},f.reject=function(u,g){u.state=t,u.outcome=g,process.browser||u.handled===n&&i(function(){u.handled===n&&process.emit("unhandledRejection",g,u)});for(var k=-1,O=u.queue.length;++k<O;)u.queue[k].callRejected(g);return u};function _(u){var g=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof g=="function")return function(){g.apply(u,arguments)}}function d(u,g){var k=!1;function O(X){k||(k=!0,f.reject(u,X))}function B(X){k||(k=!0,f.resolve(u,X))}function $(){g(B,O)}var P=r($);P.status==="error"&&O(P.value)}function r(u,g){var k={};try{k.value=u(g),k.status="success"}catch(O){k.status="error",k.value=O}return k}p.resolve=h;function h(u){return u instanceof this?u:f.resolve(new this(s),u)}p.reject=m;function m(u){var g=new this(s);return f.reject(g,u)}p.all=S;function S(u){var g=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=u.length,O=!1;if(!k)return this.resolve([]);for(var B=new Array(k),$=0,P=-1,X=new this(s);++P<k;)ue(u[P],P);return X;function ue(oe,le){g.resolve(oe).then(he,function(Y){O||(O=!0,f.reject(X,Y))});function he(Y){B[le]=Y,++$===k&&!O&&(O=!0,f.resolve(X,B))}}}p.race=C;function C(u){var g=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=u.length,O=!1;if(!k)return this.resolve([]);for(var B=-1,$=new this(s);++B<k;)P(u[B]);return $;function P(X){g.resolve(X).then(function(ue){O||(O=!0,f.resolve($,ue))},function(ue){O||(O=!0,f.reject($,ue))})}}return Jt}var Qt,yi;function mt(){if(yi)return Qt;yi=1;var i=null;return typeof Promise<"u"?i=Promise:i=xa(),Qt={Promise:i},Qt}var er={},xi;function Sa(){return xi||(xi=1,function(i,s){if(i.setImmediate)return;var f=1,t={},y=!1,o=i.document,n;function p(g){typeof g!="function"&&(g=new Function(""+g));for(var k=new Array(arguments.length-1),O=0;O<k.length;O++)k[O]=arguments[O+1];var B={callback:g,args:k};return t[f]=B,n(f),f++}function c(g){delete t[g]}function x(g){var k=g.callback,O=g.args;switch(O.length){case 0:k();break;case 1:k(O[0]);break;case 2:k(O[0],O[1]);break;case 3:k(O[0],O[1],O[2]);break;default:k.apply(s,O);break}}function _(g){if(y)setTimeout(_,0,g);else{var k=t[g];if(k){y=!0;try{x(k)}finally{c(g),y=!1}}}}function d(){n=function(g){process.nextTick(function(){_(g)})}}function r(){if(i.postMessage&&!i.importScripts){var g=!0,k=i.onmessage;return i.onmessage=function(){g=!1},i.postMessage("","*"),i.onmessage=k,g}}function h(){var g="setImmediate$"+Math.random()+"$",k=function(O){O.source===i&&typeof O.data=="string"&&O.data.indexOf(g)===0&&_(+O.data.slice(g.length))};i.addEventListener?i.addEventListener("message",k,!1):i.attachEvent("onmessage",k),n=function(O){i.postMessage(g+O,"*")}}function m(){var g=new MessageChannel;g.port1.onmessage=function(k){var O=k.data;_(O)},n=function(k){g.port2.postMessage(k)}}function S(){var g=o.documentElement;n=function(k){var O=o.createElement("script");O.onreadystatechange=function(){_(k),O.onreadystatechange=null,g.removeChild(O),O=null},g.appendChild(O)}}function C(){n=function(g){setTimeout(_,0,g)}}var u=Object.getPrototypeOf&&Object.getPrototypeOf(i);u=u&&u.setTimeout?u:i,{}.toString.call(i.process)==="[object process]"?d():r()?h():i.MessageChannel?m():o&&"onreadystatechange"in o.createElement("script")?S():C(),u.setImmediate=p,u.clearImmediate=c}(typeof self>"u"?typeof Le>"u"?er:Le:self)),er}var Si;function Te(){return Si||(Si=1,function(i){var s=nt(),f=In(),t=Bt(),y=mt();Sa();function o(r){var h=null;return s.uint8array?h=new Uint8Array(r.length):h=new Array(r.length),p(r,h)}i.newBlob=function(r,h){i.checkSupport("blob");try{return new Blob([r],{type:h})}catch{try{var m=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,S=new m;return S.append(r),S.getBlob(h)}catch{throw new Error("Bug : can't construct the Blob.")}}};function n(r){return r}function p(r,h){for(var m=0;m<r.length;++m)h[m]=r.charCodeAt(m)&255;return h}var c={stringifyByChunk:function(r,h,m){var S=[],C=0,u=r.length;if(u<=m)return String.fromCharCode.apply(null,r);for(;C<u;)h==="array"||h==="nodebuffer"?S.push(String.fromCharCode.apply(null,r.slice(C,Math.min(C+m,u)))):S.push(String.fromCharCode.apply(null,r.subarray(C,Math.min(C+m,u)))),C+=m;return S.join("")},stringifyByChar:function(r){for(var h="",m=0;m<r.length;m++)h+=String.fromCharCode(r[m]);return h},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,t.allocBuffer(1)).length===1}catch{return!1}}()}};function x(r){var h=65536,m=i.getTypeOf(r),S=!0;if(m==="uint8array"?S=c.applyCanBeUsed.uint8array:m==="nodebuffer"&&(S=c.applyCanBeUsed.nodebuffer),S)for(;h>1;)try{return c.stringifyByChunk(r,m,h)}catch{h=Math.floor(h/2)}return c.stringifyByChar(r)}i.applyFromCharCode=x;function _(r,h){for(var m=0;m<r.length;m++)h[m]=r[m];return h}var d={};d.string={string:n,array:function(r){return p(r,new Array(r.length))},arraybuffer:function(r){return d.string.uint8array(r).buffer},uint8array:function(r){return p(r,new Uint8Array(r.length))},nodebuffer:function(r){return p(r,t.allocBuffer(r.length))}},d.array={string:x,array:n,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return t.newBufferFrom(r)}},d.arraybuffer={string:function(r){return x(new Uint8Array(r))},array:function(r){return _(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:n,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return t.newBufferFrom(new Uint8Array(r))}},d.uint8array={string:x,array:function(r){return _(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:n,nodebuffer:function(r){return t.newBufferFrom(r)}},d.nodebuffer={string:x,array:function(r){return _(r,new Array(r.length))},arraybuffer:function(r){return d.nodebuffer.uint8array(r).buffer},uint8array:function(r){return _(r,new Uint8Array(r.length))},nodebuffer:n},i.transformTo=function(r,h){if(h||(h=""),!r)return h;i.checkSupport(r);var m=i.getTypeOf(h),S=d[m][r](h);return S},i.resolve=function(r){for(var h=r.split("/"),m=[],S=0;S<h.length;S++){var C=h[S];C==="."||C===""&&S!==0&&S!==h.length-1||(C===".."?m.pop():m.push(C))}return m.join("/")},i.getTypeOf=function(r){if(typeof r=="string")return"string";if(Object.prototype.toString.call(r)==="[object Array]")return"array";if(s.nodebuffer&&t.isBuffer(r))return"nodebuffer";if(s.uint8array&&r instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&r instanceof ArrayBuffer)return"arraybuffer"},i.checkSupport=function(r){var h=s[r.toLowerCase()];if(!h)throw new Error(r+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(r){var h="",m,S;for(S=0;S<(r||"").length;S++)m=r.charCodeAt(S),h+="\\x"+(m<16?"0":"")+m.toString(16).toUpperCase();return h},i.delay=function(r,h,m){setImmediate(function(){r.apply(m||null,h||[])})},i.inherits=function(r,h){var m=function(){};m.prototype=h.prototype,r.prototype=new m},i.extend=function(){var r={},h,m;for(h=0;h<arguments.length;h++)for(m in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],m)&&typeof r[m]>"u"&&(r[m]=arguments[h][m]);return r},i.prepareContent=function(r,h,m,S,C){var u=y.Promise.resolve(h).then(function(g){var k=s.blob&&(g instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(g))!==-1);return k&&typeof FileReader<"u"?new y.Promise(function(O,B){var $=new FileReader;$.onload=function(P){O(P.target.result)},$.onerror=function(P){B(P.target.error)},$.readAsArrayBuffer(g)}):g});return u.then(function(g){var k=i.getTypeOf(g);return k?(k==="arraybuffer"?g=i.transformTo("uint8array",g):k==="string"&&(C?g=f.decode(g):m&&S!==!0&&(g=o(g))),g):y.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}}(Pt)),Pt}var tr,Ei;function Ke(){if(Ei)return tr;Ei=1;function i(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}return i.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return this.isFinished?!1:(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,f){return this._listeners[s].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,f){if(this._listeners[s])for(var t=0;t<this._listeners[s].length;t++)this._listeners[s][t].call(this,f)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var f=this;return s.on("data",function(t){f.processChunk(t)}),s.on("end",function(){f.end()}),s.on("error",function(t){f.error(t)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var s=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,f){return this.extraStreamInfo[s]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},tr=i,tr}var ki;function wt(){return ki||(ki=1,function(i){for(var s=Te(),f=nt(),t=Bt(),y=Ke(),o=new Array(256),n=0;n<256;n++)o[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;o[254]=o[254]=1;var p=function(r){var h,m,S,C,u,g=r.length,k=0;for(C=0;C<g;C++)m=r.charCodeAt(C),(m&64512)===55296&&C+1<g&&(S=r.charCodeAt(C+1),(S&64512)===56320&&(m=65536+(m-55296<<10)+(S-56320),C++)),k+=m<128?1:m<2048?2:m<65536?3:4;for(f.uint8array?h=new Uint8Array(k):h=new Array(k),u=0,C=0;u<k;C++)m=r.charCodeAt(C),(m&64512)===55296&&C+1<g&&(S=r.charCodeAt(C+1),(S&64512)===56320&&(m=65536+(m-55296<<10)+(S-56320),C++)),m<128?h[u++]=m:m<2048?(h[u++]=192|m>>>6,h[u++]=128|m&63):m<65536?(h[u++]=224|m>>>12,h[u++]=128|m>>>6&63,h[u++]=128|m&63):(h[u++]=240|m>>>18,h[u++]=128|m>>>12&63,h[u++]=128|m>>>6&63,h[u++]=128|m&63);return h},c=function(r,h){var m;for(h=h||r.length,h>r.length&&(h=r.length),m=h-1;m>=0&&(r[m]&192)===128;)m--;return m<0||m===0?h:m+o[r[m]]>h?m:h},x=function(r){var h,m,S,C,u=r.length,g=new Array(u*2);for(m=0,h=0;h<u;){if(S=r[h++],S<128){g[m++]=S;continue}if(C=o[S],C>4){g[m++]=65533,h+=C-1;continue}for(S&=C===2?31:C===3?15:7;C>1&&h<u;)S=S<<6|r[h++]&63,C--;if(C>1){g[m++]=65533;continue}S<65536?g[m++]=S:(S-=65536,g[m++]=55296|S>>10&1023,g[m++]=56320|S&1023)}return g.length!==m&&(g.subarray?g=g.subarray(0,m):g.length=m),s.applyFromCharCode(g)};i.utf8encode=function(h){return f.nodebuffer?t.newBufferFrom(h,"utf-8"):p(h)},i.utf8decode=function(h){return f.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):(h=s.transformTo(f.uint8array?"uint8array":"array",h),x(h))};function _(){y.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(_,y),_.prototype.processChunk=function(r){var h=s.transformTo(f.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var m=h;h=new Uint8Array(m.length+this.leftOver.length),h.set(this.leftOver,0),h.set(m,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var S=c(h),C=h;S!==h.length&&(f.uint8array?(C=h.subarray(0,S),this.leftOver=h.subarray(S,h.length)):(C=h.slice(0,S),this.leftOver=h.slice(S,h.length))),this.push({data:i.utf8decode(C),meta:r.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=_;function d(){y.call(this,"utf-8 encode")}s.inherits(d,y),d.prototype.processChunk=function(r){this.push({data:i.utf8encode(r.data),meta:r.meta})},i.Utf8EncodeWorker=d}(Lt)),Lt}var rr,Ci;function Ea(){if(Ci)return rr;Ci=1;var i=Ke(),s=Te();function f(t){i.call(this,"ConvertWorker to "+t),this.destType=t}return s.inherits(f,i),f.prototype.processChunk=function(t){this.push({data:s.transformTo(this.destType,t.data),meta:t.meta})},rr=f,rr}var ir,Ri;function ka(){if(Ri)return ir;Ri=1;var i=Dn().Readable,s=Te();s.inherits(f,i);function f(t,y,o){i.call(this,y),this._helper=t;var n=this;t.on("data",function(p,c){n.push(p)||n._helper.pause(),o&&o(c)}).on("error",function(p){n.emit("error",p)}).on("end",function(){n.push(null)})}return f.prototype._read=function(){this._helper.resume()},ir=f,ir}var nr,Ti;function Fn(){if(Ti)return nr;Ti=1;var i=Te(),s=Ea(),f=Ke(),t=In(),y=nt(),o=mt(),n=null;if(y.nodestream)try{n=ka()}catch{}function p(d,r,h){switch(d){case"blob":return i.newBlob(i.transformTo("arraybuffer",r),h);case"base64":return t.encode(r);default:return i.transformTo(d,r)}}function c(d,r){var h,m=0,S=null,C=0;for(h=0;h<r.length;h++)C+=r[h].length;switch(d){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(S=new Uint8Array(C),h=0;h<r.length;h++)S.set(r[h],m),m+=r[h].length;return S;case"nodebuffer":return Buffer.concat(r);default:throw new Error("concat : unsupported type '"+d+"'")}}function x(d,r){return new o.Promise(function(h,m){var S=[],C=d._internalType,u=d._outputType,g=d._mimeType;d.on("data",function(k,O){S.push(k),r&&r(O)}).on("error",function(k){S=[],m(k)}).on("end",function(){try{var k=p(u,c(C,S),g);h(k)}catch(O){m(O)}S=[]}).resume()})}function _(d,r,h){var m=r;switch(r){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string";break}try{this._internalType=m,this._outputType=r,this._mimeType=h,i.checkSupport(m),this._worker=d.pipe(new s(m)),d.lock()}catch(S){this._worker=new f("error"),this._worker.error(S)}}return _.prototype={accumulate:function(d){return x(this,d)},on:function(d,r){var h=this;return d==="data"?this._worker.on(d,function(m){r.call(h,m.data,m.meta)}):this._worker.on(d,function(){i.delay(r,arguments,h)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:this._outputType!=="nodebuffer"},d)}},nr=_,nr}var Ge={},Ai;function Bn(){return Ai||(Ai=1,Ge.base64=!1,Ge.binary=!1,Ge.dir=!1,Ge.createFolders=!0,Ge.date=null,Ge.compression=null,Ge.compressionOptions=null,Ge.comment=null,Ge.unixPermissions=null,Ge.dosPermissions=null),Ge}var ar,Oi;function Nn(){if(Oi)return ar;Oi=1;var i=Te(),s=Ke(),f=16*1024;function t(y){s.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(n){o.dataIsReady=!0,o.data=n,o.max=n&&n.length||0,o.type=i.getTypeOf(n),o.isPaused||o._tickAndRepeat()},function(n){o.error(n)})}return i.inherits(t,s),t.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},t.prototype.resume=function(){return s.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0):!1},t.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},t.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=f,o=null,n=Math.min(this.max,this.index+y);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,n);break;case"uint8array":o=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":o=this.data.slice(this.index,n);break}return this.index=n,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},ar=t,ar}var or,Di;function Hr(){if(Di)return or;Di=1;var i=Te();function s(){for(var o,n=[],p=0;p<256;p++){o=p;for(var c=0;c<8;c++)o=o&1?3988292384^o>>>1:o>>>1;n[p]=o}return n}var f=s();function t(o,n,p,c){var x=f,_=c+p;o=o^-1;for(var d=c;d<_;d++)o=o>>>8^x[(o^n[d])&255];return o^-1}function y(o,n,p,c){var x=f,_=c+p;o=o^-1;for(var d=c;d<_;d++)o=o>>>8^x[(o^n.charCodeAt(d))&255];return o^-1}return or=function(n,p){if(typeof n>"u"||!n.length)return 0;var c=i.getTypeOf(n)!=="string";return c?t(p|0,n,n.length,0):y(p|0,n,n.length,0)},or}var sr,Ii;function zn(){if(Ii)return sr;Ii=1;var i=Ke(),s=Hr(),f=Te();function t(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}return f.inherits(t,i),t.prototype.processChunk=function(y){this.streamInfo.crc32=s(y.data,this.streamInfo.crc32||0),this.push(y)},sr=t,sr}var fr,Fi;function Ca(){if(Fi)return fr;Fi=1;var i=Te(),s=Ke();function f(t){s.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}return i.inherits(f,s),f.prototype.processChunk=function(t){if(t){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+t.data.length}s.prototype.processChunk.call(this,t)},fr=f,fr}var lr,Bi;function Gr(){if(Bi)return lr;Bi=1;var i=mt(),s=Nn(),f=zn(),t=Ca();function y(o,n,p,c,x){this.compressedSize=o,this.uncompressedSize=n,this.crc32=p,this.compression=c,this.compressedContent=x}return y.prototype={getContentWorker:function(){var o=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new t("data_length")),n=this;return o.on("end",function(){if(this.streamInfo.data_length!==n.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),o},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(o,n,p){return o.pipe(new f).pipe(new t("uncompressedSize")).pipe(n.compressWorker(p)).pipe(new t("compressedSize")).withStreamInfo("compression",n)},lr=y,lr}var ur,Ni;function Ra(){if(Ni)return ur;Ni=1;var i=Fn(),s=Nn(),f=wt(),t=Gr(),y=Ke(),o=function(x,_,d){this.name=x,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=_,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}};o.prototype={internalStream:function(x){var _=null,d="string";try{if(!x)throw new Error("No output type specified.");d=x.toLowerCase();var r=d==="string"||d==="text";(d==="binarystring"||d==="text")&&(d="string"),_=this._decompressWorker();var h=!this._dataBinary;h&&!r&&(_=_.pipe(new f.Utf8EncodeWorker)),!h&&r&&(_=_.pipe(new f.Utf8DecodeWorker))}catch(m){_=new y("error"),_.error(m)}return new i(_,d,"")},async:function(x,_){return this.internalStream(x).accumulate(_)},nodeStream:function(x,_){return this.internalStream(x||"nodebuffer").toNodejsStream(_)},_compressWorker:function(x,_){if(this._data instanceof t&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new f.Utf8EncodeWorker)),t.createWorkerFrom(d,x,_)},_decompressWorker:function(){return this._data instanceof t?this._data.getContentWorker():this._data instanceof y?this._data:new s(this._data)}};for(var n=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<n.length;c++)o.prototype[n[c]]=p;return ur=o,ur}var hr={},Tt={},dt={},cr={},zi;function at(){return zi||(zi=1,function(i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function f(o,n){return Object.prototype.hasOwnProperty.call(o,n)}i.assign=function(o){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var p=n.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var c in p)f(p,c)&&(o[c]=p[c])}}return o},i.shrinkBuf=function(o,n){return o.length===n?o:o.subarray?o.subarray(0,n):(o.length=n,o)};var t={arraySet:function(o,n,p,c,x){if(n.subarray&&o.subarray){o.set(n.subarray(p,p+c),x);return}for(var _=0;_<c;_++)o[x+_]=n[p+_]},flattenChunks:function(o){var n,p,c,x,_,d;for(c=0,n=0,p=o.length;n<p;n++)c+=o[n].length;for(d=new Uint8Array(c),x=0,n=0,p=o.length;n<p;n++)_=o[n],d.set(_,x),x+=_.length;return d}},y={arraySet:function(o,n,p,c,x){for(var _=0;_<c;_++)o[x+_]=n[p+_]},flattenChunks:function(o){return[].concat.apply([],o)}};i.setTyped=function(o){o?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,t)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,y))},i.setTyped(s)}(cr)),cr}var ft={},Xe={},ot={},Li;function Ta(){if(Li)return ot;Li=1;var i=at(),s=4,f=0,t=1,y=2;function o(v){for(var q=v.length;--q>=0;)v[q]=0}var n=0,p=1,c=2,x=3,_=258,d=29,r=256,h=r+1+d,m=30,S=19,C=2*h+1,u=15,g=16,k=7,O=256,B=16,$=17,P=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=512,Y=new Array((h+2)*2);o(Y);var ee=new Array(m*2);o(ee);var ye=new Array(he);o(ye);var ke=new Array(_-x+1);o(ke);var R=new Array(d);o(R);var A=new Array(m);o(A);function L(v,q,Z,Q,T){this.static_tree=v,this.extra_bits=q,this.extra_base=Z,this.elems=Q,this.max_length=T,this.has_stree=v&&v.length}var te,ae,se;function ne(v,q){this.dyn_tree=v,this.max_code=0,this.stat_desc=q}function we(v){return v<256?ye[v]:ye[256+(v>>>7)]}function xe(v,q){v.pending_buf[v.pending++]=q&255,v.pending_buf[v.pending++]=q>>>8&255}function pe(v,q,Z){v.bi_valid>g-Z?(v.bi_buf|=q<<v.bi_valid&65535,xe(v,v.bi_buf),v.bi_buf=q>>g-v.bi_valid,v.bi_valid+=Z-g):(v.bi_buf|=q<<v.bi_valid&65535,v.bi_valid+=Z)}function w(v,q,Z){pe(v,Z[q*2],Z[q*2+1])}function b(v,q){var Z=0;do Z|=v&1,v>>>=1,Z<<=1;while(--q>0);return Z>>>1}function j(v){v.bi_valid===16?(xe(v,v.bi_buf),v.bi_buf=0,v.bi_valid=0):v.bi_valid>=8&&(v.pending_buf[v.pending++]=v.bi_buf&255,v.bi_buf>>=8,v.bi_valid-=8)}function H(v,q){var Z=q.dyn_tree,Q=q.max_code,T=q.stat_desc.static_tree,z=q.stat_desc.has_stree,a=q.stat_desc.extra_bits,U=q.stat_desc.extra_base,ce=q.stat_desc.max_length,e,I,N,l,E,D,ie=0;for(l=0;l<=u;l++)v.bl_count[l]=0;for(Z[v.heap[v.heap_max]*2+1]=0,e=v.heap_max+1;e<C;e++)I=v.heap[e],l=Z[Z[I*2+1]*2+1]+1,l>ce&&(l=ce,ie++),Z[I*2+1]=l,!(I>Q)&&(v.bl_count[l]++,E=0,I>=U&&(E=a[I-U]),D=Z[I*2],v.opt_len+=D*(l+E),z&&(v.static_len+=D*(T[I*2+1]+E)));if(ie!==0){do{for(l=ce-1;v.bl_count[l]===0;)l--;v.bl_count[l]--,v.bl_count[l+1]+=2,v.bl_count[ce]--,ie-=2}while(ie>0);for(l=ce;l!==0;l--)for(I=v.bl_count[l];I!==0;)N=v.heap[--e],!(N>Q)&&(Z[N*2+1]!==l&&(v.opt_len+=(l-Z[N*2+1])*Z[N*2],Z[N*2+1]=l),I--)}}function de(v,q,Z){var Q=new Array(u+1),T=0,z,a;for(z=1;z<=u;z++)Q[z]=T=T+Z[z-1]<<1;for(a=0;a<=q;a++){var U=v[a*2+1];U!==0&&(v[a*2]=b(Q[U]++,U))}}function G(){var v,q,Z,Q,T,z=new Array(u+1);for(Z=0,Q=0;Q<d-1;Q++)for(R[Q]=Z,v=0;v<1<<X[Q];v++)ke[Z++]=Q;for(ke[Z-1]=Q,T=0,Q=0;Q<16;Q++)for(A[Q]=T,v=0;v<1<<ue[Q];v++)ye[T++]=Q;for(T>>=7;Q<m;Q++)for(A[Q]=T<<7,v=0;v<1<<ue[Q]-7;v++)ye[256+T++]=Q;for(q=0;q<=u;q++)z[q]=0;for(v=0;v<=143;)Y[v*2+1]=8,v++,z[8]++;for(;v<=255;)Y[v*2+1]=9,v++,z[9]++;for(;v<=279;)Y[v*2+1]=7,v++,z[7]++;for(;v<=287;)Y[v*2+1]=8,v++,z[8]++;for(de(Y,h+1,z),v=0;v<m;v++)ee[v*2+1]=5,ee[v*2]=b(v,5);te=new L(Y,X,r+1,h,u),ae=new L(ee,ue,0,m,u),se=new L(new Array(0),oe,0,S,k)}function fe(v){var q;for(q=0;q<h;q++)v.dyn_ltree[q*2]=0;for(q=0;q<m;q++)v.dyn_dtree[q*2]=0;for(q=0;q<S;q++)v.bl_tree[q*2]=0;v.dyn_ltree[O*2]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function je(v){v.bi_valid>8?xe(v,v.bi_buf):v.bi_valid>0&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function Ie(v,q,Z,Q){je(v),xe(v,Z),xe(v,~Z),i.arraySet(v.pending_buf,v.window,q,Z,v.pending),v.pending+=Z}function Fe(v,q,Z,Q){var T=q*2,z=Z*2;return v[T]<v[z]||v[T]===v[z]&&Q[q]<=Q[Z]}function Se(v,q,Z){for(var Q=v.heap[Z],T=Z<<1;T<=v.heap_len&&(T<v.heap_len&&Fe(q,v.heap[T+1],v.heap[T],v.depth)&&T++,!Fe(q,Q,v.heap[T],v.depth));)v.heap[Z]=v.heap[T],Z=T,T<<=1;v.heap[Z]=Q}function re(v,q,Z){var Q,T,z=0,a,U;if(v.last_lit!==0)do Q=v.pending_buf[v.d_buf+z*2]<<8|v.pending_buf[v.d_buf+z*2+1],T=v.pending_buf[v.l_buf+z],z++,Q===0?w(v,T,q):(a=ke[T],w(v,a+r+1,q),U=X[a],U!==0&&(T-=R[a],pe(v,T,U)),Q--,a=we(Q),w(v,a,Z),U=ue[a],U!==0&&(Q-=A[a],pe(v,Q,U)));while(z<v.last_lit);w(v,O,q)}function Oe(v,q){var Z=q.dyn_tree,Q=q.stat_desc.static_tree,T=q.stat_desc.has_stree,z=q.stat_desc.elems,a,U,ce=-1,e;for(v.heap_len=0,v.heap_max=C,a=0;a<z;a++)Z[a*2]!==0?(v.heap[++v.heap_len]=ce=a,v.depth[a]=0):Z[a*2+1]=0;for(;v.heap_len<2;)e=v.heap[++v.heap_len]=ce<2?++ce:0,Z[e*2]=1,v.depth[e]=0,v.opt_len--,T&&(v.static_len-=Q[e*2+1]);for(q.max_code=ce,a=v.heap_len>>1;a>=1;a--)Se(v,Z,a);e=z;do a=v.heap[1],v.heap[1]=v.heap[v.heap_len--],Se(v,Z,1),U=v.heap[1],v.heap[--v.heap_max]=a,v.heap[--v.heap_max]=U,Z[e*2]=Z[a*2]+Z[U*2],v.depth[e]=(v.depth[a]>=v.depth[U]?v.depth[a]:v.depth[U])+1,Z[a*2+1]=Z[U*2+1]=e,v.heap[1]=e++,Se(v,Z,1);while(v.heap_len>=2);v.heap[--v.heap_max]=v.heap[1],H(v,q),de(Z,ce,v.bl_count)}function $e(v,q,Z){var Q,T=-1,z,a=q[0*2+1],U=0,ce=7,e=4;for(a===0&&(ce=138,e=3),q[(Z+1)*2+1]=65535,Q=0;Q<=Z;Q++)z=a,a=q[(Q+1)*2+1],!(++U<ce&&z===a)&&(U<e?v.bl_tree[z*2]+=U:z!==0?(z!==T&&v.bl_tree[z*2]++,v.bl_tree[B*2]++):U<=10?v.bl_tree[$*2]++:v.bl_tree[P*2]++,U=0,T=z,a===0?(ce=138,e=3):z===a?(ce=6,e=3):(ce=7,e=4))}function Me(v,q,Z){var Q,T=-1,z,a=q[0*2+1],U=0,ce=7,e=4;for(a===0&&(ce=138,e=3),Q=0;Q<=Z;Q++)if(z=a,a=q[(Q+1)*2+1],!(++U<ce&&z===a)){if(U<e)do w(v,z,v.bl_tree);while(--U!==0);else z!==0?(z!==T&&(w(v,z,v.bl_tree),U--),w(v,B,v.bl_tree),pe(v,U-3,2)):U<=10?(w(v,$,v.bl_tree),pe(v,U-3,3)):(w(v,P,v.bl_tree),pe(v,U-11,7));U=0,T=z,a===0?(ce=138,e=3):z===a?(ce=6,e=3):(ce=7,e=4)}}function F(v){var q;for($e(v,v.dyn_ltree,v.l_desc.max_code),$e(v,v.dyn_dtree,v.d_desc.max_code),Oe(v,v.bl_desc),q=S-1;q>=3&&v.bl_tree[le[q]*2+1]===0;q--);return v.opt_len+=3*(q+1)+5+5+4,q}function M(v,q,Z,Q){var T;for(pe(v,q-257,5),pe(v,Z-1,5),pe(v,Q-4,4),T=0;T<Q;T++)pe(v,v.bl_tree[le[T]*2+1],3);Me(v,v.dyn_ltree,q-1),Me(v,v.dyn_dtree,Z-1)}function W(v){var q=4093624447,Z;for(Z=0;Z<=31;Z++,q>>>=1)if(q&1&&v.dyn_ltree[Z*2]!==0)return f;if(v.dyn_ltree[9*2]!==0||v.dyn_ltree[10*2]!==0||v.dyn_ltree[13*2]!==0)return t;for(Z=32;Z<r;Z++)if(v.dyn_ltree[Z*2]!==0)return t;return f}var V=!1;function be(v){V||(G(),V=!0),v.l_desc=new ne(v.dyn_ltree,te),v.d_desc=new ne(v.dyn_dtree,ae),v.bl_desc=new ne(v.bl_tree,se),v.bi_buf=0,v.bi_valid=0,fe(v)}function _e(v,q,Z,Q){pe(v,(n<<1)+(Q?1:0),3),Ie(v,q,Z)}function Ee(v){pe(v,p<<1,3),w(v,O,Y),j(v)}function Ce(v,q,Z,Q){var T,z,a=0;v.level>0?(v.strm.data_type===y&&(v.strm.data_type=W(v)),Oe(v,v.l_desc),Oe(v,v.d_desc),a=F(v),T=v.opt_len+3+7>>>3,z=v.static_len+3+7>>>3,z<=T&&(T=z)):T=z=Z+5,Z+4<=T&&q!==-1?_e(v,q,Z,Q):v.strategy===s||z===T?(pe(v,(p<<1)+(Q?1:0),3),re(v,Y,ee)):(pe(v,(c<<1)+(Q?1:0),3),M(v,v.l_desc.max_code+1,v.d_desc.max_code+1,a+1),re(v,v.dyn_ltree,v.dyn_dtree)),fe(v),Q&&je(v)}function rt(v,q,Z){return v.pending_buf[v.d_buf+v.last_lit*2]=q>>>8&255,v.pending_buf[v.d_buf+v.last_lit*2+1]=q&255,v.pending_buf[v.l_buf+v.last_lit]=Z&255,v.last_lit++,q===0?v.dyn_ltree[Z*2]++:(v.matches++,q--,v.dyn_ltree[(ke[Z]+r+1)*2]++,v.dyn_dtree[we(q)*2]++),v.last_lit===v.lit_bufsize-1}return ot._tr_init=be,ot._tr_stored_block=_e,ot._tr_flush_block=Ce,ot._tr_tally=rt,ot._tr_align=Ee,ot}var dr,Pi;function Ln(){if(Pi)return dr;Pi=1;function i(s,f,t,y){for(var o=s&65535|0,n=s>>>16&65535|0,p=0;t!==0;){p=t>2e3?2e3:t,t-=p;do o=o+f[y++]|0,n=n+o|0;while(--p);o%=65521,n%=65521}return o|n<<16|0}return dr=i,dr}var pr,Mi;function Pn(){if(Mi)return pr;Mi=1;function i(){for(var t,y=[],o=0;o<256;o++){t=o;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;y[o]=t}return y}var s=i();function f(t,y,o,n){var p=s,c=n+o;t^=-1;for(var x=n;x<c;x++)t=t>>>8^p[(t^y[x])&255];return t^-1}return pr=f,pr}var vr,ji;function Yr(){return ji||(ji=1,vr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),vr}var qi;function Aa(){if(qi)return Xe;qi=1;var i=at(),s=Ta(),f=Ln(),t=Pn(),y=Yr(),o=0,n=1,p=3,c=4,x=5,_=0,d=1,r=-2,h=-3,m=-5,S=-1,C=1,u=2,g=3,k=4,O=0,B=2,$=8,P=9,X=15,ue=8,oe=29,le=256,he=le+1+oe,Y=30,ee=19,ye=2*he+1,ke=15,R=3,A=258,L=A+R+1,te=32,ae=42,se=69,ne=73,we=91,xe=103,pe=113,w=666,b=1,j=2,H=3,de=4,G=3;function fe(e,I){return e.msg=y[I],I}function je(e){return(e<<1)-(e>4?9:0)}function Ie(e){for(var I=e.length;--I>=0;)e[I]=0}function Fe(e){var I=e.state,N=I.pending;N>e.avail_out&&(N=e.avail_out),N!==0&&(i.arraySet(e.output,I.pending_buf,I.pending_out,N,e.next_out),e.next_out+=N,I.pending_out+=N,e.total_out+=N,e.avail_out-=N,I.pending-=N,I.pending===0&&(I.pending_out=0))}function Se(e,I){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,I),e.block_start=e.strstart,Fe(e.strm)}function re(e,I){e.pending_buf[e.pending++]=I}function Oe(e,I){e.pending_buf[e.pending++]=I>>>8&255,e.pending_buf[e.pending++]=I&255}function $e(e,I,N,l){var E=e.avail_in;return E>l&&(E=l),E===0?0:(e.avail_in-=E,i.arraySet(I,e.input,e.next_in,E,N),e.state.wrap===1?e.adler=f(e.adler,I,E,N):e.state.wrap===2&&(e.adler=t(e.adler,I,E,N)),e.next_in+=E,e.total_in+=E,E)}function Me(e,I){var N=e.max_chain_length,l=e.strstart,E,D,ie=e.prev_length,K=e.nice_match,J=e.strstart>e.w_size-L?e.strstart-(e.w_size-L):0,ge=e.window,et=e.w_mask,Re=e.prev,me=e.strstart+A,Be=ge[l+ie-1],Pe=ge[l+ie];e.prev_length>=e.good_match&&(N>>=2),K>e.lookahead&&(K=e.lookahead);do if(E=I,!(ge[E+ie]!==Pe||ge[E+ie-1]!==Be||ge[E]!==ge[l]||ge[++E]!==ge[l+1])){l+=2,E++;do;while(ge[++l]===ge[++E]&&ge[++l]===ge[++E]&&ge[++l]===ge[++E]&&ge[++l]===ge[++E]&&ge[++l]===ge[++E]&&ge[++l]===ge[++E]&&ge[++l]===ge[++E]&&ge[++l]===ge[++E]&&l<me);if(D=A-(me-l),l=me-A,D>ie){if(e.match_start=I,ie=D,D>=K)break;Be=ge[l+ie-1],Pe=ge[l+ie]}}while((I=Re[I&et])>J&&--N!==0);return ie<=e.lookahead?ie:e.lookahead}function F(e){var I=e.w_size,N,l,E,D,ie;do{if(D=e.window_size-e.lookahead-e.strstart,e.strstart>=I+(I-L)){i.arraySet(e.window,e.window,I,I,0),e.match_start-=I,e.strstart-=I,e.block_start-=I,l=e.hash_size,N=l;do E=e.head[--N],e.head[N]=E>=I?E-I:0;while(--l);l=I,N=l;do E=e.prev[--N],e.prev[N]=E>=I?E-I:0;while(--l);D+=I}if(e.strm.avail_in===0)break;if(l=$e(e.strm,e.window,e.strstart+e.lookahead,D),e.lookahead+=l,e.lookahead+e.insert>=R)for(ie=e.strstart-e.insert,e.ins_h=e.window[ie],e.ins_h=(e.ins_h<<e.hash_shift^e.window[ie+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[ie+R-1])&e.hash_mask,e.prev[ie&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=ie,ie++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<L&&e.strm.avail_in!==0)}function M(e,I){var N=65535;for(N>e.pending_buf_size-5&&(N=e.pending_buf_size-5);;){if(e.lookahead<=1){if(F(e),e.lookahead===0&&I===o)return b;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var l=e.block_start+N;if((e.strstart===0||e.strstart>=l)&&(e.lookahead=e.strstart-l,e.strstart=l,Se(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-L&&(Se(e,!1),e.strm.avail_out===0))return b}return e.insert=0,I===c?(Se(e,!0),e.strm.avail_out===0?H:de):(e.strstart>e.block_start&&(Se(e,!1),e.strm.avail_out===0),b)}function W(e,I){for(var N,l;;){if(e.lookahead<L){if(F(e),e.lookahead<L&&I===o)return b;if(e.lookahead===0)break}if(N=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),N!==0&&e.strstart-N<=e.w_size-L&&(e.match_length=Me(e,N)),e.match_length>=R)if(l=s._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else l=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(l&&(Se(e,!1),e.strm.avail_out===0))return b}return e.insert=e.strstart<R-1?e.strstart:R-1,I===c?(Se(e,!0),e.strm.avail_out===0?H:de):e.last_lit&&(Se(e,!1),e.strm.avail_out===0)?b:j}function V(e,I){for(var N,l,E;;){if(e.lookahead<L){if(F(e),e.lookahead<L&&I===o)return b;if(e.lookahead===0)break}if(N=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,N!==0&&e.prev_length<e.max_lazy_match&&e.strstart-N<=e.w_size-L&&(e.match_length=Me(e,N),e.match_length<=5&&(e.strategy===C||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){E=e.strstart+e.lookahead-R,l=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=E&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=R-1,e.strstart++,l&&(Se(e,!1),e.strm.avail_out===0))return b}else if(e.match_available){if(l=s._tr_tally(e,0,e.window[e.strstart-1]),l&&Se(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return b}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(l=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,I===c?(Se(e,!0),e.strm.avail_out===0?H:de):e.last_lit&&(Se(e,!1),e.strm.avail_out===0)?b:j}function be(e,I){for(var N,l,E,D,ie=e.window;;){if(e.lookahead<=A){if(F(e),e.lookahead<=A&&I===o)return b;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(E=e.strstart-1,l=ie[E],l===ie[++E]&&l===ie[++E]&&l===ie[++E])){D=e.strstart+A;do;while(l===ie[++E]&&l===ie[++E]&&l===ie[++E]&&l===ie[++E]&&l===ie[++E]&&l===ie[++E]&&l===ie[++E]&&l===ie[++E]&&E<D);e.match_length=A-(D-E),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(N=s._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(N=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),N&&(Se(e,!1),e.strm.avail_out===0))return b}return e.insert=0,I===c?(Se(e,!0),e.strm.avail_out===0?H:de):e.last_lit&&(Se(e,!1),e.strm.avail_out===0)?b:j}function _e(e,I){for(var N;;){if(e.lookahead===0&&(F(e),e.lookahead===0)){if(I===o)return b;break}if(e.match_length=0,N=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,N&&(Se(e,!1),e.strm.avail_out===0))return b}return e.insert=0,I===c?(Se(e,!0),e.strm.avail_out===0?H:de):e.last_lit&&(Se(e,!1),e.strm.avail_out===0)?b:j}function Ee(e,I,N,l,E){this.good_length=e,this.max_lazy=I,this.nice_length=N,this.max_chain=l,this.func=E}var Ce;Ce=[new Ee(0,0,0,0,M),new Ee(4,4,8,4,W),new Ee(4,5,16,8,W),new Ee(4,6,32,32,W),new Ee(4,4,16,16,V),new Ee(8,16,32,32,V),new Ee(8,16,128,128,V),new Ee(8,32,128,256,V),new Ee(32,128,258,1024,V),new Ee(32,258,258,4096,V)];function rt(e){e.window_size=2*e.w_size,Ie(e.head),e.max_lazy_match=Ce[e.level].max_lazy,e.good_match=Ce[e.level].good_length,e.nice_match=Ce[e.level].nice_length,e.max_chain_length=Ce[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(ye*2),this.dyn_dtree=new i.Buf16((2*Y+1)*2),this.bl_tree=new i.Buf16((2*ee+1)*2),Ie(this.dyn_ltree),Ie(this.dyn_dtree),Ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(ke+1),this.heap=new i.Buf16(2*he+1),Ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*he+1),Ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var I;return!e||!e.state?fe(e,r):(e.total_in=e.total_out=0,e.data_type=B,I=e.state,I.pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?ae:pe,e.adler=I.wrap===2?0:1,I.last_flush=o,s._tr_init(I),_)}function Z(e){var I=q(e);return I===_&&rt(e.state),I}function Q(e,I){return!e||!e.state||e.state.wrap!==2?r:(e.state.gzhead=I,_)}function T(e,I,N,l,E,D){if(!e)return r;var ie=1;if(I===S&&(I=6),l<0?(ie=0,l=-l):l>15&&(ie=2,l-=16),E<1||E>P||N!==$||l<8||l>15||I<0||I>9||D<0||D>k)return fe(e,r);l===8&&(l=9);var K=new v;return e.state=K,K.strm=e,K.wrap=ie,K.gzhead=null,K.w_bits=l,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=E+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+R-1)/R),K.window=new i.Buf8(K.w_size*2),K.head=new i.Buf16(K.hash_size),K.prev=new i.Buf16(K.w_size),K.lit_bufsize=1<<E+6,K.pending_buf_size=K.lit_bufsize*4,K.pending_buf=new i.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=I,K.strategy=D,K.method=N,Z(e)}function z(e,I){return T(e,I,$,X,ue,O)}function a(e,I){var N,l,E,D;if(!e||!e.state||I>x||I<0)return e?fe(e,r):r;if(l=e.state,!e.output||!e.input&&e.avail_in!==0||l.status===w&&I!==c)return fe(e,e.avail_out===0?m:r);if(l.strm=e,N=l.last_flush,l.last_flush=I,l.status===ae)if(l.wrap===2)e.adler=0,re(l,31),re(l,139),re(l,8),l.gzhead?(re(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),re(l,l.gzhead.time&255),re(l,l.gzhead.time>>8&255),re(l,l.gzhead.time>>16&255),re(l,l.gzhead.time>>24&255),re(l,l.level===9?2:l.strategy>=u||l.level<2?4:0),re(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(re(l,l.gzhead.extra.length&255),re(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=t(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=se):(re(l,0),re(l,0),re(l,0),re(l,0),re(l,0),re(l,l.level===9?2:l.strategy>=u||l.level<2?4:0),re(l,G),l.status=pe);else{var ie=$+(l.w_bits-8<<4)<<8,K=-1;l.strategy>=u||l.level<2?K=0:l.level<6?K=1:l.level===6?K=2:K=3,ie|=K<<6,l.strstart!==0&&(ie|=te),ie+=31-ie%31,l.status=pe,Oe(l,ie),l.strstart!==0&&(Oe(l,e.adler>>>16),Oe(l,e.adler&65535)),e.adler=1}if(l.status===se)if(l.gzhead.extra){for(E=l.pending;l.gzindex<(l.gzhead.extra.length&65535)&&!(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>E&&(e.adler=t(e.adler,l.pending_buf,l.pending-E,E)),Fe(e),E=l.pending,l.pending===l.pending_buf_size));)re(l,l.gzhead.extra[l.gzindex]&255),l.gzindex++;l.gzhead.hcrc&&l.pending>E&&(e.adler=t(e.adler,l.pending_buf,l.pending-E,E)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=ne)}else l.status=ne;if(l.status===ne)if(l.gzhead.name){E=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>E&&(e.adler=t(e.adler,l.pending_buf,l.pending-E,E)),Fe(e),E=l.pending,l.pending===l.pending_buf_size)){D=1;break}l.gzindex<l.gzhead.name.length?D=l.gzhead.name.charCodeAt(l.gzindex++)&255:D=0,re(l,D)}while(D!==0);l.gzhead.hcrc&&l.pending>E&&(e.adler=t(e.adler,l.pending_buf,l.pending-E,E)),D===0&&(l.gzindex=0,l.status=we)}else l.status=we;if(l.status===we)if(l.gzhead.comment){E=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>E&&(e.adler=t(e.adler,l.pending_buf,l.pending-E,E)),Fe(e),E=l.pending,l.pending===l.pending_buf_size)){D=1;break}l.gzindex<l.gzhead.comment.length?D=l.gzhead.comment.charCodeAt(l.gzindex++)&255:D=0,re(l,D)}while(D!==0);l.gzhead.hcrc&&l.pending>E&&(e.adler=t(e.adler,l.pending_buf,l.pending-E,E)),D===0&&(l.status=xe)}else l.status=xe;if(l.status===xe&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&Fe(e),l.pending+2<=l.pending_buf_size&&(re(l,e.adler&255),re(l,e.adler>>8&255),e.adler=0,l.status=pe)):l.status=pe),l.pending!==0){if(Fe(e),e.avail_out===0)return l.last_flush=-1,_}else if(e.avail_in===0&&je(I)<=je(N)&&I!==c)return fe(e,m);if(l.status===w&&e.avail_in!==0)return fe(e,m);if(e.avail_in!==0||l.lookahead!==0||I!==o&&l.status!==w){var J=l.strategy===u?_e(l,I):l.strategy===g?be(l,I):Ce[l.level].func(l,I);if((J===H||J===de)&&(l.status=w),J===b||J===H)return e.avail_out===0&&(l.last_flush=-1),_;if(J===j&&(I===n?s._tr_align(l):I!==x&&(s._tr_stored_block(l,0,0,!1),I===p&&(Ie(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),Fe(e),e.avail_out===0))return l.last_flush=-1,_}return I!==c?_:l.wrap<=0?d:(l.wrap===2?(re(l,e.adler&255),re(l,e.adler>>8&255),re(l,e.adler>>16&255),re(l,e.adler>>24&255),re(l,e.total_in&255),re(l,e.total_in>>8&255),re(l,e.total_in>>16&255),re(l,e.total_in>>24&255)):(Oe(l,e.adler>>>16),Oe(l,e.adler&65535)),Fe(e),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?_:d)}function U(e){var I;return!e||!e.state?r:(I=e.state.status,I!==ae&&I!==se&&I!==ne&&I!==we&&I!==xe&&I!==pe&&I!==w?fe(e,r):(e.state=null,I===pe?fe(e,h):_))}function ce(e,I){var N=I.length,l,E,D,ie,K,J,ge,et;if(!e||!e.state||(l=e.state,ie=l.wrap,ie===2||ie===1&&l.status!==ae||l.lookahead))return r;for(ie===1&&(e.adler=f(e.adler,I,N,0)),l.wrap=0,N>=l.w_size&&(ie===0&&(Ie(l.head),l.strstart=0,l.block_start=0,l.insert=0),et=new i.Buf8(l.w_size),i.arraySet(et,I,N-l.w_size,l.w_size,0),I=et,N=l.w_size),K=e.avail_in,J=e.next_in,ge=e.input,e.avail_in=N,e.next_in=0,e.input=I,F(l);l.lookahead>=R;){E=l.strstart,D=l.lookahead-(R-1);do l.ins_h=(l.ins_h<<l.hash_shift^l.window[E+R-1])&l.hash_mask,l.prev[E&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=E,E++;while(--D);l.strstart=E,l.lookahead=R-1,F(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=R-1,l.match_available=0,e.next_in=J,e.input=ge,e.avail_in=K,l.wrap=ie,_}return Xe.deflateInit=z,Xe.deflateInit2=T,Xe.deflateReset=Z,Xe.deflateResetKeep=q,Xe.deflateSetHeader=Q,Xe.deflate=a,Xe.deflateEnd=U,Xe.deflateSetDictionary=ce,Xe.deflateInfo="pako deflate (from Nodeca project)",Xe}var st={},Ui;function Mn(){if(Ui)return st;Ui=1;var i=at(),s=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var t=new i.Buf8(256),y=0;y<256;y++)t[y]=y>=252?6:y>=248?5:y>=240?4:y>=224?3:y>=192?2:1;t[254]=t[254]=1,st.string2buf=function(n){var p,c,x,_,d,r=n.length,h=0;for(_=0;_<r;_++)c=n.charCodeAt(_),(c&64512)===55296&&_+1<r&&(x=n.charCodeAt(_+1),(x&64512)===56320&&(c=65536+(c-55296<<10)+(x-56320),_++)),h+=c<128?1:c<2048?2:c<65536?3:4;for(p=new i.Buf8(h),d=0,_=0;d<h;_++)c=n.charCodeAt(_),(c&64512)===55296&&_+1<r&&(x=n.charCodeAt(_+1),(x&64512)===56320&&(c=65536+(c-55296<<10)+(x-56320),_++)),c<128?p[d++]=c:c<2048?(p[d++]=192|c>>>6,p[d++]=128|c&63):c<65536?(p[d++]=224|c>>>12,p[d++]=128|c>>>6&63,p[d++]=128|c&63):(p[d++]=240|c>>>18,p[d++]=128|c>>>12&63,p[d++]=128|c>>>6&63,p[d++]=128|c&63);return p};function o(n,p){if(p<65534&&(n.subarray&&f||!n.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(n,p));for(var c="",x=0;x<p;x++)c+=String.fromCharCode(n[x]);return c}return st.buf2binstring=function(n){return o(n,n.length)},st.binstring2buf=function(n){for(var p=new i.Buf8(n.length),c=0,x=p.length;c<x;c++)p[c]=n.charCodeAt(c);return p},st.buf2string=function(n,p){var c,x,_,d,r=p||n.length,h=new Array(r*2);for(x=0,c=0;c<r;){if(_=n[c++],_<128){h[x++]=_;continue}if(d=t[_],d>4){h[x++]=65533,c+=d-1;continue}for(_&=d===2?31:d===3?15:7;d>1&&c<r;)_=_<<6|n[c++]&63,d--;if(d>1){h[x++]=65533;continue}_<65536?h[x++]=_:(_-=65536,h[x++]=55296|_>>10&1023,h[x++]=56320|_&1023)}return o(h,x)},st.utf8border=function(n,p){var c;for(p=p||n.length,p>n.length&&(p=n.length),c=p-1;c>=0&&(n[c]&192)===128;)c--;return c<0||c===0?p:c+t[n[c]]>p?c:p},st}var _r,Zi;function jn(){if(Zi)return _r;Zi=1;function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return _r=i,_r}var Wi;function Oa(){if(Wi)return ft;Wi=1;var i=Aa(),s=at(),f=Mn(),t=Yr(),y=jn(),o=Object.prototype.toString,n=0,p=4,c=0,x=1,_=2,d=-1,r=0,h=8;function m(g){if(!(this instanceof m))return new m(g);this.options=s.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:r,to:""},g||{});var k=this.options;k.raw&&k.windowBits>0?k.windowBits=-k.windowBits:k.gzip&&k.windowBits>0&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var O=i.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(O!==c)throw new Error(t[O]);if(k.header&&i.deflateSetHeader(this.strm,k.header),k.dictionary){var B;if(typeof k.dictionary=="string"?B=f.string2buf(k.dictionary):o.call(k.dictionary)==="[object ArrayBuffer]"?B=new Uint8Array(k.dictionary):B=k.dictionary,O=i.deflateSetDictionary(this.strm,B),O!==c)throw new Error(t[O]);this._dict_set=!0}}m.prototype.push=function(g,k){var O=this.strm,B=this.options.chunkSize,$,P;if(this.ended)return!1;P=k===~~k?k:k===!0?p:n,typeof g=="string"?O.input=f.string2buf(g):o.call(g)==="[object ArrayBuffer]"?O.input=new Uint8Array(g):O.input=g,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new s.Buf8(B),O.next_out=0,O.avail_out=B),$=i.deflate(O,P),$!==x&&$!==c)return this.onEnd($),this.ended=!0,!1;(O.avail_out===0||O.avail_in===0&&(P===p||P===_))&&(this.options.to==="string"?this.onData(f.buf2binstring(s.shrinkBuf(O.output,O.next_out))):this.onData(s.shrinkBuf(O.output,O.next_out)))}while((O.avail_in>0||O.avail_out===0)&&$!==x);return P===p?($=i.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===c):(P===_&&(this.onEnd(c),O.avail_out=0),!0)},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function S(g,k){var O=new m(k);if(O.push(g,!0),O.err)throw O.msg||t[O.err];return O.result}function C(g,k){return k=k||{},k.raw=!0,S(g,k)}function u(g,k){return k=k||{},k.gzip=!0,S(g,k)}return ft.Deflate=m,ft.deflate=S,ft.deflateRaw=C,ft.gzip=u,ft}var lt={},Ye={},gr,$i;function Da(){if($i)return gr;$i=1;var i=30,s=12;return gr=function(t,y){var o,n,p,c,x,_,d,r,h,m,S,C,u,g,k,O,B,$,P,X,ue,oe,le,he,Y;o=t.state,n=t.next_in,he=t.input,p=n+(t.avail_in-5),c=t.next_out,Y=t.output,x=c-(y-t.avail_out),_=c+(t.avail_out-257),d=o.dmax,r=o.wsize,h=o.whave,m=o.wnext,S=o.window,C=o.hold,u=o.bits,g=o.lencode,k=o.distcode,O=(1<<o.lenbits)-1,B=(1<<o.distbits)-1;e:do{u<15&&(C+=he[n++]<<u,u+=8,C+=he[n++]<<u,u+=8),$=g[C&O];t:for(;;){if(P=$>>>24,C>>>=P,u-=P,P=$>>>16&255,P===0)Y[c++]=$&65535;else if(P&16){X=$&65535,P&=15,P&&(u<P&&(C+=he[n++]<<u,u+=8),X+=C&(1<<P)-1,C>>>=P,u-=P),u<15&&(C+=he[n++]<<u,u+=8,C+=he[n++]<<u,u+=8),$=k[C&B];r:for(;;){if(P=$>>>24,C>>>=P,u-=P,P=$>>>16&255,P&16){if(ue=$&65535,P&=15,u<P&&(C+=he[n++]<<u,u+=8,u<P&&(C+=he[n++]<<u,u+=8)),ue+=C&(1<<P)-1,ue>d){t.msg="invalid distance too far back",o.mode=i;break e}if(C>>>=P,u-=P,P=c-x,ue>P){if(P=ue-P,P>h&&o.sane){t.msg="invalid distance too far back",o.mode=i;break e}if(oe=0,le=S,m===0){if(oe+=r-P,P<X){X-=P;do Y[c++]=S[oe++];while(--P);oe=c-ue,le=Y}}else if(m<P){if(oe+=r+m-P,P-=m,P<X){X-=P;do Y[c++]=S[oe++];while(--P);if(oe=0,m<X){P=m,X-=P;do Y[c++]=S[oe++];while(--P);oe=c-ue,le=Y}}}else if(oe+=m-P,P<X){X-=P;do Y[c++]=S[oe++];while(--P);oe=c-ue,le=Y}for(;X>2;)Y[c++]=le[oe++],Y[c++]=le[oe++],Y[c++]=le[oe++],X-=3;X&&(Y[c++]=le[oe++],X>1&&(Y[c++]=le[oe++]))}else{oe=c-ue;do Y[c++]=Y[oe++],Y[c++]=Y[oe++],Y[c++]=Y[oe++],X-=3;while(X>2);X&&(Y[c++]=Y[oe++],X>1&&(Y[c++]=Y[oe++]))}}else if((P&64)===0){$=k[($&65535)+(C&(1<<P)-1)];continue r}else{t.msg="invalid distance code",o.mode=i;break e}break}}else if((P&64)===0){$=g[($&65535)+(C&(1<<P)-1)];continue t}else if(P&32){o.mode=s;break e}else{t.msg="invalid literal/length code",o.mode=i;break e}break}}while(n<p&&c<_);X=u>>3,n-=X,u-=X<<3,C&=(1<<u)-1,t.next_in=n,t.next_out=c,t.avail_in=n<p?5+(p-n):5-(n-p),t.avail_out=c<_?257+(_-c):257-(c-_),o.hold=C,o.bits=u},gr}var mr,Hi;function Ia(){if(Hi)return mr;Hi=1;var i=at(),s=15,f=852,t=592,y=0,o=1,n=2,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return mr=function(r,h,m,S,C,u,g,k){var O=k.bits,B=0,$=0,P=0,X=0,ue=0,oe=0,le=0,he=0,Y=0,ee=0,ye,ke,R,A,L,te=null,ae=0,se,ne=new i.Buf16(s+1),we=new i.Buf16(s+1),xe=null,pe=0,w,b,j;for(B=0;B<=s;B++)ne[B]=0;for($=0;$<S;$++)ne[h[m+$]]++;for(ue=O,X=s;X>=1&&ne[X]===0;X--);if(ue>X&&(ue=X),X===0)return C[u++]=1<<24|64<<16|0,C[u++]=1<<24|64<<16|0,k.bits=1,0;for(P=1;P<X&&ne[P]===0;P++);for(ue<P&&(ue=P),he=1,B=1;B<=s;B++)if(he<<=1,he-=ne[B],he<0)return-1;if(he>0&&(r===y||X!==1))return-1;for(we[1]=0,B=1;B<s;B++)we[B+1]=we[B]+ne[B];for($=0;$<S;$++)h[m+$]!==0&&(g[we[h[m+$]]++]=$);if(r===y?(te=xe=g,se=19):r===o?(te=p,ae-=257,xe=c,pe-=257,se=256):(te=x,xe=_,se=-1),ee=0,$=0,B=P,L=u,oe=ue,le=0,R=-1,Y=1<<ue,A=Y-1,r===o&&Y>f||r===n&&Y>t)return 1;for(;;){w=B-le,g[$]<se?(b=0,j=g[$]):g[$]>se?(b=xe[pe+g[$]],j=te[ae+g[$]]):(b=96,j=0),ye=1<<B-le,ke=1<<oe,P=ke;do ke-=ye,C[L+(ee>>le)+ke]=w<<24|b<<16|j|0;while(ke!==0);for(ye=1<<B-1;ee&ye;)ye>>=1;if(ye!==0?(ee&=ye-1,ee+=ye):ee=0,$++,--ne[B]===0){if(B===X)break;B=h[m+g[$]]}if(B>ue&&(ee&A)!==R){for(le===0&&(le=ue),L+=P,oe=B-le,he=1<<oe;oe+le<X&&(he-=ne[oe+le],!(he<=0));)oe++,he<<=1;if(Y+=1<<oe,r===o&&Y>f||r===n&&Y>t)return 1;R=ee&A,C[R]=ue<<24|oe<<16|L-u|0}}return ee!==0&&(C[L+ee]=B-le<<24|64<<16|0),k.bits=ue,0},mr}var Gi;function Fa(){if(Gi)return Ye;Gi=1;var i=at(),s=Ln(),f=Pn(),t=Da(),y=Ia(),o=0,n=1,p=2,c=4,x=5,_=6,d=0,r=1,h=2,m=-2,S=-3,C=-4,u=-5,g=8,k=1,O=2,B=3,$=4,P=5,X=6,ue=7,oe=8,le=9,he=10,Y=11,ee=12,ye=13,ke=14,R=15,A=16,L=17,te=18,ae=19,se=20,ne=21,we=22,xe=23,pe=24,w=25,b=26,j=27,H=28,de=29,G=30,fe=31,je=32,Ie=852,Fe=592,Se=15,re=Se;function Oe(T){return(T>>>24&255)+(T>>>8&65280)+((T&65280)<<8)+((T&255)<<24)}function $e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Me(T){var z;return!T||!T.state?m:(z=T.state,T.total_in=T.total_out=z.total=0,T.msg="",z.wrap&&(T.adler=z.wrap&1),z.mode=k,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new i.Buf32(Ie),z.distcode=z.distdyn=new i.Buf32(Fe),z.sane=1,z.back=-1,d)}function F(T){var z;return!T||!T.state?m:(z=T.state,z.wsize=0,z.whave=0,z.wnext=0,Me(T))}function M(T,z){var a,U;return!T||!T.state||(U=T.state,z<0?(a=0,z=-z):(a=(z>>4)+1,z<48&&(z&=15)),z&&(z<8||z>15))?m:(U.window!==null&&U.wbits!==z&&(U.window=null),U.wrap=a,U.wbits=z,F(T))}function W(T,z){var a,U;return T?(U=new $e,T.state=U,U.window=null,a=M(T,z),a!==d&&(T.state=null),a):m}function V(T){return W(T,re)}var be=!0,_e,Ee;function Ce(T){if(be){var z;for(_e=new i.Buf32(512),Ee=new i.Buf32(32),z=0;z<144;)T.lens[z++]=8;for(;z<256;)T.lens[z++]=9;for(;z<280;)T.lens[z++]=7;for(;z<288;)T.lens[z++]=8;for(y(n,T.lens,0,288,_e,0,T.work,{bits:9}),z=0;z<32;)T.lens[z++]=5;y(p,T.lens,0,32,Ee,0,T.work,{bits:5}),be=!1}T.lencode=_e,T.lenbits=9,T.distcode=Ee,T.distbits=5}function rt(T,z,a,U){var ce,e=T.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new i.Buf8(e.wsize)),U>=e.wsize?(i.arraySet(e.window,z,a-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(ce=e.wsize-e.wnext,ce>U&&(ce=U),i.arraySet(e.window,z,a-U,ce,e.wnext),U-=ce,U?(i.arraySet(e.window,z,a-U,U,0),e.wnext=U,e.whave=e.wsize):(e.wnext+=ce,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=ce))),0}function v(T,z){var a,U,ce,e,I,N,l,E,D,ie,K,J,ge,et,Re=0,me,Be,Pe,qe,bt,yt,De,He,Ne=new i.Buf8(4),tt,Qe,Kr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return m;a=T.state,a.mode===ee&&(a.mode=ye),I=T.next_out,ce=T.output,l=T.avail_out,e=T.next_in,U=T.input,N=T.avail_in,E=a.hold,D=a.bits,ie=N,K=l,He=d;e:for(;;)switch(a.mode){case k:if(a.wrap===0){a.mode=ye;break}for(;D<16;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(a.wrap&2&&E===35615){a.check=0,Ne[0]=E&255,Ne[1]=E>>>8&255,a.check=f(a.check,Ne,2,0),E=0,D=0,a.mode=O;break}if(a.flags=0,a.head&&(a.head.done=!1),!(a.wrap&1)||(((E&255)<<8)+(E>>8))%31){T.msg="incorrect header check",a.mode=G;break}if((E&15)!==g){T.msg="unknown compression method",a.mode=G;break}if(E>>>=4,D-=4,De=(E&15)+8,a.wbits===0)a.wbits=De;else if(De>a.wbits){T.msg="invalid window size",a.mode=G;break}a.dmax=1<<De,T.adler=a.check=1,a.mode=E&512?he:ee,E=0,D=0;break;case O:for(;D<16;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(a.flags=E,(a.flags&255)!==g){T.msg="unknown compression method",a.mode=G;break}if(a.flags&57344){T.msg="unknown header flags set",a.mode=G;break}a.head&&(a.head.text=E>>8&1),a.flags&512&&(Ne[0]=E&255,Ne[1]=E>>>8&255,a.check=f(a.check,Ne,2,0)),E=0,D=0,a.mode=B;case B:for(;D<32;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}a.head&&(a.head.time=E),a.flags&512&&(Ne[0]=E&255,Ne[1]=E>>>8&255,Ne[2]=E>>>16&255,Ne[3]=E>>>24&255,a.check=f(a.check,Ne,4,0)),E=0,D=0,a.mode=$;case $:for(;D<16;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}a.head&&(a.head.xflags=E&255,a.head.os=E>>8),a.flags&512&&(Ne[0]=E&255,Ne[1]=E>>>8&255,a.check=f(a.check,Ne,2,0)),E=0,D=0,a.mode=P;case P:if(a.flags&1024){for(;D<16;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}a.length=E,a.head&&(a.head.extra_len=E),a.flags&512&&(Ne[0]=E&255,Ne[1]=E>>>8&255,a.check=f(a.check,Ne,2,0)),E=0,D=0}else a.head&&(a.head.extra=null);a.mode=X;case X:if(a.flags&1024&&(J=a.length,J>N&&(J=N),J&&(a.head&&(De=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),i.arraySet(a.head.extra,U,e,J,De)),a.flags&512&&(a.check=f(a.check,U,J,e)),N-=J,e+=J,a.length-=J),a.length))break e;a.length=0,a.mode=ue;case ue:if(a.flags&2048){if(N===0)break e;J=0;do De=U[e+J++],a.head&&De&&a.length<65536&&(a.head.name+=String.fromCharCode(De));while(De&&J<N);if(a.flags&512&&(a.check=f(a.check,U,J,e)),N-=J,e+=J,De)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=oe;case oe:if(a.flags&4096){if(N===0)break e;J=0;do De=U[e+J++],a.head&&De&&a.length<65536&&(a.head.comment+=String.fromCharCode(De));while(De&&J<N);if(a.flags&512&&(a.check=f(a.check,U,J,e)),N-=J,e+=J,De)break e}else a.head&&(a.head.comment=null);a.mode=le;case le:if(a.flags&512){for(;D<16;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(E!==(a.check&65535)){T.msg="header crc mismatch",a.mode=G;break}E=0,D=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),T.adler=a.check=0,a.mode=ee;break;case he:for(;D<32;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}T.adler=a.check=Oe(E),E=0,D=0,a.mode=Y;case Y:if(a.havedict===0)return T.next_out=I,T.avail_out=l,T.next_in=e,T.avail_in=N,a.hold=E,a.bits=D,h;T.adler=a.check=1,a.mode=ee;case ee:if(z===x||z===_)break e;case ye:if(a.last){E>>>=D&7,D-=D&7,a.mode=j;break}for(;D<3;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}switch(a.last=E&1,E>>>=1,D-=1,E&3){case 0:a.mode=ke;break;case 1:if(Ce(a),a.mode=se,z===_){E>>>=2,D-=2;break e}break;case 2:a.mode=L;break;case 3:T.msg="invalid block type",a.mode=G}E>>>=2,D-=2;break;case ke:for(E>>>=D&7,D-=D&7;D<32;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if((E&65535)!==(E>>>16^65535)){T.msg="invalid stored block lengths",a.mode=G;break}if(a.length=E&65535,E=0,D=0,a.mode=R,z===_)break e;case R:a.mode=A;case A:if(J=a.length,J){if(J>N&&(J=N),J>l&&(J=l),J===0)break e;i.arraySet(ce,U,e,J,I),N-=J,e+=J,l-=J,I+=J,a.length-=J;break}a.mode=ee;break;case L:for(;D<14;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(a.nlen=(E&31)+257,E>>>=5,D-=5,a.ndist=(E&31)+1,E>>>=5,D-=5,a.ncode=(E&15)+4,E>>>=4,D-=4,a.nlen>286||a.ndist>30){T.msg="too many length or distance symbols",a.mode=G;break}a.have=0,a.mode=te;case te:for(;a.have<a.ncode;){for(;D<3;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}a.lens[Kr[a.have++]]=E&7,E>>>=3,D-=3}for(;a.have<19;)a.lens[Kr[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,tt={bits:a.lenbits},He=y(o,a.lens,0,19,a.lencode,0,a.work,tt),a.lenbits=tt.bits,He){T.msg="invalid code lengths set",a.mode=G;break}a.have=0,a.mode=ae;case ae:for(;a.have<a.nlen+a.ndist;){for(;Re=a.lencode[E&(1<<a.lenbits)-1],me=Re>>>24,Be=Re>>>16&255,Pe=Re&65535,!(me<=D);){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(Pe<16)E>>>=me,D-=me,a.lens[a.have++]=Pe;else{if(Pe===16){for(Qe=me+2;D<Qe;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(E>>>=me,D-=me,a.have===0){T.msg="invalid bit length repeat",a.mode=G;break}De=a.lens[a.have-1],J=3+(E&3),E>>>=2,D-=2}else if(Pe===17){for(Qe=me+3;D<Qe;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}E>>>=me,D-=me,De=0,J=3+(E&7),E>>>=3,D-=3}else{for(Qe=me+7;D<Qe;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}E>>>=me,D-=me,De=0,J=11+(E&127),E>>>=7,D-=7}if(a.have+J>a.nlen+a.ndist){T.msg="invalid bit length repeat",a.mode=G;break}for(;J--;)a.lens[a.have++]=De}}if(a.mode===G)break;if(a.lens[256]===0){T.msg="invalid code -- missing end-of-block",a.mode=G;break}if(a.lenbits=9,tt={bits:a.lenbits},He=y(n,a.lens,0,a.nlen,a.lencode,0,a.work,tt),a.lenbits=tt.bits,He){T.msg="invalid literal/lengths set",a.mode=G;break}if(a.distbits=6,a.distcode=a.distdyn,tt={bits:a.distbits},He=y(p,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,tt),a.distbits=tt.bits,He){T.msg="invalid distances set",a.mode=G;break}if(a.mode=se,z===_)break e;case se:a.mode=ne;case ne:if(N>=6&&l>=258){T.next_out=I,T.avail_out=l,T.next_in=e,T.avail_in=N,a.hold=E,a.bits=D,t(T,K),I=T.next_out,ce=T.output,l=T.avail_out,e=T.next_in,U=T.input,N=T.avail_in,E=a.hold,D=a.bits,a.mode===ee&&(a.back=-1);break}for(a.back=0;Re=a.lencode[E&(1<<a.lenbits)-1],me=Re>>>24,Be=Re>>>16&255,Pe=Re&65535,!(me<=D);){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(Be&&(Be&240)===0){for(qe=me,bt=Be,yt=Pe;Re=a.lencode[yt+((E&(1<<qe+bt)-1)>>qe)],me=Re>>>24,Be=Re>>>16&255,Pe=Re&65535,!(qe+me<=D);){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}E>>>=qe,D-=qe,a.back+=qe}if(E>>>=me,D-=me,a.back+=me,a.length=Pe,Be===0){a.mode=b;break}if(Be&32){a.back=-1,a.mode=ee;break}if(Be&64){T.msg="invalid literal/length code",a.mode=G;break}a.extra=Be&15,a.mode=we;case we:if(a.extra){for(Qe=a.extra;D<Qe;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}a.length+=E&(1<<a.extra)-1,E>>>=a.extra,D-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=xe;case xe:for(;Re=a.distcode[E&(1<<a.distbits)-1],me=Re>>>24,Be=Re>>>16&255,Pe=Re&65535,!(me<=D);){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if((Be&240)===0){for(qe=me,bt=Be,yt=Pe;Re=a.distcode[yt+((E&(1<<qe+bt)-1)>>qe)],me=Re>>>24,Be=Re>>>16&255,Pe=Re&65535,!(qe+me<=D);){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}E>>>=qe,D-=qe,a.back+=qe}if(E>>>=me,D-=me,a.back+=me,Be&64){T.msg="invalid distance code",a.mode=G;break}a.offset=Pe,a.extra=Be&15,a.mode=pe;case pe:if(a.extra){for(Qe=a.extra;D<Qe;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}a.offset+=E&(1<<a.extra)-1,E>>>=a.extra,D-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){T.msg="invalid distance too far back",a.mode=G;break}a.mode=w;case w:if(l===0)break e;if(J=K-l,a.offset>J){if(J=a.offset-J,J>a.whave&&a.sane){T.msg="invalid distance too far back",a.mode=G;break}J>a.wnext?(J-=a.wnext,ge=a.wsize-J):ge=a.wnext-J,J>a.length&&(J=a.length),et=a.window}else et=ce,ge=I-a.offset,J=a.length;J>l&&(J=l),l-=J,a.length-=J;do ce[I++]=et[ge++];while(--J);a.length===0&&(a.mode=ne);break;case b:if(l===0)break e;ce[I++]=a.length,l--,a.mode=ne;break;case j:if(a.wrap){for(;D<32;){if(N===0)break e;N--,E|=U[e++]<<D,D+=8}if(K-=l,T.total_out+=K,a.total+=K,K&&(T.adler=a.check=a.flags?f(a.check,ce,K,I-K):s(a.check,ce,K,I-K)),K=l,(a.flags?E:Oe(E))!==a.check){T.msg="incorrect data check",a.mode=G;break}E=0,D=0}a.mode=H;case H:if(a.wrap&&a.flags){for(;D<32;){if(N===0)break e;N--,E+=U[e++]<<D,D+=8}if(E!==(a.total&4294967295)){T.msg="incorrect length check",a.mode=G;break}E=0,D=0}a.mode=de;case de:He=r;break e;case G:He=S;break e;case fe:return C;case je:default:return m}return T.next_out=I,T.avail_out=l,T.next_in=e,T.avail_in=N,a.hold=E,a.bits=D,(a.wsize||K!==T.avail_out&&a.mode<G&&(a.mode<j||z!==c))&&rt(T,T.output,T.next_out,K-T.avail_out),ie-=T.avail_in,K-=T.avail_out,T.total_in+=ie,T.total_out+=K,a.total+=K,a.wrap&&K&&(T.adler=a.check=a.flags?f(a.check,ce,K,T.next_out-K):s(a.check,ce,K,T.next_out-K)),T.data_type=a.bits+(a.last?64:0)+(a.mode===ee?128:0)+(a.mode===se||a.mode===R?256:0),(ie===0&&K===0||z===c)&&He===d&&(He=u),He}function q(T){if(!T||!T.state)return m;var z=T.state;return z.window&&(z.window=null),T.state=null,d}function Z(T,z){var a;return!T||!T.state||(a=T.state,(a.wrap&2)===0)?m:(a.head=z,z.done=!1,d)}function Q(T,z){var a=z.length,U,ce,e;return!T||!T.state||(U=T.state,U.wrap!==0&&U.mode!==Y)?m:U.mode===Y&&(ce=1,ce=s(ce,z,a,0),ce!==U.check)?S:(e=rt(T,z,a,a),e?(U.mode=fe,C):(U.havedict=1,d))}return Ye.inflateReset=F,Ye.inflateReset2=M,Ye.inflateResetKeep=Me,Ye.inflateInit=V,Ye.inflateInit2=W,Ye.inflate=v,Ye.inflateEnd=q,Ye.inflateGetHeader=Z,Ye.inflateSetDictionary=Q,Ye.inflateInfo="pako inflate (from Nodeca project)",Ye}var wr,Yi;function qn(){return Yi||(Yi=1,wr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),wr}var br,Ki;function Ba(){if(Ki)return br;Ki=1;function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return br=i,br}var Xi;function Na(){if(Xi)return lt;Xi=1;var i=Fa(),s=at(),f=Mn(),t=qn(),y=Yr(),o=jn(),n=Ba(),p=Object.prototype.toString;function c(d){if(!(this instanceof c))return new c(d);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},d||{});var r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(d&&d.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(r.windowBits&15)===0&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var h=i.inflateInit2(this.strm,r.windowBits);if(h!==t.Z_OK)throw new Error(y[h]);if(this.header=new n,i.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=f.string2buf(r.dictionary):p.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(h=i.inflateSetDictionary(this.strm,r.dictionary),h!==t.Z_OK)))throw new Error(y[h])}c.prototype.push=function(d,r){var h=this.strm,m=this.options.chunkSize,S=this.options.dictionary,C,u,g,k,O,B=!1;if(this.ended)return!1;u=r===~~r?r:r===!0?t.Z_FINISH:t.Z_NO_FLUSH,typeof d=="string"?h.input=f.binstring2buf(d):p.call(d)==="[object ArrayBuffer]"?h.input=new Uint8Array(d):h.input=d,h.next_in=0,h.avail_in=h.input.length;do{if(h.avail_out===0&&(h.output=new s.Buf8(m),h.next_out=0,h.avail_out=m),C=i.inflate(h,t.Z_NO_FLUSH),C===t.Z_NEED_DICT&&S&&(C=i.inflateSetDictionary(this.strm,S)),C===t.Z_BUF_ERROR&&B===!0&&(C=t.Z_OK,B=!1),C!==t.Z_STREAM_END&&C!==t.Z_OK)return this.onEnd(C),this.ended=!0,!1;h.next_out&&(h.avail_out===0||C===t.Z_STREAM_END||h.avail_in===0&&(u===t.Z_FINISH||u===t.Z_SYNC_FLUSH))&&(this.options.to==="string"?(g=f.utf8border(h.output,h.next_out),k=h.next_out-g,O=f.buf2string(h.output,g),h.next_out=k,h.avail_out=m-k,k&&s.arraySet(h.output,h.output,g,k,0),this.onData(O)):this.onData(s.shrinkBuf(h.output,h.next_out))),h.avail_in===0&&h.avail_out===0&&(B=!0)}while((h.avail_in>0||h.avail_out===0)&&C!==t.Z_STREAM_END);return C===t.Z_STREAM_END&&(u=t.Z_FINISH),u===t.Z_FINISH?(C=i.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===t.Z_OK):(u===t.Z_SYNC_FLUSH&&(this.onEnd(t.Z_OK),h.avail_out=0),!0)},c.prototype.onData=function(d){this.chunks.push(d)},c.prototype.onEnd=function(d){d===t.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function x(d,r){var h=new c(r);if(h.push(d,!0),h.err)throw h.msg||y[h.err];return h.result}function _(d,r){return r=r||{},r.raw=!0,x(d,r)}return lt.Inflate=c,lt.inflate=x,lt.inflateRaw=_,lt.ungzip=x,lt}var yr,Vi;function za(){if(Vi)return yr;Vi=1;var i=at().assign,s=Oa(),f=Na(),t=qn(),y={};return i(y,s,f,t),yr=y,yr}var Ji;function La(){if(Ji)return dt;Ji=1;var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=za(),f=Te(),t=Ke(),y=i?"uint8array":"array";dt.magic="\b\0";function o(n,p){t.call(this,"FlateWorker/"+n),this._pako=null,this._pakoAction=n,this._pakoOptions=p,this.meta={}}return f.inherits(o,t),o.prototype.processChunk=function(n){this.meta=n.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(y,n.data),!1)},o.prototype.flush=function(){t.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){t.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var n=this;this._pako.onData=function(p){n.push({data:p,meta:n.meta})}},dt.compressWorker=function(n){return new o("Deflate",n)},dt.uncompressWorker=function(){return new o("Inflate",{})},dt}var Qi;function Un(){if(Qi)return Tt;Qi=1;var i=Ke();return Tt.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},Tt.DEFLATE=La(),Tt}var it={},en;function Zn(){return en||(en=1,it.LOCAL_FILE_HEADER="PK",it.CENTRAL_FILE_HEADER="PK",it.CENTRAL_DIRECTORY_END="PK",it.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",it.ZIP64_CENTRAL_DIRECTORY_END="PK",it.DATA_DESCRIPTOR="PK\x07\b"),it}var xr,tn;function Pa(){if(tn)return xr;tn=1;var i=Te(),s=Ke(),f=wt(),t=Hr(),y=Zn(),o=function(r,h){var m="",S;for(S=0;S<h;S++)m+=String.fromCharCode(r&255),r=r>>>8;return m},n=function(r,h){var m=r;return r||(m=h?16893:33204),(m&65535)<<16},p=function(r){return(r||0)&63},c=function(r,h,m,S,C,u){var g=r.file,k=r.compression,O=u!==f.utf8encode,B=i.transformTo("string",u(g.name)),$=i.transformTo("string",f.utf8encode(g.name)),P=g.comment,X=i.transformTo("string",u(P)),ue=i.transformTo("string",f.utf8encode(P)),oe=$.length!==g.name.length,le=ue.length!==P.length,he,Y,ee="",ye="",ke="",R=g.dir,A=g.date,L={crc32:0,compressedSize:0,uncompressedSize:0};(!h||m)&&(L.crc32=r.crc32,L.compressedSize=r.compressedSize,L.uncompressedSize=r.uncompressedSize);var te=0;h&&(te|=8),!O&&(oe||le)&&(te|=2048);var ae=0,se=0;R&&(ae|=16),C==="UNIX"?(se=798,ae|=n(g.unixPermissions,R)):(se=20,ae|=p(g.dosPermissions)),he=A.getUTCHours(),he=he<<6,he=he|A.getUTCMinutes(),he=he<<5,he=he|A.getUTCSeconds()/2,Y=A.getUTCFullYear()-1980,Y=Y<<4,Y=Y|A.getUTCMonth()+1,Y=Y<<5,Y=Y|A.getUTCDate(),oe&&(ye=o(1,1)+o(t(B),4)+$,ee+="up"+o(ye.length,2)+ye),le&&(ke=o(1,1)+o(t(X),4)+ue,ee+="uc"+o(ke.length,2)+ke);var ne="";ne+=`
\0`,ne+=o(te,2),ne+=k.magic,ne+=o(he,2),ne+=o(Y,2),ne+=o(L.crc32,4),ne+=o(L.compressedSize,4),ne+=o(L.uncompressedSize,4),ne+=o(B.length,2),ne+=o(ee.length,2);var we=y.LOCAL_FILE_HEADER+ne+B+ee,xe=y.CENTRAL_FILE_HEADER+o(se,2)+ne+o(X.length,2)+"\0\0\0\0"+o(ae,4)+o(S,4)+B+ee+X;return{fileRecord:we,dirRecord:xe}},x=function(r,h,m,S,C){var u="",g=i.transformTo("string",C(S));return u=y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(r,2)+o(r,2)+o(h,4)+o(m,4)+o(g.length,2)+g,u},_=function(r){var h="";return h=y.DATA_DESCRIPTOR+o(r.crc32,4)+o(r.compressedSize,4)+o(r.uncompressedSize,4),h};function d(r,h,m,S){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=m,this.encodeFileName=S,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}return i.inherits(d,s),d.prototype.push=function(r){var h=r.meta.percent||0,m=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,s.prototype.push.call(this,{data:r.data,meta:{currentFile:this.currentFile,percent:m?(h+100*(m-S-1))/m:100}}))},d.prototype.openedSource=function(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var h=this.streamFiles&&!r.file.dir;if(h){var m=c(r,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(r){this.accumulate=!1;var h=this.streamFiles&&!r.file.dir,m=c(r,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),h)this.push({data:_(r),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var r=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var m=this.bytesWritten-r,S=x(this.dirRecords.length,m,r,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(r){this._sources.push(r);var h=this;return r.on("data",function(m){h.processChunk(m)}),r.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),r.on("error",function(m){h.error(m)}),this},d.prototype.resume=function(){if(!s.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},d.prototype.error=function(r){var h=this._sources;if(!s.prototype.error.call(this,r))return!1;for(var m=0;m<h.length;m++)try{h[m].error(r)}catch{}return!0},d.prototype.lock=function(){s.prototype.lock.call(this);for(var r=this._sources,h=0;h<r.length;h++)r[h].lock()},xr=d,xr}var rn;function Ma(){if(rn)return hr;rn=1;var i=Un(),s=Pa(),f=function(t,y){var o=t||y,n=i[o];if(!n)throw new Error(o+" is not a valid compression method !");return n};return hr.generateWorker=function(t,y,o){var n=new s(y.streamFiles,o,y.platform,y.encodeFileName),p=0;try{t.forEach(function(c,x){p++;var _=f(x.options.compression,y.compression),d=x.options.compressionOptions||y.compressionOptions||{},r=x.dir,h=x.date;x._compressWorker(_,d).withStreamInfo("file",{name:c,dir:r,date:h,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(n)}),n.entriesCount=p}catch(c){n.error(c)}return n},hr}var Sr,nn;function ja(){if(nn)return Sr;nn=1;var i=Te(),s=Ke();function f(t,y){s.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(y)}return i.inherits(f,s),f.prototype._bindStream=function(t){var y=this;this._stream=t,t.pause(),t.on("data",function(o){y.push({data:o,meta:{percent:0}})}).on("error",function(o){y.isPaused?this.generatedError=o:y.error(o)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},f.prototype.pause=function(){return s.prototype.pause.call(this)?(this._stream.pause(),!0):!1},f.prototype.resume=function(){return s.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},Sr=f,Sr}var Er,an;function qa(){if(an)return Er;an=1;var i=wt(),s=Te(),f=Ke(),t=Fn(),y=Bn(),o=Gr(),n=Ra(),p=Ma(),c=Bt(),x=ja(),_=function(C,u,g){var k=s.getTypeOf(u),O,B=s.extend(g||{},y);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&B.unixPermissions&16384&&(B.dir=!0),B.dosPermissions&&B.dosPermissions&16&&(B.dir=!0),B.dir&&(C=r(C)),B.createFolders&&(O=d(C))&&h.call(this,O,!0);var $=k==="string"&&B.binary===!1&&B.base64===!1;(!g||typeof g.binary>"u")&&(B.binary=!$);var P=u instanceof o&&u.uncompressedSize===0;(P||B.dir||!u||u.length===0)&&(B.base64=!1,B.binary=!0,u="",B.compression="STORE",k="string");var X=null;u instanceof o||u instanceof f?X=u:c.isNode&&c.isStream(u)?X=new x(C,u):X=s.prepareContent(C,u,B.binary,B.optimizedBinaryString,B.base64);var ue=new n(C,X,B);this.files[C]=ue},d=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var u=C.lastIndexOf("/");return u>0?C.substring(0,u):""},r=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},h=function(C,u){return u=typeof u<"u"?u:y.createFolders,C=r(C),this.files[C]||_.call(this,C,null,{dir:!0,createFolders:u}),this.files[C]};function m(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var u,g,k;for(u in this.files)k=this.files[u],g=u.slice(this.root.length,u.length),g&&u.slice(0,this.root.length)===this.root&&C(g,k)},filter:function(C){var u=[];return this.forEach(function(g,k){C(g,k)&&u.push(k)}),u},file:function(C,u,g){if(arguments.length===1)if(m(C)){var k=C;return this.filter(function(B,$){return!$.dir&&k.test(B)})}else{var O=this.files[this.root+C];return O&&!O.dir?O:null}else C=this.root+C,_.call(this,C,u,g);return this},folder:function(C){if(!C)return this;if(m(C))return this.filter(function(O,B){return B.dir&&C.test(O)});var u=this.root+C,g=h.call(this,u),k=this.clone();return k.root=g.name,k},remove:function(C){C=this.root+C;var u=this.files[C];if(u||(C.slice(-1)!=="/"&&(C+="/"),u=this.files[C]),u&&!u.dir)delete this.files[C];else for(var g=this.filter(function(O,B){return B.name.slice(0,C.length)===C}),k=0;k<g.length;k++)delete this.files[g[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var u,g={};try{if(g=s.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode}),g.type=g.type.toLowerCase(),g.compression=g.compression.toUpperCase(),g.type==="binarystring"&&(g.type="string"),!g.type)throw new Error("No output type specified.");s.checkSupport(g.type),(g.platform==="darwin"||g.platform==="freebsd"||g.platform==="linux"||g.platform==="sunos")&&(g.platform="UNIX"),g.platform==="win32"&&(g.platform="DOS");var k=g.comment||this.comment||"";u=p.generateWorker(this,g,k)}catch(O){u=new f("error"),u.error(O)}return new t(u,g.type||"string",g.mimeType)},generateAsync:function(C,u){return this.generateInternalStream(C).accumulate(u)},generateNodeStream:function(C,u){return C=C||{},C.type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(u)}};return Er=S,Er}var kr,on;function Wn(){if(on)return kr;on=1;var i=Te();function s(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}return s.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var t=0,y;for(this.checkOffset(f),y=this.index+f-1;y>=this.index;y--)t=(t<<8)+this.byteAt(y);return this.index+=f,t},readString:function(f){return i.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC((f>>25&127)+1980,(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(f&31)<<1))}},kr=s,kr}var Cr,sn;function $n(){if(sn)return Cr;sn=1;var i=Wn(),s=Te();function f(t){i.call(this,t);for(var y=0;y<this.data.length;y++)t[y]=t[y]&255}return s.inherits(f,i),f.prototype.byteAt=function(t){return this.data[this.zero+t]},f.prototype.lastIndexOfSignature=function(t){for(var y=t.charCodeAt(0),o=t.charCodeAt(1),n=t.charCodeAt(2),p=t.charCodeAt(3),c=this.length-4;c>=0;--c)if(this.data[c]===y&&this.data[c+1]===o&&this.data[c+2]===n&&this.data[c+3]===p)return c-this.zero;return-1},f.prototype.readAndCheckSignature=function(t){var y=t.charCodeAt(0),o=t.charCodeAt(1),n=t.charCodeAt(2),p=t.charCodeAt(3),c=this.readData(4);return y===c[0]&&o===c[1]&&n===c[2]&&p===c[3]},f.prototype.readData=function(t){if(this.checkOffset(t),t===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,y},Cr=f,Cr}var Rr,fn;function Ua(){if(fn)return Rr;fn=1;var i=Wn(),s=Te();function f(t){i.call(this,t)}return s.inherits(f,i),f.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},f.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},f.prototype.readAndCheckSignature=function(t){var y=this.readData(4);return t===y},f.prototype.readData=function(t){this.checkOffset(t);var y=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,y},Rr=f,Rr}var Tr,ln;function Hn(){if(ln)return Tr;ln=1;var i=$n(),s=Te();function f(t){i.call(this,t)}return s.inherits(f,i),f.prototype.readData=function(t){if(this.checkOffset(t),t===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,y},Tr=f,Tr}var Ar,un;function Za(){if(un)return Ar;un=1;var i=Hn(),s=Te();function f(t){i.call(this,t)}return s.inherits(f,i),f.prototype.readData=function(t){this.checkOffset(t);var y=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,y},Ar=f,Ar}var Or,hn;function Gn(){if(hn)return Or;hn=1;var i=Te(),s=nt(),f=$n(),t=Ua(),y=Za(),o=Hn();return Or=function(n){var p=i.getTypeOf(n);return i.checkSupport(p),p==="string"&&!s.uint8array?new t(n):p==="nodebuffer"?new y(n):s.uint8array?new o(i.transformTo("uint8array",n)):new f(i.transformTo("array",n))},Or}var Dr,cn;function Wa(){if(cn)return Dr;cn=1;var i=Gn(),s=Te(),f=Gr(),t=Hr(),y=wt(),o=Un(),n=nt(),p=0,c=3,x=function(d){for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&o[r].magic===d)return o[r];return null};function _(d,r){this.options=d,this.loadOptions=r}return _.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(d){var r,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(r=x(this.compressionMethod),r===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,r,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var r=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(r),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),d===p&&(this.dosPermissions=this.externalFileAttributes&63),d===c&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var r=d.index+this.extraFieldsLength,h,m,S;for(this.extraFields||(this.extraFields={});d.index+4<r;)h=d.readInt(2),m=d.readInt(2),S=d.readData(m),this.extraFields[h]={id:h,length:m,value:S};d.setIndex(r)},handleUTF8:function(){var d=n.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var r=this.findExtraFieldUnicodePath();if(r!==null)this.fileNameStr=r;else{var h=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var S=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var r=i(d.value);return r.readInt(1)!==1||t(this.fileName)!==r.readInt(4)?null:y.utf8decode(r.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var r=i(d.value);return r.readInt(1)!==1||t(this.fileComment)!==r.readInt(4)?null:y.utf8decode(r.readData(d.length-5))}return null}},Dr=_,Dr}var Ir,dn;function $a(){if(dn)return Ir;dn=1;var i=Gn(),s=Te(),f=Zn(),t=Wa(),y=nt();function o(n){this.files=[],this.loadOptions=n}return o.prototype={checkSignature:function(n){if(!this.reader.readAndCheckSignature(n)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(n)+")")}},isSignature:function(n,p){var c=this.reader.index;this.reader.setIndex(n);var x=this.reader.readString(4),_=x===p;return this.reader.setIndex(c),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var n=this.reader.readData(this.zipCommentLength),p=y.uint8array?"uint8array":"array",c=s.transformTo(p,n);this.zipComment=this.loadOptions.decodeFileName(c)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var n=this.zip64EndOfCentralSize-44,p=0,c,x,_;p<n;)c=this.reader.readInt(2),x=this.reader.readInt(4),_=this.reader.readData(x),this.zip64ExtensibleData[c]={id:c,length:x,value:_}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var n,p;for(n=0;n<this.files.length;n++)p=this.files[n],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var n;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)n=new t({zip64:this.zip64},this.loadOptions),n.readCentralPart(this.reader),this.files.push(n);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var n=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(n<0){var p=!this.isSignature(0,f.LOCAL_FILE_HEADER);throw p?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(n);var c=n;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,n=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),n<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(n),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var _=c-x;if(_>0)this.isSignature(c,f.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(n){this.reader=i(n)},load:function(n){this.prepareReader(n),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Ir=o,Ir}var Fr,pn;function Ha(){if(pn)return Fr;pn=1;var i=Te(),s=mt(),f=wt(),t=$a(),y=zn(),o=Bt();function n(p){return new s.Promise(function(c,x){var _=p.decompressed.getContentWorker().pipe(new y);_.on("error",function(d){x(d)}).on("end",function(){_.streamInfo.crc32!==p.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):c()}).resume()})}return Fr=function(p,c){var x=this;return c=i.extend(c||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),o.isNode&&o.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",p,!0,c.optimizedBinaryString,c.base64).then(function(_){var d=new t(c);return d.load(_),d}).then(function(d){var r=[s.Promise.resolve(d)],h=d.files;if(c.checkCRC32)for(var m=0;m<h.length;m++)r.push(n(h[m]));return s.Promise.all(r)}).then(function(d){for(var r=d.shift(),h=r.files,m=0;m<h.length;m++){var S=h[m],C=S.fileNameStr,u=i.resolve(S.fileNameStr);x.file(u,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:c.createFolders}),S.dir||(x.file(u).unsafeOriginalName=C)}return r.zipComment.length&&(x.comment=r.zipComment),x})},Fr}var Br,vn;function Ga(){if(vn)return Br;vn=1;function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new i;for(var f in this)typeof this[f]!="function"&&(s[f]=this[f]);return s}}return i.prototype=qa(),i.prototype.loadAsync=Ha(),i.support=nt(),i.defaults=Bn(),i.version="3.10.1",i.loadAsync=function(s,f){return new i().loadAsync(s,f)},i.external=mt(),Br=i,Br}var Nr,_n;function Ya(){if(_n)return Nr;_n=1;var i=We,s=vt,f=parseInt("0777",8);Nr=t.mkdirp=t.mkdirP=t;function t(y,o,n,p){typeof o=="function"?(n=o,o={}):(!o||typeof o!="object")&&(o={mode:o});var c=o.mode,x=o.fs||s;c===void 0&&(c=f),p||(p=null);var _=n||function(){};y=i.resolve(y),x.mkdir(y,c,function(d){if(!d)return p=p||y,_(null,p);switch(d.code){case"ENOENT":if(i.dirname(y)===y)return _(d);t(i.dirname(y),o,function(r,h){r?_(r,h):t(y,o,_,h)});break;default:x.stat(y,function(r,h){r||!h.isDirectory()?_(d,p):_(null,p)});break}})}return t.sync=function y(o,n,p){(!n||typeof n!="object")&&(n={mode:n});var c=n.mode,x=n.fs||s;c===void 0&&(c=f),p||(p=null),o=i.resolve(o);try{x.mkdirSync(o,c),p=p||o}catch(d){switch(d.code){case"ENOENT":p=y(i.dirname(o),n,p),y(o,n,p);break;default:var _;try{_=x.statSync(o)}catch{throw d}if(!_.isDirectory())throw d;break}}return p},Nr}var zr={exports:{}},gn;function Ka(){return gn||(gn=1,function(){var i,s=null,f=typeof window=="object"?window:Le,t=!1,y=f.process,o=Array,n=Error,p=0,c=1,x=2,_="Symbol",d="iterator",r="species",h=_+"("+r+")",m="return",S="_uh",C="_pt",u="_st",g="Invalid this",k="Invalid argument",O=`
From previous `,B="Chaining cycle detected for promise",$="Uncaught (in promise)",P="rejectionHandled",X="unhandledRejection",ue,oe,le={e:s},he=function(){},Y=/^.+\/node_modules\/yaku\/.+\n?/mg,ee=zr.exports=function(M){var W=this,V;if(!R(W)||W._s!==i)throw pe(g);if(W._s=x,t&&(W[C]=w()),M!==he){if(!A(M))throw pe(k);V=ne(M)(fe(W,c),fe(W,p)),V===le&&re(W,p,V.e)}};ee.default=ee,ke(ee,{then:function(M,W){if(this._s===void 0)throw pe();return je(this,G(ee.speciesConstructor(this,ee)),M,W)},catch:function(F){return this.then(i,F)},_pCount:0,_pre:s,_Yaku:1}),ee.resolve=function(M){return de(M)?M:Oe(G(this),M)},ee.reject=function(M){return re(G(this),p,M)},ee.race=function(M){var W=this,V=G(W),be=function(Ce){re(V,c,Ce)},_e=function(Ce){re(V,p,Ce)},Ee=ne(xe)(M,function(Ce){W.resolve(Ce).then(be,_e)});return Ee===le?W.reject(Ee.e):V},ee.all=function(M){var W=this,V=G(W),be=[],_e;function Ee(Ce){re(V,p,Ce)}return _e=ne(xe)(M,function(Ce,rt){W.resolve(Ce).then(function(v){be[rt]=v,--_e||re(V,c,be)},Ee)}),_e===le?W.reject(_e.e):(_e||re(V,c,[]),V)},ee.Symbol=f[_]||{},ne(function(){Object.defineProperty(ee,ye(),{get:function(){return this}})})(),ee.speciesConstructor=function(F,M){var W=F.constructor;return W&&W[ye()]||M},ee.unhandledRejection=function(F,M){try{f.console.error($,t?M.longStack:Fe(F,M))}catch{}},ee.rejectionHandled=he,ee.enableLongStackTrace=function(){t=!0},ee.nextTick=y?y.nextTick:function(F){setTimeout(F)},ee._Yaku=1;function ye(){return ee[_][r]||h}function ke(F,M){for(var W in M)F.prototype[W]=M[W];return F}function R(F){return F&&typeof F=="object"}function A(F){return typeof F=="function"}function L(F,M){return F instanceof M}function te(F){return L(F,n)}function ae(F,M,W){if(!M(F))throw pe(W)}function se(){try{return ue.apply(oe,arguments)}catch(F){return le.e=F,le}}function ne(F,M){return ue=F,oe=M,se}function we(F,M){var W=o(F),V=0;function be(){for(var _e=0;_e<V;)M(W[_e],W[_e+1]),W[_e++]=i,W[_e++]=i;V=0,W.length>F&&(W.length=F)}return function(_e,Ee){W[V++]=_e,W[V++]=Ee,V===2&&ee.nextTick(be)}}function xe(F,M){var W,V=0,be,_e,Ee;if(!F)throw pe(k);var Ce=F[ee[_][d]];if(A(Ce))be=Ce.call(F);else if(A(F.next))be=F;else if(L(F,o)){for(W=F.length;V<W;)M(F[V],V++);return V}else throw pe(k);for(;!(_e=be.next()).done;)if(Ee=ne(M)(_e.value,V++),Ee===le)throw A(be[m])&&be[m](),Ee.e;return V}function pe(F){return new TypeError(F)}function w(F){return(F?"":O)+new n().stack}var b=we(999,function(F,M){var W,V;if(V=F._s?M._onFulfilled:M._onRejected,V===i){re(M,F._s,F._v);return}if(W=ne(Se)(V,F._v),W===le){re(M,p,W.e);return}Oe(M,W)}),j=we(9,function(F){Ie(F)||(F[S]=1,H(X,F))});function H(F,M){var W="on"+F.toLowerCase(),V=f[W];y&&y.listeners(F).length?F===X?y.emit(F,M._v,M):y.emit(F,M):V?V({reason:M._v,promise:M}):ee[F](M._v,M)}function de(F){return F&&F._Yaku}function G(F){if(de(F))return new F(he);var M,W,V;return M=new F(function(be,_e){if(M)throw pe();W=be,V=_e}),ae(W,A),ae(V,A),M}function fe(F,M){return function(W){t&&(F[u]=w(!0)),M===c?Oe(F,W):re(F,M,W)}}function je(F,M,W,V){return A(W)&&(M._onFulfilled=W),A(V)&&(F[S]&&H(P,F),M._onRejected=V),t&&(M._pre=F),F[F._pCount++]=M,F._s!==x&&b(F,M),M}function Ie(F){if(F._umark)return!0;F._umark=!0;for(var M=0,W=F._pCount,V;M<W;)if(V=F[M++],V._onRejected||Ie(V))return!0}function Fe(F,M){var W=[];function V(be){return W.push(be.replace(/^\s+|\s+$/g,""))}return t&&(M[u]&&V(M[u]),function be(_e){_e&&C in _e&&(be(_e._next),V(_e[C]+""),be(_e._pre))}(M)),(F&&F.stack?F.stack:F)+(`
`+W.join(`
`)).replace(Y,"")}function Se(F,M){return F(M)}function re(F,M,W){var V=0,be=F._pCount;if(F._s===x)for(F._s=M,F._v=W,M===p&&(t&&te(W)&&(W.longStack=Fe(W,F)),j(F));V<be;)b(F,F[V++]);return F}function Oe(F,M){if(M===F&&M)return re(F,p,pe(B)),F;if(M!==s&&(A(M)||R(M))){var W=ne($e)(M);if(W===le)return re(F,p,W.e),F;A(W)?(t&&de(M)&&(F._next=M),de(M)?Me(F,M,W):ee.nextTick(function(){Me(F,M,W)})):re(F,c,M)}else re(F,c,M);return F}function $e(F){return F.then}function Me(F,M,W){var V=ne(W,M)(function(be){M&&(M=s,Oe(F,be))},function(be){M&&(M=s,re(F,p,be))});V===le&&M&&(re(F,p,V.e),M=s)}}()),zr.exports}var Lr,mn;function Xa(){if(mn)return Lr;mn=1;var i=Ka();return Lr={extendPrototype:function(s,f){for(var t in f)s.prototype[t]=f[t];return s},isFunction:function(s){return typeof s=="function"},isNumber:function(s){return typeof s=="number"},Promise:i,slice:[].slice},Lr}var Pr,wn;function Va(){if(wn)return Pr;wn=1;var i=Xa(),s=i.isFunction;return Pr=function(f,t){return function(y,o,n,p,c){var x=arguments.length,_,d,r,h;d=new i.Promise(function(C,u){r=C,h=u});function m(C,u){C==null?r(u):h(C)}switch(x){case 0:f.call(t,m);break;case 1:s(y)?f.call(t,y):f.call(t,y,m);break;case 2:s(o)?f.call(t,y,o):f.call(t,y,o,m);break;case 3:s(n)?f.call(t,y,o,n):f.call(t,y,o,n,m);break;case 4:s(p)?f.call(t,y,o,n,p):f.call(t,y,o,n,p,m);break;case 5:s(c)?f.call(t,y,o,n,p,c):f.call(t,y,o,n,p,c,m);break;default:_=new Array(x);for(var S=0;S<x;S++)_[S]=arguments[S];if(s(_[x-1]))return f.apply(t,_);_[S]=m,f.apply(t,_)}return d}},Pr}var Mr,bn;function Ja(){if(bn)return Mr;bn=1;var i=vt,s=We,f=Ga(),t=Ya(),y=Va(),o=y(i.writeFile),n=y(i.readFile),p=y(t);function c(_){function d(k,O,B,$){var P=0;return P+=k,P+=O<<8,P+=B<<16,P+=$<<24,P}if(_[0]===80&&_[1]===75&&_[2]===3&&_[3]===4)return _;if(_[0]!==67||_[1]!==114||_[2]!==50||_[3]!==52)throw new Error("Invalid header: Does not start with Cr24");var r=_[4]===3,h=_[4]===2;if(!h&&!r||_[5]||_[6]||_[7])throw new Error("Unexpected crx format version number.");if(h){var m=d(_[8],_[9],_[10],_[11]),S=d(_[12],_[13],_[14],_[15]),C=16+m+S;return _.slice(C,_.length)}var u=d(_[8],_[9],_[10],_[11]),g=12+u;return _.slice(g,_.length)}function x(_,d){var r=s.resolve(_),h=s.extname(_),m=s.basename(_,h),S=s.dirname(_);return d=d||s.resolve(S,m),n(r).then(function(C){return f.loadAsync(c(C))}).then(function(C){var u=Object.keys(C.files);return Promise.all(u.map(function(g){var k=!C.files[g].dir,O=s.join(d,g),B=k&&s.dirname(O)||O,$=C.files[g].async("nodebuffer");return p(B).then(function(){return k?$:!1}).then(function(P){return P?o(O,P):!0})}))})}return Mr=x,Mr}var yn;function Qa(){return yn||(yn=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.downloadChromeExtension=void 0;const s=vt,f=We,t=va(),y=Ja(),o=async(n,{forceDownload:p=!1,attempts:c=5}={})=>{const x=(0,t.getPath)();s.existsSync(x)||await s.promises.mkdir(x,{recursive:!0});const _=f.resolve(`${x}/${n}`);if(!s.existsSync(_)||p){s.existsSync(_)&&await s.promises.rmdir(_,{recursive:!0});const d=`https://clients2.google.com/service/update2/crx?response=redirect&acceptformat=crx2,crx3&x=id%3D${n}%26uc&prodversion=${process.versions.chrome}`,r=f.resolve(`${_}.crx`);try{await(0,t.downloadFile)(d,r);try{return await y(r,_),(0,t.changePermissions)(_,755),_}catch(h){if(!s.existsSync(f.resolve(_,"manifest.json")))throw h}}catch(h){if(console.error(`Failed to fetch extension, trying ${c-1} more times`),c<=1)throw h;return await new Promise(m=>setTimeout(m,200)),await(0,i.downloadChromeExtension)(n,{forceDownload:p,attempts:c-1})}}return _};i.downloadChromeExtension=o}(Nt)),Nt}var xn;function eo(){if(xn)return Ae;xn=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.MOBX_DEVTOOLS=Ae.REDUX_DEVTOOLS=Ae.VUEJS_DEVTOOLS_BETA=Ae.VUEJS_DEVTOOLS=Ae.JQUERY_DEBUGGER=Ae.BACKBONE_DEBUGGER=Ae.REACT_DEVELOPER_TOOLS=Ae.EMBER_INSPECTOR=void 0,Ae.installExtension=f;const i=ve,s=Qa();async function f(t,y={}){const{forceDownload:o,loadExtensionOptions:n,session:p}=y,c=p||i.session.defaultSession;if(process.type!=="browser")return Promise.reject(new Error("electron-devtools-installer can only be used from the main process"));if(Array.isArray(t))return t.reduce((r,h)=>r.then(async m=>{const S=await f(h,y);return[...m,S]}),Promise.resolve([]));let x;if(typeof t=="object"&&t.id)x=t.id;else if(typeof t=="string")x=t;else throw new Error(`Invalid extensionReference passed in: "${t}"`);const _=c.getAllExtensions().find(r=>r.id===x);if(!o&&_)return _;const d=await(0,s.downloadChromeExtension)(x,{forceDownload:o||!1});if(_!=null&&_.id){const r=new Promise(h=>{const m=(S,C)=>{C.id===_.id&&(c.removeListener("extension-unloaded",m),h())};c.on("extension-unloaded",m)});c.removeExtension(_.id),await r}return c.loadExtension(d,n)}return Ae.default=f,Ae.EMBER_INSPECTOR={id:"bmdblncegkenkacieihfhpjfppoconhi"},Ae.REACT_DEVELOPER_TOOLS={id:"fmkadmapgofadopljbjfkapdkoienihi"},Ae.BACKBONE_DEBUGGER={id:"bhljhndlimiafopmmhjlgfpnnchjjbhd"},Ae.JQUERY_DEBUGGER={id:"dbhhnnnpaeobfddmlalhnehgclcmjimi"},Ae.VUEJS_DEVTOOLS={id:"nhdogjmejiglipccpnnnanhbledajbpd"},Ae.VUEJS_DEVTOOLS_BETA={id:"ljjemllljcmogpfapbkkighbhhppjdbg"},Ae.REDUX_DEVTOOLS={id:"lmhkpmbekcpmknklioeibfkpmmfibljd"},Ae.MOBX_DEVTOOLS={id:"pfgnfdagidkfgccljigdamigbcnndkod"},Ae}var Sn=eo();let At="",Ze=null;const to=()=>{try{const i=pt.join(ve.app.getPath("userData"),"logs");Je.existsSync(i)||Je.mkdirSync(i,{recursive:!0});const s=new Date().toISOString().replace(/[:.]/g,"-").split("T")[0];At=pt.join(i,`app-${s}.log`),Ze=Je.createWriteStream(At,{flags:"a"});const f=`
${"=".repeat(50)}
Application started at ${new Date().toISOString()}
${"=".repeat(50)}
`;Ze.write(f);const t=console.log,y=console.error,o=console.warn,n=console.info;return console.log=(...p)=>{const c=p.map(_=>typeof _=="object"?JSON.stringify(_,null,2):String(_)).join(" "),x=`[LOG] ${new Date().toISOString()} ${c}
`;Ze&&Ze.write(x),t(...p)},console.error=(...p)=>{const c=p.map(_=>typeof _=="object"?JSON.stringify(_,null,2):String(_)).join(" "),x=`[ERROR] ${new Date().toISOString()} ${c}
`;Ze&&Ze.write(x),y(...p)},console.warn=(...p)=>{const c=p.map(_=>typeof _=="object"?JSON.stringify(_,null,2):String(_)).join(" "),x=`[WARN] ${new Date().toISOString()} ${c}
`;Ze&&Ze.write(x),o(...p)},console.info=(...p)=>{const c=p.map(_=>typeof _=="object"?JSON.stringify(_,null,2):String(_)).join(" "),x=`[INFO] ${new Date().toISOString()} ${c}
`;Ze&&Ze.write(x),n(...p)},console.log(`✓ Logger initialized, log file: ${At}`),At}catch(i){return console.error(`✗ Failed to initialize logger: ${i.message}`),null}},ro=()=>{if(Ze){const i=`Application ended at ${new Date().toISOString()}
${"=".repeat(50)}
`;Ze.write(i),Ze.end(),Ze=null}},{protocol:jr}=require("electron");to();let ut,qr=!1;const Ur=process.env.NODE_ENV==="development";console.log("=== Application Starting ===");console.log(`Is Development: ${Ur}`);console.log(`Node version: ${process.version}`);console.log(`Electron version: ${process.versions.electron}`);console.log("✓ Application initialization started");const Yn=process.cwd();console.log(`App root: ${Yn}`);const io=i=>{try{return require(i)}catch(s){console.error(`✗ Standard require for '${i}' failed: ${s.message}`);try{const f=ve.app.getAppPath();let t="";if(f.includes("asar")){const o=f.substring(0,f.indexOf("app.asar"));t=We.join(o,i)}else t=We.join(f,"..",i);console.log(`Attempting to load '${i}' from: ${t}`);const y=require(t);return console.log(`✓ '${i}' loaded from resources`),y}catch(f){console.error(`✗ Loading '${i}' from resources failed: ${f.message}`);try{const t=process.execPath,y=We.dirname(t),o=We.join(y,"resources",i);console.log(`Attempting backup path for '${i}': ${o}`);const n=require(o);return console.log(`✓ '${i}' loaded from backup path`),n}catch(t){return console.error(`✗ Backup path for '${i}' also failed: ${t.message}`),null}}}},no=()=>ut?!0:(ut=io("exif-parser"),ut!==null);function Kn(){qr||(qr=no(),qr&&ut&&typeof ut.create=="function"?console.log("✓ exif-parser loaded successfully"):console.error("✗ exif-parser module not properly loaded"));const i=We.join(__dirname,"preload.js"),s=new ve.BrowserWindow({width:800,height:600,minWidth:800,minHeight:500,webPreferences:{devTools:Ur,contextIsolation:!0,nodeIntegration:!0,nodeIntegrationInSubFrames:!1,sandbox:!1,preload:i},titleBarStyle:"hidden",title:"Electron Media Toolbox"});pa(s),Ur&&s.webContents.openDevTools(),s.webContents.openDevTools(),s.loadFile(We.join(__dirname,"../renderer/main_window/index.html"));function f(y){const o=y.match(/^\/([a-zA-Z])\/(.*)$/);return o?`${o[1]}:/${o[2]}`:y}jr.handle("local-resource",async y=>{const o=decodeURIComponent(y.url.replace(new RegExp("^local-resource:/","i"),"")),n=process.platform==="win32"?f(o):o;console.log(`Full path: ${n}`);try{const p=await Je.promises.readFile(n);return new Response(p)}catch(p){return console.error(`Failed to read file: ${p.message}`),new Response(null,{status:500})}}),jr.handle("thumbnail-resource",async y=>{const o=decodeURIComponent(y.url.replace(new RegExp("^thumbnail-resource:/","i"),"")),p=(process.platform==="win32"?f(o):o).replace(/\\/g,"/").toLowerCase(),x=Qn.crc32(Buffer.from(p,"utf-8")).toString(16).padStart(8,"0"),_=We.join(Yn,".cache/.thumbs"),d=We.join(_,`${x}.webp`);try{const r=await Je.promises.readFile(d);return new Response(r)}catch(r){return console.error(`Failed to read thumbnail: ${r.message}`),new Response(null,{status:500})}});function t(y){return new Promise((o,n)=>{console.log(`Getting photo info for: ${y}`),Je.stat(y,(p,c)=>{if(p){n(`Error reading file stats: ${p.message}`);return}const x=c.size;Je.readFile(y,(_,d)=>{if(_){n(`Error reading file: ${_.message}`);return}try{const h=ut.create(d).parse();console.log(`✓ Successfully parsed EXIF data for: ${y}`),h.tags.captureTime=h.tags.DateTimeOriginal||h.tags.CreateDate,h.tags.cameraModel=h.tags.Model||"Unknown Camera",h.tags.fileSize=x,o(h)}catch(r){const h=`Error parsing EXIF data: ${r.message}`;console.log(`✗ ${h}`),n(h)}})})})}jr.handle("photo-info",async y=>{const o=decodeURIComponent(y.url.replace(new RegExp("^photo-info:/","i"),"")),n=process.platform==="win32"?f(o):o;try{const p=await t(n);return new Response(JSON.stringify(p),{headers:{"Content-Type":"application/json"}})}catch(p){return console.error(`Failed to read photo info or thumbnail: ${p.message}`),new Response(null,{status:500})}})}async function ao(){try{const i=await Sn.installExtension(Sn.REACT_DEVELOPER_TOOLS);console.log(`Extensions installed successfully: ${i.name}`)}catch{console.log("Failed to install extensions"),console.error("Failed to install extensions")}}ve.app.whenReady().then(Kn).then(ao);ve.app.on("window-all-closed",()=>{console.log("All windows closed"),process.platform!=="darwin"&&ve.app.quit()});ve.app.on("activate",()=>{console.log("App activated"),ve.BrowserWindow.getAllWindows().length===0&&Kn()});ve.app.on("quit",()=>{console.log("=== Application Exiting ==="),ro()});
