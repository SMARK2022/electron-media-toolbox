"use strict";const xe=require("electron"),lt=require("fs"),et=require("path"),jn=require("https"),cn=require("stream"),qn=require("events"),pn=require("buffer"),Br=require("util"),Un=require("zlib");function vn(a){const f=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(a){for(const h in a)if(h!=="default"){const r=Object.getOwnPropertyDescriptor(a,h);Object.defineProperty(f,h,r.get?r:{enumerable:!0,get:()=>a[h]})}}return f.default=a,Object.freeze(f)}const _t=vn(lt),Zn=vn(Un),Wn="theme-mode:current",Hn="theme-mode:toggle",$n="theme-mode:dark",Gn="theme-mode:light",Yn="theme-mode:system";function Kn(){xe.ipcMain.handle(Wn,()=>xe.nativeTheme.themeSource),xe.ipcMain.handle(Hn,()=>(xe.nativeTheme.shouldUseDarkColors?xe.nativeTheme.themeSource="light":xe.nativeTheme.themeSource="dark",xe.nativeTheme.shouldUseDarkColors)),xe.ipcMain.handle($n,()=>xe.nativeTheme.themeSource="dark"),xe.ipcMain.handle(Gn,()=>xe.nativeTheme.themeSource="light"),xe.ipcMain.handle(Yn,()=>(xe.nativeTheme.themeSource="system",xe.nativeTheme.shouldUseDarkColors))}const Xn="window:minimize",Vn="window:maximize",Jn="window:close",Qn=require("fs"),{protocol:Nr}=require("electron"),{exec:ea}=require("child_process");require("path");Nr.registerSchemesAsPrivileged([{scheme:"local-resource",privileges:{secure:!0,supportFetchAPI:!0,standard:!0,bypassCSP:!0,stream:!0}}]);Nr.registerSchemesAsPrivileged([{scheme:"thumbnail-resource",privileges:{secure:!0,supportFetchAPI:!0,standard:!0,bypassCSP:!0,stream:!0}}]);Nr.registerSchemesAsPrivileged([{scheme:"photo-info",privileges:{secure:!0,supportFetchAPI:!0,standard:!0,bypassCSP:!0,stream:!0}}]);function ta(a){xe.ipcMain.handle(Xn,()=>{a.minimize()}),xe.ipcMain.handle(Vn,()=>{a.isMaximized()?a.unmaximize():a.maximize()}),xe.ipcMain.handle(Jn,()=>{a.close()}),xe.ipcMain.handle("read-file",async(f,h)=>{try{return{success:!0,content:Qn.readFileSync(h,"utf-8")}}catch(r){return{success:!1,error:r.message}}}),xe.ipcMain.handle("clipboard-read",()=>clipboard.readText()),xe.ipcMain.handle("run-command",async(f,h,r)=>new Promise((b,o)=>{const n=ea(h,{cwd:r});let p="",d="";n.stdout.on("data",E=>{p+=E}),n.stderr.on("data",E=>{d+=E}),n.on("close",E=>{E===0?b(p):o({error:d,command:h})})}))}function ra(a){ta(a),Kn()}var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},Rt={},Tt={},Mr;function ia(){return Mr||(Mr=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.changePermissions=a.downloadFile=a.getPath=void 0;const f=xe,h=lt,r=et,b=jn,o=()=>{const E=f.app.getPath("userData");return r.resolve(`${E}/extensions`)};a.getPath=o;const n=f.net?f.net.request:b.get,p=(E,m)=>new Promise((c,t)=>{const u=n(E);u.on("response",g=>{if(g.statusCode&&g.statusCode>=300&&g.statusCode<400&&g.headers.location)return(0,a.downloadFile)(g.headers.location,m).then(c).catch(t);g.pipe(h.createWriteStream(m)).on("close",c),g.on("error",t)}),u.on("error",t),u.end()});a.downloadFile=p;const d=(E,m)=>{h.readdirSync(E).forEach(t=>{const u=r.join(E,t);h.chmodSync(u,parseInt(`${m}`,8)),h.statSync(u).isDirectory()&&(0,a.changePermissions)(u,m)})};a.changePermissions=d}(Tt)),Tt}var At={},Ot={},Ue={},gt={exports:{}},mt={exports:{}},jr;function kt(){if(jr)return mt.exports;jr=1,typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?mt.exports={nextTick:a}:mt.exports=process;function a(f,h,r,b){if(typeof f!="function")throw new TypeError('"callback" argument must be a function');var o=arguments.length,n,p;switch(o){case 0:case 1:return process.nextTick(f);case 2:return process.nextTick(function(){f.call(null,h)});case 3:return process.nextTick(function(){f.call(null,h,r)});case 4:return process.nextTick(function(){f.call(null,h,r,b)});default:for(n=new Array(o-1),p=0;p<n.length;)n[p++]=arguments[p];return process.nextTick(function(){f.apply(null,n)})}}return mt.exports}var Dt,qr;function na(){if(qr)return Dt;qr=1;var a={}.toString;return Dt=Array.isArray||function(f){return a.call(f)=="[object Array]"},Dt}var It,Ur;function _n(){return Ur||(Ur=1,It=cn),It}var wt={exports:{}},Zr;function St(){return Zr||(Zr=1,function(a,f){var h=pn,r=h.Buffer;function b(n,p){for(var d in n)p[d]=n[d]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?a.exports=h:(b(h,f),f.Buffer=o);function o(n,p,d){return r(n,p,d)}b(r,o),o.from=function(n,p,d){if(typeof n=="number")throw new TypeError("Argument must not be a number");return r(n,p,d)},o.alloc=function(n,p,d){if(typeof n!="number")throw new TypeError("Argument must be a number");var E=r(n);return p!==void 0?typeof d=="string"?E.fill(p,d):E.fill(p):E.fill(0),E},o.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return r(n)},o.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return h.SlowBuffer(n)}}(wt,wt.exports)),wt.exports}var Le={},Wr;function ut(){if(Wr)return Le;Wr=1;function a(x){return Array.isArray?Array.isArray(x):g(x)==="[object Array]"}Le.isArray=a;function f(x){return typeof x=="boolean"}Le.isBoolean=f;function h(x){return x===null}Le.isNull=h;function r(x){return x==null}Le.isNullOrUndefined=r;function b(x){return typeof x=="number"}Le.isNumber=b;function o(x){return typeof x=="string"}Le.isString=o;function n(x){return typeof x=="symbol"}Le.isSymbol=n;function p(x){return x===void 0}Le.isUndefined=p;function d(x){return g(x)==="[object RegExp]"}Le.isRegExp=d;function E(x){return typeof x=="object"&&x!==null}Le.isObject=E;function m(x){return g(x)==="[object Date]"}Le.isDate=m;function c(x){return g(x)==="[object Error]"||x instanceof Error}Le.isError=c;function t(x){return typeof x=="function"}Le.isFunction=t;function u(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||typeof x>"u"}Le.isPrimitive=u,Le.isBuffer=pn.Buffer.isBuffer;function g(x){return Object.prototype.toString.call(x)}return Le}var yt={exports:{}},bt={exports:{}},Hr;function aa(){return Hr||(Hr=1,typeof Object.create=="function"?bt.exports=function(f,h){h&&(f.super_=h,f.prototype=Object.create(h.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}))}:bt.exports=function(f,h){if(h){f.super_=h;var r=function(){};r.prototype=h.prototype,f.prototype=new r,f.prototype.constructor=f}}),bt.exports}var $r;function ht(){if($r)return yt.exports;$r=1;try{var a=require("util");if(typeof a.inherits!="function")throw"";yt.exports=a.inherits}catch{yt.exports=aa()}return yt.exports}var Bt={exports:{}},Gr;function oa(){return Gr||(Gr=1,function(a){function f(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}var h=St().Buffer,r=Br;function b(o,n,p){o.copy(n,p)}a.exports=function(){function o(){f(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(p){var d={data:p,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length},o.prototype.unshift=function(p){var d={data:p,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length},o.prototype.shift=function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(p){if(this.length===0)return"";for(var d=this.head,E=""+d.data;d=d.next;)E+=p+d.data;return E},o.prototype.concat=function(p){if(this.length===0)return h.alloc(0);for(var d=h.allocUnsafe(p>>>0),E=this.head,m=0;E;)b(E.data,d,m),m+=E.data.length,E=E.next;return d},o}(),r&&r.inspect&&r.inspect.custom&&(a.exports.prototype[r.inspect.custom]=function(){var o=r.inspect({length:this.length});return this.constructor.name+" "+o})}(Bt)),Bt.exports}var Nt,Yr;function gn(){if(Yr)return Nt;Yr=1;var a=kt();function f(b,o){var n=this,p=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return p||d?(o?o(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(r,this,b)):a.nextTick(r,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(E){!o&&E?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,a.nextTick(r,n,E)):a.nextTick(r,n,E):o&&o(E)}),this)}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(b,o){b.emit("error",o)}return Nt={destroy:f,undestroy:h},Nt}var Ft,Kr;function sa(){return Kr||(Kr=1,Ft=Br.deprecate),Ft}var Lt,Xr;function mn(){if(Xr)return Lt;Xr=1;var a=kt();Lt=x;function f(R){var A=this;this.next=null,this.entry=null,this.finish=function(){Se(A,R)}}var h=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:a.nextTick,r;x.WritableState=u;var b=Object.create(ut());b.inherits=ht();var o={deprecate:sa()},n=_n(),p=St().Buffer,d=(typeof ze<"u"?ze:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function E(R){return p.from(R)}function m(R){return p.isBuffer(R)||R instanceof d}var c=gn();b.inherits(x,n);function t(){}function u(R,A){r=r||st(),R=R||{};var z=A instanceof r;this.objectMode=!!R.objectMode,z&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var te=R.highWaterMark,ae=R.writableHighWaterMark,se=this.objectMode?16:16*1024;te||te===0?this.highWaterMark=te:z&&(ae||ae===0)?this.highWaterMark=ae:this.highWaterMark=se,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=R.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){P(A,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}u.prototype.getBuffer=function(){for(var A=this.bufferedRequest,z=[];A;)z.push(A),A=A.next;return z},function(){try{Object.defineProperty(u.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var g;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(R){return g.call(this,R)?!0:this!==x?!1:R&&R._writableState instanceof u}})):g=function(R){return R instanceof this};function x(R){if(r=r||st(),!g.call(x,this)&&!(this instanceof r))return new x(R);this._writableState=new u(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),n.call(this)}x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function C(R,A){var z=new Error("write after end");R.emit("error",z),a.nextTick(A,z)}function l(R,A,z,te){var ae=!0,se=!1;return z===null?se=new TypeError("May not write null values to stream"):typeof z!="string"&&z!==void 0&&!A.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se&&(R.emit("error",se),a.nextTick(te,se),ae=!1),ae}x.prototype.write=function(R,A,z){var te=this._writableState,ae=!1,se=!te.objectMode&&m(R);return se&&!p.isBuffer(R)&&(R=E(R)),typeof A=="function"&&(z=A,A=null),se?A="buffer":A||(A=te.defaultEncoding),typeof z!="function"&&(z=t),te.ended?C(this,z):(se||l(this,te,R,z))&&(te.pendingcb++,ae=S(this,te,se,R,A,z)),ae},x.prototype.cork=function(){var R=this._writableState;R.corked++},x.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&oe(this,R))},x.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+A);return this._writableState.defaultEncoding=A,this};function _(R,A,z){return!R.objectMode&&R.decodeStrings!==!1&&typeof A=="string"&&(A=p.from(A,z)),A}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function S(R,A,z,te,ae,se){if(!z){var ne=_(A,te,ae);te!==ne&&(z=!0,ae="buffer",te=ne)}var me=A.objectMode?1:te.length;A.length+=me;var be=A.length<A.highWaterMark;if(be||(A.needDrain=!0),A.writing||A.corked){var pe=A.lastBufferedRequest;A.lastBufferedRequest={chunk:te,encoding:ae,isBuf:z,callback:se,next:null},pe?pe.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else O(R,A,!1,me,te,ae,se);return be}function O(R,A,z,te,ae,se,ne){A.writelen=te,A.writecb=ne,A.writing=!0,A.sync=!0,z?R._writev(ae,A.onwrite):R._write(ae,se,A.onwrite),A.sync=!1}function N(R,A,z,te,ae){--A.pendingcb,z?(a.nextTick(ae,te),a.nextTick(ee,R,A),R._writableState.errorEmitted=!0,R.emit("error",te)):(ae(te),R._writableState.errorEmitted=!0,R.emit("error",te),ee(R,A))}function H(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function P(R,A){var z=R._writableState,te=z.sync,ae=z.writecb;if(H(z),A)N(R,z,te,A,ae);else{var se=le(z);!se&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&oe(R,z),te?h(X,R,z,se,ae):X(R,z,se,ae)}}function X(R,A,z,te){z||ue(R,A),A.pendingcb--,te(),ee(R,A)}function ue(R,A){A.length===0&&A.needDrain&&(A.needDrain=!1,R.emit("drain"))}function oe(R,A){A.bufferProcessing=!0;var z=A.bufferedRequest;if(R._writev&&z&&z.next){var te=A.bufferedRequestCount,ae=new Array(te),se=A.corkedRequestsFree;se.entry=z;for(var ne=0,me=!0;z;)ae[ne]=z,z.isBuf||(me=!1),z=z.next,ne+=1;ae.allBuffers=me,O(R,A,!0,A.length,ae,"",se.finish),A.pendingcb++,A.lastBufferedRequest=null,se.next?(A.corkedRequestsFree=se.next,se.next=null):A.corkedRequestsFree=new f(A),A.bufferedRequestCount=0}else{for(;z;){var be=z.chunk,pe=z.encoding,w=z.callback,y=A.objectMode?1:be.length;if(O(R,A,!1,y,be,pe,w),z=z.next,A.bufferedRequestCount--,A.writing)break}z===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=z,A.bufferProcessing=!1}x.prototype._write=function(R,A,z){z(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(R,A,z){var te=this._writableState;typeof R=="function"?(z=R,R=null,A=null):typeof A=="function"&&(z=A,A=null),R!=null&&this.write(R,A),te.corked&&(te.corked=1,this.uncork()),te.ending||ye(this,te,z)};function le(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function he(R,A){R._final(function(z){A.pendingcb--,z&&R.emit("error",z),A.prefinished=!0,R.emit("prefinish"),ee(R,A)})}function Y(R,A){!A.prefinished&&!A.finalCalled&&(typeof R._final=="function"?(A.pendingcb++,A.finalCalled=!0,a.nextTick(he,R,A)):(A.prefinished=!0,R.emit("prefinish")))}function ee(R,A){var z=le(A);return z&&(Y(R,A),A.pendingcb===0&&(A.finished=!0,R.emit("finish"))),z}function ye(R,A,z){A.ending=!0,ee(R,A),z&&(A.finished?a.nextTick(z):R.once("finish",z)),A.ended=!0,R.writable=!1}function Se(R,A,z){var te=R.entry;for(R.entry=null;te;){var ae=te.callback;A.pendingcb--,ae(z),te=te.next}A.corkedRequestsFree.next=R}return Object.defineProperty(x.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),x.prototype.destroy=c.destroy,x.prototype._undestroy=c.undestroy,x.prototype._destroy=function(R,A){this.end(),A(R)},Lt}var zt,Vr;function st(){if(Vr)return zt;Vr=1;var a=kt(),f=Object.keys||function(c){var t=[];for(var u in c)t.push(u);return t};zt=d;var h=Object.create(ut());h.inherits=ht();var r=wn(),b=mn();h.inherits(d,r);for(var o=f(b.prototype),n=0;n<o.length;n++){var p=o[n];d.prototype[p]||(d.prototype[p]=b.prototype[p])}function d(c){if(!(this instanceof d))return new d(c);r.call(this,c),b.call(this,c),c&&c.readable===!1&&(this.readable=!1),c&&c.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,c&&c.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",E)}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function E(){this.allowHalfOpen||this._writableState.ended||a.nextTick(m,this)}function m(c){c.end()}return Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),d.prototype._destroy=function(c,t){this.push(null),this.end(),a.nextTick(t,c)},zt}var Pt={},Jr;function Qr(){if(Jr)return Pt;Jr=1;var a=St().Buffer,f=a.isEncoding||function(l){switch(l=""+l,l&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(l){if(!l)return"utf8";for(var _;;)switch(l){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return l;default:if(_)return;l=(""+l).toLowerCase(),_=!0}}function r(l){var _=h(l);if(typeof _!="string"&&(a.isEncoding===f||!f(l)))throw new Error("Unknown encoding: "+l);return _||l}Pt.StringDecoder=b;function b(l){this.encoding=r(l);var _;switch(this.encoding){case"utf16le":this.text=c,this.end=t,_=4;break;case"utf8":this.fillLast=d,_=4;break;case"base64":this.text=u,this.end=g,_=3;break;default:this.write=x,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(_)}b.prototype.write=function(l){if(l.length===0)return"";var _,S;if(this.lastNeed){if(_=this.fillLast(l),_===void 0)return"";S=this.lastNeed,this.lastNeed=0}else S=0;return S<l.length?_?_+this.text(l,S):this.text(l,S):_||""},b.prototype.end=m,b.prototype.text=E,b.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length};function o(l){return l<=127?0:l>>5===6?2:l>>4===14?3:l>>3===30?4:l>>6===2?-1:-2}function n(l,_,S){var O=_.length-1;if(O<S)return 0;var N=o(_[O]);return N>=0?(N>0&&(l.lastNeed=N-1),N):--O<S||N===-2?0:(N=o(_[O]),N>=0?(N>0&&(l.lastNeed=N-2),N):--O<S||N===-2?0:(N=o(_[O]),N>=0?(N>0&&(N===2?N=0:l.lastNeed=N-3),N):0))}function p(l,_,S){if((_[0]&192)!==128)return l.lastNeed=0,"�";if(l.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return l.lastNeed=1,"�";if(l.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return l.lastNeed=2,"�"}}function d(l){var _=this.lastTotal-this.lastNeed,S=p(this,l);if(S!==void 0)return S;if(this.lastNeed<=l.length)return l.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,_,0,l.length),this.lastNeed-=l.length}function E(l,_){var S=n(this,l,_);if(!this.lastNeed)return l.toString("utf8",_);this.lastTotal=S;var O=l.length-(S-this.lastNeed);return l.copy(this.lastChar,0,O),l.toString("utf8",_,O)}function m(l){var _=l&&l.length?this.write(l):"";return this.lastNeed?_+"�":_}function c(l,_){if((l.length-_)%2===0){var S=l.toString("utf16le",_);if(S){var O=S.charCodeAt(S.length-1);if(O>=55296&&O<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],S.slice(0,-1)}return S}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",_,l.length-1)}function t(l){var _=l&&l.length?this.write(l):"";if(this.lastNeed){var S=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,S)}return _}function u(l,_){var S=(l.length-_)%3;return S===0?l.toString("base64",_):(this.lastNeed=3-S,this.lastTotal=3,S===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",_,l.length-S))}function g(l){var _=l&&l.length?this.write(l):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function x(l){return l.toString(this.encoding)}function C(l){return l&&l.length?this.write(l):""}return Pt}var Mt,ei;function wn(){if(ei)return Mt;ei=1;var a=kt();Mt=_;var f=na(),h;_.ReadableState=l,qn.EventEmitter;var r=function(w,y){return w.listeners(y).length},b=_n(),o=St().Buffer,n=(typeof ze<"u"?ze:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(w){return o.from(w)}function d(w){return o.isBuffer(w)||w instanceof n}var E=Object.create(ut());E.inherits=ht();var m=Br,c=void 0;m&&m.debuglog?c=m.debuglog("stream"):c=function(){};var t=oa(),u=gn(),g;E.inherits(_,b);var x=["error","close","destroy","pause","resume"];function C(w,y,j){if(typeof w.prependListener=="function")return w.prependListener(y,j);!w._events||!w._events[y]?w.on(y,j):f(w._events[y])?w._events[y].unshift(j):w._events[y]=[j,w._events[y]]}function l(w,y){h=h||st(),w=w||{};var j=y instanceof h;this.objectMode=!!w.objectMode,j&&(this.objectMode=this.objectMode||!!w.readableObjectMode);var $=w.highWaterMark,ce=w.readableHighWaterMark,G=this.objectMode?16:16*1024;$||$===0?this.highWaterMark=$:j&&(ce||ce===0)?this.highWaterMark=ce:this.highWaterMark=G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new t,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=w.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,w.encoding&&(g||(g=Qr().StringDecoder),this.decoder=new g(w.encoding),this.encoding=w.encoding)}function _(w){if(h=h||st(),!(this instanceof _))return new _(w);this._readableState=new l(w,this),this.readable=!0,w&&(typeof w.read=="function"&&(this._read=w.read),typeof w.destroy=="function"&&(this._destroy=w.destroy)),b.call(this)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){this._readableState&&(this._readableState.destroyed=w)}}),_.prototype.destroy=u.destroy,_.prototype._undestroy=u.undestroy,_.prototype._destroy=function(w,y){this.push(null),y(w)},_.prototype.push=function(w,y){var j=this._readableState,$;return j.objectMode?$=!0:typeof w=="string"&&(y=y||j.defaultEncoding,y!==j.encoding&&(w=o.from(w,y),y=""),$=!0),S(this,w,y,!1,$)},_.prototype.unshift=function(w){return S(this,w,null,!0,!1)};function S(w,y,j,$,ce){var G=w._readableState;if(y===null)G.reading=!1,oe(w,G);else{var fe;ce||(fe=N(G,y)),fe?w.emit("error",fe):G.objectMode||y&&y.length>0?(typeof y!="string"&&!G.objectMode&&Object.getPrototypeOf(y)!==o.prototype&&(y=p(y)),$?G.endEmitted?w.emit("error",new Error("stream.unshift() after end event")):O(w,G,y,!0):G.ended?w.emit("error",new Error("stream.push() after EOF")):(G.reading=!1,G.decoder&&!j?(y=G.decoder.write(y),G.objectMode||y.length!==0?O(w,G,y,!1):Y(w,G)):O(w,G,y,!1))):$||(G.reading=!1)}return H(G)}function O(w,y,j,$){y.flowing&&y.length===0&&!y.sync?(w.emit("data",j),w.read(0)):(y.length+=y.objectMode?1:j.length,$?y.buffer.unshift(j):y.buffer.push(j),y.needReadable&&le(w)),Y(w,y)}function N(w,y){var j;return!d(y)&&typeof y!="string"&&y!==void 0&&!w.objectMode&&(j=new TypeError("Invalid non-string/buffer chunk")),j}function H(w){return!w.ended&&(w.needReadable||w.length<w.highWaterMark||w.length===0)}_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(w){return g||(g=Qr().StringDecoder),this._readableState.decoder=new g(w),this._readableState.encoding=w,this};var P=8388608;function X(w){return w>=P?w=P:(w--,w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,w|=w>>>16,w++),w}function ue(w,y){return w<=0||y.length===0&&y.ended?0:y.objectMode?1:w!==w?y.flowing&&y.length?y.buffer.head.data.length:y.length:(w>y.highWaterMark&&(y.highWaterMark=X(w)),w<=y.length?w:y.ended?y.length:(y.needReadable=!0,0))}_.prototype.read=function(w){c("read",w),w=parseInt(w,10);var y=this._readableState,j=w;if(w!==0&&(y.emittedReadable=!1),w===0&&y.needReadable&&(y.length>=y.highWaterMark||y.ended))return c("read: emitReadable",y.length,y.ended),y.length===0&&y.ended?me(this):le(this),null;if(w=ue(w,y),w===0&&y.ended)return y.length===0&&me(this),null;var $=y.needReadable;c("need readable",$),(y.length===0||y.length-w<y.highWaterMark)&&($=!0,c("length less than watermark",$)),y.ended||y.reading?($=!1,c("reading or ended",$)):$&&(c("do read"),y.reading=!0,y.sync=!0,y.length===0&&(y.needReadable=!0),this._read(y.highWaterMark),y.sync=!1,y.reading||(w=ue(j,y)));var ce;return w>0?ce=te(w,y):ce=null,ce===null?(y.needReadable=!0,w=0):y.length-=w,y.length===0&&(y.ended||(y.needReadable=!0),j!==w&&y.ended&&me(this)),ce!==null&&this.emit("data",ce),ce};function oe(w,y){if(!y.ended){if(y.decoder){var j=y.decoder.end();j&&j.length&&(y.buffer.push(j),y.length+=y.objectMode?1:j.length)}y.ended=!0,le(w)}}function le(w){var y=w._readableState;y.needReadable=!1,y.emittedReadable||(c("emitReadable",y.flowing),y.emittedReadable=!0,y.sync?a.nextTick(he,w):he(w))}function he(w){c("emit readable"),w.emit("readable"),z(w)}function Y(w,y){y.readingMore||(y.readingMore=!0,a.nextTick(ee,w,y))}function ee(w,y){for(var j=y.length;!y.reading&&!y.flowing&&!y.ended&&y.length<y.highWaterMark&&(c("maybeReadMore read 0"),w.read(0),j!==y.length);)j=y.length;y.readingMore=!1}_.prototype._read=function(w){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(w,y){var j=this,$=this._readableState;switch($.pipesCount){case 0:$.pipes=w;break;case 1:$.pipes=[$.pipes,w];break;default:$.pipes.push(w);break}$.pipesCount+=1,c("pipe count=%d opts=%j",$.pipesCount,y);var ce=(!y||y.end!==!1)&&w!==process.stdout&&w!==process.stderr,G=ce?je:M;$.endEmitted?a.nextTick(G):j.once("end",G),w.on("unpipe",fe);function fe(W,V){c("onunpipe"),W===j&&V&&V.hasUnpiped===!1&&(V.hasUnpiped=!0,Ee())}function je(){c("onend"),w.end()}var Ie=ye(j);w.on("drain",Ie);var Be=!1;function Ee(){c("cleanup"),w.removeListener("close",Me),w.removeListener("finish",B),w.removeListener("drain",Ie),w.removeListener("error",Ze),w.removeListener("unpipe",fe),j.removeListener("end",je),j.removeListener("end",M),j.removeListener("data",Oe),Be=!0,$.awaitDrain&&(!w._writableState||w._writableState.needDrain)&&Ie()}var re=!1;j.on("data",Oe);function Oe(W){c("ondata"),re=!1;var V=w.write(W);V===!1&&!re&&(($.pipesCount===1&&$.pipes===w||$.pipesCount>1&&pe($.pipes,w)!==-1)&&!Be&&(c("false write response, pause",$.awaitDrain),$.awaitDrain++,re=!0),j.pause())}function Ze(W){c("onerror",W),M(),w.removeListener("error",Ze),r(w,"error")===0&&w.emit("error",W)}C(w,"error",Ze);function Me(){w.removeListener("finish",B),M()}w.once("close",Me);function B(){c("onfinish"),w.removeListener("close",Me),M()}w.once("finish",B);function M(){c("unpipe"),j.unpipe(w)}return w.emit("pipe",j),$.flowing||(c("pipe resume"),j.resume()),w};function ye(w){return function(){var y=w._readableState;c("pipeOnDrain",y.awaitDrain),y.awaitDrain&&y.awaitDrain--,y.awaitDrain===0&&r(w,"data")&&(y.flowing=!0,z(w))}}_.prototype.unpipe=function(w){var y=this._readableState,j={hasUnpiped:!1};if(y.pipesCount===0)return this;if(y.pipesCount===1)return w&&w!==y.pipes?this:(w||(w=y.pipes),y.pipes=null,y.pipesCount=0,y.flowing=!1,w&&w.emit("unpipe",this,j),this);if(!w){var $=y.pipes,ce=y.pipesCount;y.pipes=null,y.pipesCount=0,y.flowing=!1;for(var G=0;G<ce;G++)$[G].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=pe(y.pipes,w);return fe===-1?this:(y.pipes.splice(fe,1),y.pipesCount-=1,y.pipesCount===1&&(y.pipes=y.pipes[0]),w.emit("unpipe",this,j),this)},_.prototype.on=function(w,y){var j=b.prototype.on.call(this,w,y);if(w==="data")this._readableState.flowing!==!1&&this.resume();else if(w==="readable"){var $=this._readableState;!$.endEmitted&&!$.readableListening&&($.readableListening=$.needReadable=!0,$.emittedReadable=!1,$.reading?$.length&&le(this):a.nextTick(Se,this))}return j},_.prototype.addListener=_.prototype.on;function Se(w){c("readable nexttick read 0"),w.read(0)}_.prototype.resume=function(){var w=this._readableState;return w.flowing||(c("resume"),w.flowing=!0,R(this,w)),this};function R(w,y){y.resumeScheduled||(y.resumeScheduled=!0,a.nextTick(A,w,y))}function A(w,y){y.reading||(c("resume read 0"),w.read(0)),y.resumeScheduled=!1,y.awaitDrain=0,w.emit("resume"),z(w),y.flowing&&!y.reading&&w.read(0)}_.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function z(w){var y=w._readableState;for(c("flow",y.flowing);y.flowing&&w.read()!==null;);}_.prototype.wrap=function(w){var y=this,j=this._readableState,$=!1;w.on("end",function(){if(c("wrapped end"),j.decoder&&!j.ended){var fe=j.decoder.end();fe&&fe.length&&y.push(fe)}y.push(null)}),w.on("data",function(fe){if(c("wrapped data"),j.decoder&&(fe=j.decoder.write(fe)),!(j.objectMode&&fe==null)&&!(!j.objectMode&&(!fe||!fe.length))){var je=y.push(fe);je||($=!0,w.pause())}});for(var ce in w)this[ce]===void 0&&typeof w[ce]=="function"&&(this[ce]=function(fe){return function(){return w[fe].apply(w,arguments)}}(ce));for(var G=0;G<x.length;G++)w.on(x[G],this.emit.bind(this,x[G]));return this._read=function(fe){c("wrapped _read",fe),$&&($=!1,w.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=te;function te(w,y){if(y.length===0)return null;var j;return y.objectMode?j=y.buffer.shift():!w||w>=y.length?(y.decoder?j=y.buffer.join(""):y.buffer.length===1?j=y.buffer.head.data:j=y.buffer.concat(y.length),y.buffer.clear()):j=ae(w,y.buffer,y.decoder),j}function ae(w,y,j){var $;return w<y.head.data.length?($=y.head.data.slice(0,w),y.head.data=y.head.data.slice(w)):w===y.head.data.length?$=y.shift():$=j?se(w,y):ne(w,y),$}function se(w,y){var j=y.head,$=1,ce=j.data;for(w-=ce.length;j=j.next;){var G=j.data,fe=w>G.length?G.length:w;if(fe===G.length?ce+=G:ce+=G.slice(0,w),w-=fe,w===0){fe===G.length?(++$,j.next?y.head=j.next:y.head=y.tail=null):(y.head=j,j.data=G.slice(fe));break}++$}return y.length-=$,ce}function ne(w,y){var j=o.allocUnsafe(w),$=y.head,ce=1;for($.data.copy(j),w-=$.data.length;$=$.next;){var G=$.data,fe=w>G.length?G.length:w;if(G.copy(j,j.length-w,0,fe),w-=fe,w===0){fe===G.length?(++ce,$.next?y.head=$.next:y.head=y.tail=null):(y.head=$,$.data=G.slice(fe));break}++ce}return y.length-=ce,j}function me(w){var y=w._readableState;if(y.length>0)throw new Error('"endReadable()" called on non-empty stream');y.endEmitted||(y.ended=!0,a.nextTick(be,y,w))}function be(w,y){!w.endEmitted&&w.length===0&&(w.endEmitted=!0,y.readable=!1,y.emit("end"))}function pe(w,y){for(var j=0,$=w.length;j<$;j++)if(w[j]===y)return j;return-1}return Mt}var jt,ti;function yn(){if(ti)return jt;ti=1,jt=r;var a=st(),f=Object.create(ut());f.inherits=ht(),f.inherits(r,a);function h(n,p){var d=this._transformState;d.transforming=!1;var E=d.writecb;if(!E)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,p!=null&&this.push(p),E(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(n){if(!(this instanceof r))return new r(n);a.call(this,n),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",b)}function b(){var n=this;typeof this._flush=="function"?this._flush(function(p,d){o(n,p,d)}):o(this,null,null)}r.prototype.push=function(n,p){return this._transformState.needTransform=!1,a.prototype.push.call(this,n,p)},r.prototype._transform=function(n,p,d){throw new Error("_transform() is not implemented")},r.prototype._write=function(n,p,d){var E=this._transformState;if(E.writecb=d,E.writechunk=n,E.writeencoding=p,!E.transforming){var m=this._readableState;(E.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(n){var p=this._transformState;p.writechunk!==null&&p.writecb&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},r.prototype._destroy=function(n,p){var d=this;a.prototype._destroy.call(this,n,function(E){p(E),d.emit("close")})};function o(n,p,d){if(p)return n.emit("error",p);if(d!=null&&n.push(d),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}return jt}var qt,ri;function fa(){if(ri)return qt;ri=1,qt=h;var a=yn(),f=Object.create(ut());f.inherits=ht(),f.inherits(h,a);function h(r){if(!(this instanceof h))return new h(r);a.call(this,r)}return h.prototype._transform=function(r,b,o){o(null,r)},qt}var ii;function bn(){return ii||(ii=1,function(a,f){var h=cn;process.env.READABLE_STREAM==="disable"&&h?(a.exports=h,f=a.exports=h.Readable,f.Readable=h.Readable,f.Writable=h.Writable,f.Duplex=h.Duplex,f.Transform=h.Transform,f.PassThrough=h.PassThrough,f.Stream=h):(f=a.exports=wn(),f.Stream=h||f,f.Readable=f,f.Writable=mn(),f.Duplex=st(),f.Transform=yn(),f.PassThrough=fa())}(gt,gt.exports)),gt.exports}var ni;function tt(){if(ni)return Ue;if(ni=1,Ue.base64=!0,Ue.array=!0,Ue.string=!0,Ue.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",Ue.nodebuffer=typeof Buffer<"u",Ue.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")Ue.blob=!1;else{var a=new ArrayBuffer(0);try{Ue.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var f=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,h=new f;h.append(a),Ue.blob=h.getBlob("application/zip").size===0}catch{Ue.blob=!1}}}try{Ue.nodestream=!!bn().Readable}catch{Ue.nodestream=!1}return Ue}var xt={},ai;function xn(){if(ai)return xt;ai=1;var a=Te(),f=tt(),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return xt.encode=function(r){for(var b=[],o,n,p,d,E,m,c,t=0,u=r.length,g=u,x=a.getTypeOf(r)!=="string";t<r.length;)g=u-t,x?(o=r[t++],n=t<u?r[t++]:0,p=t<u?r[t++]:0):(o=r.charCodeAt(t++),n=t<u?r.charCodeAt(t++):0,p=t<u?r.charCodeAt(t++):0),d=o>>2,E=(o&3)<<4|n>>4,m=g>1?(n&15)<<2|p>>6:64,c=g>2?p&63:64,b.push(h.charAt(d)+h.charAt(E)+h.charAt(m)+h.charAt(c));return b.join("")},xt.decode=function(r){var b,o,n,p,d,E,m,c=0,t=0,u="data:";if(r.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");r=r.replace(/[^A-Za-z0-9+/=]/g,"");var g=r.length*3/4;if(r.charAt(r.length-1)===h.charAt(64)&&g--,r.charAt(r.length-2)===h.charAt(64)&&g--,g%1!==0)throw new Error("Invalid base64 input, bad content length.");var x;for(f.uint8array?x=new Uint8Array(g|0):x=new Array(g|0);c<r.length;)p=h.indexOf(r.charAt(c++)),d=h.indexOf(r.charAt(c++)),E=h.indexOf(r.charAt(c++)),m=h.indexOf(r.charAt(c++)),b=p<<2|d>>4,o=(d&15)<<4|E>>2,n=(E&3)<<6|m,x[t++]=b,E!==64&&(x[t++]=o),m!==64&&(x[t++]=n);return x},xt}var Ut,oi;function Ct(){return oi||(oi=1,Ut={isNode:typeof Buffer<"u",newBufferFrom:function(a,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,f);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,f)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var f=new Buffer(a);return f.fill(0),f},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}),Ut}var Zt,si;function la(){if(si)return Zt;si=1;var a=ze.MutationObserver||ze.WebKitMutationObserver,f;if(process.browser)if(a){var h=0,r=new a(d),b=ze.document.createTextNode("");r.observe(b,{characterData:!0}),f=function(){b.data=h=++h%2}}else if(!ze.setImmediate&&typeof ze.MessageChannel<"u"){var o=new ze.MessageChannel;o.port1.onmessage=d,f=function(){o.port2.postMessage(0)}}else"document"in ze&&"onreadystatechange"in ze.document.createElement("script")?f=function(){var m=ze.document.createElement("script");m.onreadystatechange=function(){d(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},ze.document.documentElement.appendChild(m)}:f=function(){setTimeout(d,0)};else f=function(){process.nextTick(d)};var n,p=[];function d(){n=!0;for(var m,c,t=p.length;t;){for(c=p,p=[],m=-1;++m<t;)c[m]();t=p.length}n=!1}Zt=E;function E(m){p.push(m)===1&&!n&&f()}return Zt}var Wt,fi;function ua(){if(fi)return Wt;fi=1;var a=la();function f(){}var h={},r=["REJECTED"],b=["FULFILLED"],o=["PENDING"];if(!process.browser)var n=["UNHANDLED"];Wt=p;function p(l){if(typeof l!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,process.browser||(this.handled=n),l!==f&&c(this,l)}p.prototype.finally=function(l){if(typeof l!="function")return this;var _=this.constructor;return this.then(S,O);function S(N){function H(){return N}return _.resolve(l()).then(H)}function O(N){function H(){throw N}return _.resolve(l()).then(H)}},p.prototype.catch=function(l){return this.then(null,l)},p.prototype.then=function(l,_){if(typeof l!="function"&&this.state===b||typeof _!="function"&&this.state===r)return this;var S=new this.constructor(f);if(process.browser||this.handled===n&&(this.handled=null),this.state!==o){var O=this.state===b?l:_;E(S,O,this.outcome)}else this.queue.push(new d(S,l,_));return S};function d(l,_,S){this.promise=l,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(l){h.resolve(this.promise,l)},d.prototype.otherCallFulfilled=function(l){E(this.promise,this.onFulfilled,l)},d.prototype.callRejected=function(l){h.reject(this.promise,l)},d.prototype.otherCallRejected=function(l){E(this.promise,this.onRejected,l)};function E(l,_,S){a(function(){var O;try{O=_(S)}catch(N){return h.reject(l,N)}O===l?h.reject(l,new TypeError("Cannot resolve promise with itself")):h.resolve(l,O)})}h.resolve=function(l,_){var S=t(m,_);if(S.status==="error")return h.reject(l,S.value);var O=S.value;if(O)c(l,O);else{l.state=b,l.outcome=_;for(var N=-1,H=l.queue.length;++N<H;)l.queue[N].callFulfilled(_)}return l},h.reject=function(l,_){l.state=r,l.outcome=_,process.browser||l.handled===n&&a(function(){l.handled===n&&process.emit("unhandledRejection",_,l)});for(var S=-1,O=l.queue.length;++S<O;)l.queue[S].callRejected(_);return l};function m(l){var _=l&&l.then;if(l&&(typeof l=="object"||typeof l=="function")&&typeof _=="function")return function(){_.apply(l,arguments)}}function c(l,_){var S=!1;function O(X){S||(S=!0,h.reject(l,X))}function N(X){S||(S=!0,h.resolve(l,X))}function H(){_(N,O)}var P=t(H);P.status==="error"&&O(P.value)}function t(l,_){var S={};try{S.value=l(_),S.status="success"}catch(O){S.status="error",S.value=O}return S}p.resolve=u;function u(l){return l instanceof this?l:h.resolve(new this(f),l)}p.reject=g;function g(l){var _=new this(f);return h.reject(_,l)}p.all=x;function x(l){var _=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=l.length,O=!1;if(!S)return this.resolve([]);for(var N=new Array(S),H=0,P=-1,X=new this(f);++P<S;)ue(l[P],P);return X;function ue(oe,le){_.resolve(oe).then(he,function(Y){O||(O=!0,h.reject(X,Y))});function he(Y){N[le]=Y,++H===S&&!O&&(O=!0,h.resolve(X,N))}}}p.race=C;function C(l){var _=this;if(Object.prototype.toString.call(l)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=l.length,O=!1;if(!S)return this.resolve([]);for(var N=-1,H=new this(f);++N<S;)P(l[N]);return H;function P(X){_.resolve(X).then(function(ue){O||(O=!0,h.resolve(H,ue))},function(ue){O||(O=!0,h.reject(H,ue))})}}return Wt}var Ht,li;function dt(){if(li)return Ht;li=1;var a=null;return typeof Promise<"u"?a=Promise:a=ua(),Ht={Promise:a},Ht}var $t={},ui;function ha(){return ui||(ui=1,function(a,f){if(a.setImmediate)return;var h=1,r={},b=!1,o=a.document,n;function p(_){typeof _!="function"&&(_=new Function(""+_));for(var S=new Array(arguments.length-1),O=0;O<S.length;O++)S[O]=arguments[O+1];var N={callback:_,args:S};return r[h]=N,n(h),h++}function d(_){delete r[_]}function E(_){var S=_.callback,O=_.args;switch(O.length){case 0:S();break;case 1:S(O[0]);break;case 2:S(O[0],O[1]);break;case 3:S(O[0],O[1],O[2]);break;default:S.apply(f,O);break}}function m(_){if(b)setTimeout(m,0,_);else{var S=r[_];if(S){b=!0;try{E(S)}finally{d(_),b=!1}}}}function c(){n=function(_){process.nextTick(function(){m(_)})}}function t(){if(a.postMessage&&!a.importScripts){var _=!0,S=a.onmessage;return a.onmessage=function(){_=!1},a.postMessage("","*"),a.onmessage=S,_}}function u(){var _="setImmediate$"+Math.random()+"$",S=function(O){O.source===a&&typeof O.data=="string"&&O.data.indexOf(_)===0&&m(+O.data.slice(_.length))};a.addEventListener?a.addEventListener("message",S,!1):a.attachEvent("onmessage",S),n=function(O){a.postMessage(_+O,"*")}}function g(){var _=new MessageChannel;_.port1.onmessage=function(S){var O=S.data;m(O)},n=function(S){_.port2.postMessage(S)}}function x(){var _=o.documentElement;n=function(S){var O=o.createElement("script");O.onreadystatechange=function(){m(S),O.onreadystatechange=null,_.removeChild(O),O=null},_.appendChild(O)}}function C(){n=function(_){setTimeout(m,0,_)}}var l=Object.getPrototypeOf&&Object.getPrototypeOf(a);l=l&&l.setTimeout?l:a,{}.toString.call(a.process)==="[object process]"?c():t()?u():a.MessageChannel?g():o&&"onreadystatechange"in o.createElement("script")?x():C(),l.setImmediate=p,l.clearImmediate=d}(typeof self>"u"?typeof ze>"u"?$t:ze:self)),$t}var hi;function Te(){return hi||(hi=1,function(a){var f=tt(),h=xn(),r=Ct(),b=dt();ha();function o(t){var u=null;return f.uint8array?u=new Uint8Array(t.length):u=new Array(t.length),p(t,u)}a.newBlob=function(t,u){a.checkSupport("blob");try{return new Blob([t],{type:u})}catch{try{var g=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new g;return x.append(t),x.getBlob(u)}catch{throw new Error("Bug : can't construct the Blob.")}}};function n(t){return t}function p(t,u){for(var g=0;g<t.length;++g)u[g]=t.charCodeAt(g)&255;return u}var d={stringifyByChunk:function(t,u,g){var x=[],C=0,l=t.length;if(l<=g)return String.fromCharCode.apply(null,t);for(;C<l;)u==="array"||u==="nodebuffer"?x.push(String.fromCharCode.apply(null,t.slice(C,Math.min(C+g,l)))):x.push(String.fromCharCode.apply(null,t.subarray(C,Math.min(C+g,l)))),C+=g;return x.join("")},stringifyByChar:function(t){for(var u="",g=0;g<t.length;g++)u+=String.fromCharCode(t[g]);return u},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function E(t){var u=65536,g=a.getTypeOf(t),x=!0;if(g==="uint8array"?x=d.applyCanBeUsed.uint8array:g==="nodebuffer"&&(x=d.applyCanBeUsed.nodebuffer),x)for(;u>1;)try{return d.stringifyByChunk(t,g,u)}catch{u=Math.floor(u/2)}return d.stringifyByChar(t)}a.applyFromCharCode=E;function m(t,u){for(var g=0;g<t.length;g++)u[g]=t[g];return u}var c={};c.string={string:n,array:function(t){return p(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return p(t,new Uint8Array(t.length))},nodebuffer:function(t){return p(t,r.allocBuffer(t.length))}},c.array={string:E,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return E(new Uint8Array(t))},array:function(t){return m(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:E,array:function(t){return m(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:E,array:function(t){return m(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return m(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,u){if(u||(u=""),!t)return u;a.checkSupport(t);var g=a.getTypeOf(u),x=c[g][t](u);return x},a.resolve=function(t){for(var u=t.split("/"),g=[],x=0;x<u.length;x++){var C=u[x];C==="."||C===""&&x!==0&&x!==u.length-1||(C===".."?g.pop():g.push(C))}return g.join("/")},a.getTypeOf=function(t){if(typeof t=="string")return"string";if(Object.prototype.toString.call(t)==="[object Array]")return"array";if(f.nodebuffer&&r.isBuffer(t))return"nodebuffer";if(f.uint8array&&t instanceof Uint8Array)return"uint8array";if(f.arraybuffer&&t instanceof ArrayBuffer)return"arraybuffer"},a.checkSupport=function(t){var u=f[t.toLowerCase()];if(!u)throw new Error(t+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var u="",g,x;for(x=0;x<(t||"").length;x++)g=t.charCodeAt(x),u+="\\x"+(g<16?"0":"")+g.toString(16).toUpperCase();return u},a.delay=function(t,u,g){setImmediate(function(){t.apply(g||null,u||[])})},a.inherits=function(t,u){var g=function(){};g.prototype=u.prototype,t.prototype=new g},a.extend=function(){var t={},u,g;for(u=0;u<arguments.length;u++)for(g in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],g)&&typeof t[g]>"u"&&(t[g]=arguments[u][g]);return t},a.prepareContent=function(t,u,g,x,C){var l=b.Promise.resolve(u).then(function(_){var S=f.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1);return S&&typeof FileReader<"u"?new b.Promise(function(O,N){var H=new FileReader;H.onload=function(P){O(P.target.result)},H.onerror=function(P){N(P.target.error)},H.readAsArrayBuffer(_)}):_});return l.then(function(_){var S=a.getTypeOf(_);return S?(S==="arraybuffer"?_=a.transformTo("uint8array",_):S==="string"&&(C?_=h.decode(_):g&&x!==!0&&(_=o(_))),_):b.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}}(Ot)),Ot}var Gt,di;function Ge(){if(di)return Gt;di=1;function a(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}return a.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return this.isFinished?!1:(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var r=0;r<this._listeners[f].length;r++)this._listeners[f][r].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(r){h.processChunk(r)}),f.on("end",function(){h.end()}),f.on("error",function(r){h.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var f=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},Gt=a,Gt}var ci;function ct(){return ci||(ci=1,function(a){for(var f=Te(),h=tt(),r=Ct(),b=Ge(),o=new Array(256),n=0;n<256;n++)o[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;o[254]=o[254]=1;var p=function(t){var u,g,x,C,l,_=t.length,S=0;for(C=0;C<_;C++)g=t.charCodeAt(C),(g&64512)===55296&&C+1<_&&(x=t.charCodeAt(C+1),(x&64512)===56320&&(g=65536+(g-55296<<10)+(x-56320),C++)),S+=g<128?1:g<2048?2:g<65536?3:4;for(h.uint8array?u=new Uint8Array(S):u=new Array(S),l=0,C=0;l<S;C++)g=t.charCodeAt(C),(g&64512)===55296&&C+1<_&&(x=t.charCodeAt(C+1),(x&64512)===56320&&(g=65536+(g-55296<<10)+(x-56320),C++)),g<128?u[l++]=g:g<2048?(u[l++]=192|g>>>6,u[l++]=128|g&63):g<65536?(u[l++]=224|g>>>12,u[l++]=128|g>>>6&63,u[l++]=128|g&63):(u[l++]=240|g>>>18,u[l++]=128|g>>>12&63,u[l++]=128|g>>>6&63,u[l++]=128|g&63);return u},d=function(t,u){var g;for(u=u||t.length,u>t.length&&(u=t.length),g=u-1;g>=0&&(t[g]&192)===128;)g--;return g<0||g===0?u:g+o[t[g]]>u?g:u},E=function(t){var u,g,x,C,l=t.length,_=new Array(l*2);for(g=0,u=0;u<l;){if(x=t[u++],x<128){_[g++]=x;continue}if(C=o[x],C>4){_[g++]=65533,u+=C-1;continue}for(x&=C===2?31:C===3?15:7;C>1&&u<l;)x=x<<6|t[u++]&63,C--;if(C>1){_[g++]=65533;continue}x<65536?_[g++]=x:(x-=65536,_[g++]=55296|x>>10&1023,_[g++]=56320|x&1023)}return _.length!==g&&(_.subarray?_=_.subarray(0,g):_.length=g),f.applyFromCharCode(_)};a.utf8encode=function(u){return h.nodebuffer?r.newBufferFrom(u,"utf-8"):p(u)},a.utf8decode=function(u){return h.nodebuffer?f.transformTo("nodebuffer",u).toString("utf-8"):(u=f.transformTo(h.uint8array?"uint8array":"array",u),E(u))};function m(){b.call(this,"utf-8 decode"),this.leftOver=null}f.inherits(m,b),m.prototype.processChunk=function(t){var u=f.transformTo(h.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var g=u;u=new Uint8Array(g.length+this.leftOver.length),u.set(this.leftOver,0),u.set(g,this.leftOver.length)}else u=this.leftOver.concat(u);this.leftOver=null}var x=d(u),C=u;x!==u.length&&(h.uint8array?(C=u.subarray(0,x),this.leftOver=u.subarray(x,u.length)):(C=u.slice(0,x),this.leftOver=u.slice(x,u.length))),this.push({data:a.utf8decode(C),meta:t.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=m;function c(){b.call(this,"utf-8 encode")}f.inherits(c,b),c.prototype.processChunk=function(t){this.push({data:a.utf8encode(t.data),meta:t.meta})},a.Utf8EncodeWorker=c}(At)),At}var Yt,pi;function da(){if(pi)return Yt;pi=1;var a=Ge(),f=Te();function h(r){a.call(this,"ConvertWorker to "+r),this.destType=r}return f.inherits(h,a),h.prototype.processChunk=function(r){this.push({data:f.transformTo(this.destType,r.data),meta:r.meta})},Yt=h,Yt}var Kt,vi;function ca(){if(vi)return Kt;vi=1;var a=bn().Readable,f=Te();f.inherits(h,a);function h(r,b,o){a.call(this,b),this._helper=r;var n=this;r.on("data",function(p,d){n.push(p)||n._helper.pause(),o&&o(d)}).on("error",function(p){n.emit("error",p)}).on("end",function(){n.push(null)})}return h.prototype._read=function(){this._helper.resume()},Kt=h,Kt}var Xt,_i;function En(){if(_i)return Xt;_i=1;var a=Te(),f=da(),h=Ge(),r=xn(),b=tt(),o=dt(),n=null;if(b.nodestream)try{n=ca()}catch{}function p(c,t,u){switch(c){case"blob":return a.newBlob(a.transformTo("arraybuffer",t),u);case"base64":return r.encode(t);default:return a.transformTo(c,t)}}function d(c,t){var u,g=0,x=null,C=0;for(u=0;u<t.length;u++)C+=t[u].length;switch(c){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(x=new Uint8Array(C),u=0;u<t.length;u++)x.set(t[u],g),g+=t[u].length;return x;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+c+"'")}}function E(c,t){return new o.Promise(function(u,g){var x=[],C=c._internalType,l=c._outputType,_=c._mimeType;c.on("data",function(S,O){x.push(S),t&&t(O)}).on("error",function(S){x=[],g(S)}).on("end",function(){try{var S=p(l,d(C,x),_);u(S)}catch(O){g(O)}x=[]}).resume()})}function m(c,t,u){var g=t;switch(t){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string";break}try{this._internalType=g,this._outputType=t,this._mimeType=u,a.checkSupport(g),this._worker=c.pipe(new f(g)),c.lock()}catch(x){this._worker=new h("error"),this._worker.error(x)}}return m.prototype={accumulate:function(c){return E(this,c)},on:function(c,t){var u=this;return c==="data"?this._worker.on(c,function(g){t.call(u,g.data,g.meta)}):this._worker.on(c,function(){a.delay(t,arguments,u)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(c){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:this._outputType!=="nodebuffer"},c)}},Xt=m,Xt}var He={},gi;function kn(){return gi||(gi=1,He.base64=!1,He.binary=!1,He.dir=!1,He.createFolders=!0,He.date=null,He.compression=null,He.compressionOptions=null,He.comment=null,He.unixPermissions=null,He.dosPermissions=null),He}var Vt,mi;function Sn(){if(mi)return Vt;mi=1;var a=Te(),f=Ge(),h=16*1024;function r(b){f.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,b.then(function(n){o.dataIsReady=!0,o.data=n,o.max=n&&n.length||0,o.type=a.getTypeOf(n),o.isPaused||o._tickAndRepeat()},function(n){o.error(n)})}return a.inherits(r,f),r.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return f.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0):!1},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var b=h,o=null,n=Math.min(this.max,this.index+b);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,n);break;case"uint8array":o=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":o=this.data.slice(this.index,n);break}return this.index=n,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},Vt=r,Vt}var Jt,wi;function Fr(){if(wi)return Jt;wi=1;var a=Te();function f(){for(var o,n=[],p=0;p<256;p++){o=p;for(var d=0;d<8;d++)o=o&1?3988292384^o>>>1:o>>>1;n[p]=o}return n}var h=f();function r(o,n,p,d){var E=h,m=d+p;o=o^-1;for(var c=d;c<m;c++)o=o>>>8^E[(o^n[c])&255];return o^-1}function b(o,n,p,d){var E=h,m=d+p;o=o^-1;for(var c=d;c<m;c++)o=o>>>8^E[(o^n.charCodeAt(c))&255];return o^-1}return Jt=function(n,p){if(typeof n>"u"||!n.length)return 0;var d=a.getTypeOf(n)!=="string";return d?r(p|0,n,n.length,0):b(p|0,n,n.length,0)},Jt}var Qt,yi;function Cn(){if(yi)return Qt;yi=1;var a=Ge(),f=Fr(),h=Te();function r(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}return h.inherits(r,a),r.prototype.processChunk=function(b){this.streamInfo.crc32=f(b.data,this.streamInfo.crc32||0),this.push(b)},Qt=r,Qt}var er,bi;function pa(){if(bi)return er;bi=1;var a=Te(),f=Ge();function h(r){f.call(this,"DataLengthProbe for "+r),this.propName=r,this.withStreamInfo(r,0)}return a.inherits(h,f),h.prototype.processChunk=function(r){if(r){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+r.data.length}f.prototype.processChunk.call(this,r)},er=h,er}var tr,xi;function Lr(){if(xi)return tr;xi=1;var a=dt(),f=Sn(),h=Cn(),r=pa();function b(o,n,p,d,E){this.compressedSize=o,this.uncompressedSize=n,this.crc32=p,this.compression=d,this.compressedContent=E}return b.prototype={getContentWorker:function(){var o=new f(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),n=this;return o.on("end",function(){if(this.streamInfo.data_length!==n.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),o},getCompressedWorker:function(){return new f(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(o,n,p){return o.pipe(new h).pipe(new r("uncompressedSize")).pipe(n.compressWorker(p)).pipe(new r("compressedSize")).withStreamInfo("compression",n)},tr=b,tr}var rr,Ei;function va(){if(Ei)return rr;Ei=1;var a=En(),f=Sn(),h=ct(),r=Lr(),b=Ge(),o=function(E,m,c){this.name=E,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=m,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}};o.prototype={internalStream:function(E){var m=null,c="string";try{if(!E)throw new Error("No output type specified.");c=E.toLowerCase();var t=c==="string"||c==="text";(c==="binarystring"||c==="text")&&(c="string"),m=this._decompressWorker();var u=!this._dataBinary;u&&!t&&(m=m.pipe(new h.Utf8EncodeWorker)),!u&&t&&(m=m.pipe(new h.Utf8DecodeWorker))}catch(g){m=new b("error"),m.error(g)}return new a(m,c,"")},async:function(E,m){return this.internalStream(E).accumulate(m)},nodeStream:function(E,m){return this.internalStream(E||"nodebuffer").toNodejsStream(m)},_compressWorker:function(E,m){if(this._data instanceof r&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new h.Utf8EncodeWorker)),r.createWorkerFrom(c,E,m)},_decompressWorker:function(){return this._data instanceof r?this._data.getContentWorker():this._data instanceof b?this._data:new f(this._data)}};for(var n=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<n.length;d++)o.prototype[n[d]]=p;return rr=o,rr}var ir={},Et={},ft={},nr={},ki;function rt(){return ki||(ki=1,function(a){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function h(o,n){return Object.prototype.hasOwnProperty.call(o,n)}a.assign=function(o){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var p=n.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var d in p)h(p,d)&&(o[d]=p[d])}}return o},a.shrinkBuf=function(o,n){return o.length===n?o:o.subarray?o.subarray(0,n):(o.length=n,o)};var r={arraySet:function(o,n,p,d,E){if(n.subarray&&o.subarray){o.set(n.subarray(p,p+d),E);return}for(var m=0;m<d;m++)o[E+m]=n[p+m]},flattenChunks:function(o){var n,p,d,E,m,c;for(d=0,n=0,p=o.length;n<p;n++)d+=o[n].length;for(c=new Uint8Array(d),E=0,n=0,p=o.length;n<p;n++)m=o[n],c.set(m,E),E+=m.length;return c}},b={arraySet:function(o,n,p,d,E){for(var m=0;m<d;m++)o[E+m]=n[p+m]},flattenChunks:function(o){return[].concat.apply([],o)}};a.setTyped=function(o){o?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,r)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,b))},a.setTyped(f)}(nr)),nr}var at={},Ye={},it={},Si;function _a(){if(Si)return it;Si=1;var a=rt(),f=4,h=0,r=1,b=2;function o(v){for(var q=v.length;--q>=0;)v[q]=0}var n=0,p=1,d=2,E=3,m=258,c=29,t=256,u=t+1+c,g=30,x=19,C=2*u+1,l=15,_=16,S=7,O=256,N=16,H=17,P=18,X=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],le=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],he=512,Y=new Array((u+2)*2);o(Y);var ee=new Array(g*2);o(ee);var ye=new Array(he);o(ye);var Se=new Array(m-E+1);o(Se);var R=new Array(c);o(R);var A=new Array(g);o(A);function z(v,q,Z,Q,T){this.static_tree=v,this.extra_bits=q,this.extra_base=Z,this.elems=Q,this.max_length=T,this.has_stree=v&&v.length}var te,ae,se;function ne(v,q){this.dyn_tree=v,this.max_code=0,this.stat_desc=q}function me(v){return v<256?ye[v]:ye[256+(v>>>7)]}function be(v,q){v.pending_buf[v.pending++]=q&255,v.pending_buf[v.pending++]=q>>>8&255}function pe(v,q,Z){v.bi_valid>_-Z?(v.bi_buf|=q<<v.bi_valid&65535,be(v,v.bi_buf),v.bi_buf=q>>_-v.bi_valid,v.bi_valid+=Z-_):(v.bi_buf|=q<<v.bi_valid&65535,v.bi_valid+=Z)}function w(v,q,Z){pe(v,Z[q*2],Z[q*2+1])}function y(v,q){var Z=0;do Z|=v&1,v>>>=1,Z<<=1;while(--q>0);return Z>>>1}function j(v){v.bi_valid===16?(be(v,v.bi_buf),v.bi_buf=0,v.bi_valid=0):v.bi_valid>=8&&(v.pending_buf[v.pending++]=v.bi_buf&255,v.bi_buf>>=8,v.bi_valid-=8)}function $(v,q){var Z=q.dyn_tree,Q=q.max_code,T=q.stat_desc.static_tree,L=q.stat_desc.has_stree,i=q.stat_desc.extra_bits,U=q.stat_desc.extra_base,de=q.stat_desc.max_length,e,I,F,s,k,D,ie=0;for(s=0;s<=l;s++)v.bl_count[s]=0;for(Z[v.heap[v.heap_max]*2+1]=0,e=v.heap_max+1;e<C;e++)I=v.heap[e],s=Z[Z[I*2+1]*2+1]+1,s>de&&(s=de,ie++),Z[I*2+1]=s,!(I>Q)&&(v.bl_count[s]++,k=0,I>=U&&(k=i[I-U]),D=Z[I*2],v.opt_len+=D*(s+k),L&&(v.static_len+=D*(T[I*2+1]+k)));if(ie!==0){do{for(s=de-1;v.bl_count[s]===0;)s--;v.bl_count[s]--,v.bl_count[s+1]+=2,v.bl_count[de]--,ie-=2}while(ie>0);for(s=de;s!==0;s--)for(I=v.bl_count[s];I!==0;)F=v.heap[--e],!(F>Q)&&(Z[F*2+1]!==s&&(v.opt_len+=(s-Z[F*2+1])*Z[F*2],Z[F*2+1]=s),I--)}}function ce(v,q,Z){var Q=new Array(l+1),T=0,L,i;for(L=1;L<=l;L++)Q[L]=T=T+Z[L-1]<<1;for(i=0;i<=q;i++){var U=v[i*2+1];U!==0&&(v[i*2]=y(Q[U]++,U))}}function G(){var v,q,Z,Q,T,L=new Array(l+1);for(Z=0,Q=0;Q<c-1;Q++)for(R[Q]=Z,v=0;v<1<<X[Q];v++)Se[Z++]=Q;for(Se[Z-1]=Q,T=0,Q=0;Q<16;Q++)for(A[Q]=T,v=0;v<1<<ue[Q];v++)ye[T++]=Q;for(T>>=7;Q<g;Q++)for(A[Q]=T<<7,v=0;v<1<<ue[Q]-7;v++)ye[256+T++]=Q;for(q=0;q<=l;q++)L[q]=0;for(v=0;v<=143;)Y[v*2+1]=8,v++,L[8]++;for(;v<=255;)Y[v*2+1]=9,v++,L[9]++;for(;v<=279;)Y[v*2+1]=7,v++,L[7]++;for(;v<=287;)Y[v*2+1]=8,v++,L[8]++;for(ce(Y,u+1,L),v=0;v<g;v++)ee[v*2+1]=5,ee[v*2]=y(v,5);te=new z(Y,X,t+1,u,l),ae=new z(ee,ue,0,g,l),se=new z(new Array(0),oe,0,x,S)}function fe(v){var q;for(q=0;q<u;q++)v.dyn_ltree[q*2]=0;for(q=0;q<g;q++)v.dyn_dtree[q*2]=0;for(q=0;q<x;q++)v.bl_tree[q*2]=0;v.dyn_ltree[O*2]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function je(v){v.bi_valid>8?be(v,v.bi_buf):v.bi_valid>0&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function Ie(v,q,Z,Q){je(v),be(v,Z),be(v,~Z),a.arraySet(v.pending_buf,v.window,q,Z,v.pending),v.pending+=Z}function Be(v,q,Z,Q){var T=q*2,L=Z*2;return v[T]<v[L]||v[T]===v[L]&&Q[q]<=Q[Z]}function Ee(v,q,Z){for(var Q=v.heap[Z],T=Z<<1;T<=v.heap_len&&(T<v.heap_len&&Be(q,v.heap[T+1],v.heap[T],v.depth)&&T++,!Be(q,Q,v.heap[T],v.depth));)v.heap[Z]=v.heap[T],Z=T,T<<=1;v.heap[Z]=Q}function re(v,q,Z){var Q,T,L=0,i,U;if(v.last_lit!==0)do Q=v.pending_buf[v.d_buf+L*2]<<8|v.pending_buf[v.d_buf+L*2+1],T=v.pending_buf[v.l_buf+L],L++,Q===0?w(v,T,q):(i=Se[T],w(v,i+t+1,q),U=X[i],U!==0&&(T-=R[i],pe(v,T,U)),Q--,i=me(Q),w(v,i,Z),U=ue[i],U!==0&&(Q-=A[i],pe(v,Q,U)));while(L<v.last_lit);w(v,O,q)}function Oe(v,q){var Z=q.dyn_tree,Q=q.stat_desc.static_tree,T=q.stat_desc.has_stree,L=q.stat_desc.elems,i,U,de=-1,e;for(v.heap_len=0,v.heap_max=C,i=0;i<L;i++)Z[i*2]!==0?(v.heap[++v.heap_len]=de=i,v.depth[i]=0):Z[i*2+1]=0;for(;v.heap_len<2;)e=v.heap[++v.heap_len]=de<2?++de:0,Z[e*2]=1,v.depth[e]=0,v.opt_len--,T&&(v.static_len-=Q[e*2+1]);for(q.max_code=de,i=v.heap_len>>1;i>=1;i--)Ee(v,Z,i);e=L;do i=v.heap[1],v.heap[1]=v.heap[v.heap_len--],Ee(v,Z,1),U=v.heap[1],v.heap[--v.heap_max]=i,v.heap[--v.heap_max]=U,Z[e*2]=Z[i*2]+Z[U*2],v.depth[e]=(v.depth[i]>=v.depth[U]?v.depth[i]:v.depth[U])+1,Z[i*2+1]=Z[U*2+1]=e,v.heap[1]=e++,Ee(v,Z,1);while(v.heap_len>=2);v.heap[--v.heap_max]=v.heap[1],$(v,q),ce(Z,de,v.bl_count)}function Ze(v,q,Z){var Q,T=-1,L,i=q[0*2+1],U=0,de=7,e=4;for(i===0&&(de=138,e=3),q[(Z+1)*2+1]=65535,Q=0;Q<=Z;Q++)L=i,i=q[(Q+1)*2+1],!(++U<de&&L===i)&&(U<e?v.bl_tree[L*2]+=U:L!==0?(L!==T&&v.bl_tree[L*2]++,v.bl_tree[N*2]++):U<=10?v.bl_tree[H*2]++:v.bl_tree[P*2]++,U=0,T=L,i===0?(de=138,e=3):L===i?(de=6,e=3):(de=7,e=4))}function Me(v,q,Z){var Q,T=-1,L,i=q[0*2+1],U=0,de=7,e=4;for(i===0&&(de=138,e=3),Q=0;Q<=Z;Q++)if(L=i,i=q[(Q+1)*2+1],!(++U<de&&L===i)){if(U<e)do w(v,L,v.bl_tree);while(--U!==0);else L!==0?(L!==T&&(w(v,L,v.bl_tree),U--),w(v,N,v.bl_tree),pe(v,U-3,2)):U<=10?(w(v,H,v.bl_tree),pe(v,U-3,3)):(w(v,P,v.bl_tree),pe(v,U-11,7));U=0,T=L,i===0?(de=138,e=3):L===i?(de=6,e=3):(de=7,e=4)}}function B(v){var q;for(Ze(v,v.dyn_ltree,v.l_desc.max_code),Ze(v,v.dyn_dtree,v.d_desc.max_code),Oe(v,v.bl_desc),q=x-1;q>=3&&v.bl_tree[le[q]*2+1]===0;q--);return v.opt_len+=3*(q+1)+5+5+4,q}function M(v,q,Z,Q){var T;for(pe(v,q-257,5),pe(v,Z-1,5),pe(v,Q-4,4),T=0;T<Q;T++)pe(v,v.bl_tree[le[T]*2+1],3);Me(v,v.dyn_ltree,q-1),Me(v,v.dyn_dtree,Z-1)}function W(v){var q=4093624447,Z;for(Z=0;Z<=31;Z++,q>>>=1)if(q&1&&v.dyn_ltree[Z*2]!==0)return h;if(v.dyn_ltree[9*2]!==0||v.dyn_ltree[10*2]!==0||v.dyn_ltree[13*2]!==0)return r;for(Z=32;Z<t;Z++)if(v.dyn_ltree[Z*2]!==0)return r;return h}var V=!1;function we(v){V||(G(),V=!0),v.l_desc=new ne(v.dyn_ltree,te),v.d_desc=new ne(v.dyn_dtree,ae),v.bl_desc=new ne(v.bl_tree,se),v.bi_buf=0,v.bi_valid=0,fe(v)}function ve(v,q,Z,Q){pe(v,(n<<1)+(Q?1:0),3),Ie(v,q,Z)}function ke(v){pe(v,p<<1,3),w(v,O,Y),j(v)}function Ce(v,q,Z,Q){var T,L,i=0;v.level>0?(v.strm.data_type===b&&(v.strm.data_type=W(v)),Oe(v,v.l_desc),Oe(v,v.d_desc),i=B(v),T=v.opt_len+3+7>>>3,L=v.static_len+3+7>>>3,L<=T&&(T=L)):T=L=Z+5,Z+4<=T&&q!==-1?ve(v,q,Z,Q):v.strategy===f||L===T?(pe(v,(p<<1)+(Q?1:0),3),re(v,Y,ee)):(pe(v,(d<<1)+(Q?1:0),3),M(v,v.l_desc.max_code+1,v.d_desc.max_code+1,i+1),re(v,v.dyn_ltree,v.dyn_dtree)),fe(v),Q&&je(v)}function Je(v,q,Z){return v.pending_buf[v.d_buf+v.last_lit*2]=q>>>8&255,v.pending_buf[v.d_buf+v.last_lit*2+1]=q&255,v.pending_buf[v.l_buf+v.last_lit]=Z&255,v.last_lit++,q===0?v.dyn_ltree[Z*2]++:(v.matches++,q--,v.dyn_ltree[(Se[Z]+t+1)*2]++,v.dyn_dtree[me(q)*2]++),v.last_lit===v.lit_bufsize-1}return it._tr_init=we,it._tr_stored_block=ve,it._tr_flush_block=Ce,it._tr_tally=Je,it._tr_align=ke,it}var ar,Ci;function Rn(){if(Ci)return ar;Ci=1;function a(f,h,r,b){for(var o=f&65535|0,n=f>>>16&65535|0,p=0;r!==0;){p=r>2e3?2e3:r,r-=p;do o=o+h[b++]|0,n=n+o|0;while(--p);o%=65521,n%=65521}return o|n<<16|0}return ar=a,ar}var or,Ri;function Tn(){if(Ri)return or;Ri=1;function a(){for(var r,b=[],o=0;o<256;o++){r=o;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;b[o]=r}return b}var f=a();function h(r,b,o,n){var p=f,d=n+o;r^=-1;for(var E=n;E<d;E++)r=r>>>8^p[(r^b[E])&255];return r^-1}return or=h,or}var sr,Ti;function zr(){return Ti||(Ti=1,sr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),sr}var Ai;function ga(){if(Ai)return Ye;Ai=1;var a=rt(),f=_a(),h=Rn(),r=Tn(),b=zr(),o=0,n=1,p=3,d=4,E=5,m=0,c=1,t=-2,u=-3,g=-5,x=-1,C=1,l=2,_=3,S=4,O=0,N=2,H=8,P=9,X=15,ue=8,oe=29,le=256,he=le+1+oe,Y=30,ee=19,ye=2*he+1,Se=15,R=3,A=258,z=A+R+1,te=32,ae=42,se=69,ne=73,me=91,be=103,pe=113,w=666,y=1,j=2,$=3,ce=4,G=3;function fe(e,I){return e.msg=b[I],I}function je(e){return(e<<1)-(e>4?9:0)}function Ie(e){for(var I=e.length;--I>=0;)e[I]=0}function Be(e){var I=e.state,F=I.pending;F>e.avail_out&&(F=e.avail_out),F!==0&&(a.arraySet(e.output,I.pending_buf,I.pending_out,F,e.next_out),e.next_out+=F,I.pending_out+=F,e.total_out+=F,e.avail_out-=F,I.pending-=F,I.pending===0&&(I.pending_out=0))}function Ee(e,I){f._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,I),e.block_start=e.strstart,Be(e.strm)}function re(e,I){e.pending_buf[e.pending++]=I}function Oe(e,I){e.pending_buf[e.pending++]=I>>>8&255,e.pending_buf[e.pending++]=I&255}function Ze(e,I,F,s){var k=e.avail_in;return k>s&&(k=s),k===0?0:(e.avail_in-=k,a.arraySet(I,e.input,e.next_in,k,F),e.state.wrap===1?e.adler=h(e.adler,I,k,F):e.state.wrap===2&&(e.adler=r(e.adler,I,k,F)),e.next_in+=k,e.total_in+=k,k)}function Me(e,I){var F=e.max_chain_length,s=e.strstart,k,D,ie=e.prev_length,K=e.nice_match,J=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,_e=e.window,Xe=e.w_mask,Re=e.prev,ge=e.strstart+A,Ne=_e[s+ie-1],Pe=_e[s+ie];e.prev_length>=e.good_match&&(F>>=2),K>e.lookahead&&(K=e.lookahead);do if(k=I,!(_e[k+ie]!==Pe||_e[k+ie-1]!==Ne||_e[k]!==_e[s]||_e[++k]!==_e[s+1])){s+=2,k++;do;while(_e[++s]===_e[++k]&&_e[++s]===_e[++k]&&_e[++s]===_e[++k]&&_e[++s]===_e[++k]&&_e[++s]===_e[++k]&&_e[++s]===_e[++k]&&_e[++s]===_e[++k]&&_e[++s]===_e[++k]&&s<ge);if(D=A-(ge-s),s=ge-A,D>ie){if(e.match_start=I,ie=D,D>=K)break;Ne=_e[s+ie-1],Pe=_e[s+ie]}}while((I=Re[I&Xe])>J&&--F!==0);return ie<=e.lookahead?ie:e.lookahead}function B(e){var I=e.w_size,F,s,k,D,ie;do{if(D=e.window_size-e.lookahead-e.strstart,e.strstart>=I+(I-z)){a.arraySet(e.window,e.window,I,I,0),e.match_start-=I,e.strstart-=I,e.block_start-=I,s=e.hash_size,F=s;do k=e.head[--F],e.head[F]=k>=I?k-I:0;while(--s);s=I,F=s;do k=e.prev[--F],e.prev[F]=k>=I?k-I:0;while(--s);D+=I}if(e.strm.avail_in===0)break;if(s=Ze(e.strm,e.window,e.strstart+e.lookahead,D),e.lookahead+=s,e.lookahead+e.insert>=R)for(ie=e.strstart-e.insert,e.ins_h=e.window[ie],e.ins_h=(e.ins_h<<e.hash_shift^e.window[ie+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[ie+R-1])&e.hash_mask,e.prev[ie&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=ie,ie++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<z&&e.strm.avail_in!==0)}function M(e,I){var F=65535;for(F>e.pending_buf_size-5&&(F=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),e.lookahead===0&&I===o)return y;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var s=e.block_start+F;if((e.strstart===0||e.strstart>=s)&&(e.lookahead=e.strstart-s,e.strstart=s,Ee(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-z&&(Ee(e,!1),e.strm.avail_out===0))return y}return e.insert=0,I===d?(Ee(e,!0),e.strm.avail_out===0?$:ce):(e.strstart>e.block_start&&(Ee(e,!1),e.strm.avail_out===0),y)}function W(e,I){for(var F,s;;){if(e.lookahead<z){if(B(e),e.lookahead<z&&I===o)return y;if(e.lookahead===0)break}if(F=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),F!==0&&e.strstart-F<=e.w_size-z&&(e.match_length=Me(e,F)),e.match_length>=R)if(s=f._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else s=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(Ee(e,!1),e.strm.avail_out===0))return y}return e.insert=e.strstart<R-1?e.strstart:R-1,I===d?(Ee(e,!0),e.strm.avail_out===0?$:ce):e.last_lit&&(Ee(e,!1),e.strm.avail_out===0)?y:j}function V(e,I){for(var F,s,k;;){if(e.lookahead<z){if(B(e),e.lookahead<z&&I===o)return y;if(e.lookahead===0)break}if(F=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,F!==0&&e.prev_length<e.max_lazy_match&&e.strstart-F<=e.w_size-z&&(e.match_length=Me(e,F),e.match_length<=5&&(e.strategy===C||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){k=e.strstart+e.lookahead-R,s=f._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=R-1,e.strstart++,s&&(Ee(e,!1),e.strm.avail_out===0))return y}else if(e.match_available){if(s=f._tr_tally(e,0,e.window[e.strstart-1]),s&&Ee(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return y}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=f._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,I===d?(Ee(e,!0),e.strm.avail_out===0?$:ce):e.last_lit&&(Ee(e,!1),e.strm.avail_out===0)?y:j}function we(e,I){for(var F,s,k,D,ie=e.window;;){if(e.lookahead<=A){if(B(e),e.lookahead<=A&&I===o)return y;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(k=e.strstart-1,s=ie[k],s===ie[++k]&&s===ie[++k]&&s===ie[++k])){D=e.strstart+A;do;while(s===ie[++k]&&s===ie[++k]&&s===ie[++k]&&s===ie[++k]&&s===ie[++k]&&s===ie[++k]&&s===ie[++k]&&s===ie[++k]&&k<D);e.match_length=A-(D-k),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(F=f._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(F=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),F&&(Ee(e,!1),e.strm.avail_out===0))return y}return e.insert=0,I===d?(Ee(e,!0),e.strm.avail_out===0?$:ce):e.last_lit&&(Ee(e,!1),e.strm.avail_out===0)?y:j}function ve(e,I){for(var F;;){if(e.lookahead===0&&(B(e),e.lookahead===0)){if(I===o)return y;break}if(e.match_length=0,F=f._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,F&&(Ee(e,!1),e.strm.avail_out===0))return y}return e.insert=0,I===d?(Ee(e,!0),e.strm.avail_out===0?$:ce):e.last_lit&&(Ee(e,!1),e.strm.avail_out===0)?y:j}function ke(e,I,F,s,k){this.good_length=e,this.max_lazy=I,this.nice_length=F,this.max_chain=s,this.func=k}var Ce;Ce=[new ke(0,0,0,0,M),new ke(4,4,8,4,W),new ke(4,5,16,8,W),new ke(4,6,32,32,W),new ke(4,4,16,16,V),new ke(8,16,32,32,V),new ke(8,16,128,128,V),new ke(8,32,128,256,V),new ke(32,128,258,1024,V),new ke(32,258,258,4096,V)];function Je(e){e.window_size=2*e.w_size,Ie(e.head),e.max_lazy_match=Ce[e.level].max_lazy,e.good_match=Ce[e.level].good_length,e.nice_match=Ce[e.level].nice_length,e.max_chain_length=Ce[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=H,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(ye*2),this.dyn_dtree=new a.Buf16((2*Y+1)*2),this.bl_tree=new a.Buf16((2*ee+1)*2),Ie(this.dyn_ltree),Ie(this.dyn_dtree),Ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Se+1),this.heap=new a.Buf16(2*he+1),Ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*he+1),Ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var I;return!e||!e.state?fe(e,t):(e.total_in=e.total_out=0,e.data_type=N,I=e.state,I.pending=0,I.pending_out=0,I.wrap<0&&(I.wrap=-I.wrap),I.status=I.wrap?ae:pe,e.adler=I.wrap===2?0:1,I.last_flush=o,f._tr_init(I),m)}function Z(e){var I=q(e);return I===m&&Je(e.state),I}function Q(e,I){return!e||!e.state||e.state.wrap!==2?t:(e.state.gzhead=I,m)}function T(e,I,F,s,k,D){if(!e)return t;var ie=1;if(I===x&&(I=6),s<0?(ie=0,s=-s):s>15&&(ie=2,s-=16),k<1||k>P||F!==H||s<8||s>15||I<0||I>9||D<0||D>S)return fe(e,t);s===8&&(s=9);var K=new v;return e.state=K,K.strm=e,K.wrap=ie,K.gzhead=null,K.w_bits=s,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=k+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+R-1)/R),K.window=new a.Buf8(K.w_size*2),K.head=new a.Buf16(K.hash_size),K.prev=new a.Buf16(K.w_size),K.lit_bufsize=1<<k+6,K.pending_buf_size=K.lit_bufsize*4,K.pending_buf=new a.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=I,K.strategy=D,K.method=F,Z(e)}function L(e,I){return T(e,I,H,X,ue,O)}function i(e,I){var F,s,k,D;if(!e||!e.state||I>E||I<0)return e?fe(e,t):t;if(s=e.state,!e.output||!e.input&&e.avail_in!==0||s.status===w&&I!==d)return fe(e,e.avail_out===0?g:t);if(s.strm=e,F=s.last_flush,s.last_flush=I,s.status===ae)if(s.wrap===2)e.adler=0,re(s,31),re(s,139),re(s,8),s.gzhead?(re(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),re(s,s.gzhead.time&255),re(s,s.gzhead.time>>8&255),re(s,s.gzhead.time>>16&255),re(s,s.gzhead.time>>24&255),re(s,s.level===9?2:s.strategy>=l||s.level<2?4:0),re(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(re(s,s.gzhead.extra.length&255),re(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=r(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=se):(re(s,0),re(s,0),re(s,0),re(s,0),re(s,0),re(s,s.level===9?2:s.strategy>=l||s.level<2?4:0),re(s,G),s.status=pe);else{var ie=H+(s.w_bits-8<<4)<<8,K=-1;s.strategy>=l||s.level<2?K=0:s.level<6?K=1:s.level===6?K=2:K=3,ie|=K<<6,s.strstart!==0&&(ie|=te),ie+=31-ie%31,s.status=pe,Oe(s,ie),s.strstart!==0&&(Oe(s,e.adler>>>16),Oe(s,e.adler&65535)),e.adler=1}if(s.status===se)if(s.gzhead.extra){for(k=s.pending;s.gzindex<(s.gzhead.extra.length&65535)&&!(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>k&&(e.adler=r(e.adler,s.pending_buf,s.pending-k,k)),Be(e),k=s.pending,s.pending===s.pending_buf_size));)re(s,s.gzhead.extra[s.gzindex]&255),s.gzindex++;s.gzhead.hcrc&&s.pending>k&&(e.adler=r(e.adler,s.pending_buf,s.pending-k,k)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=ne)}else s.status=ne;if(s.status===ne)if(s.gzhead.name){k=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>k&&(e.adler=r(e.adler,s.pending_buf,s.pending-k,k)),Be(e),k=s.pending,s.pending===s.pending_buf_size)){D=1;break}s.gzindex<s.gzhead.name.length?D=s.gzhead.name.charCodeAt(s.gzindex++)&255:D=0,re(s,D)}while(D!==0);s.gzhead.hcrc&&s.pending>k&&(e.adler=r(e.adler,s.pending_buf,s.pending-k,k)),D===0&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.comment){k=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>k&&(e.adler=r(e.adler,s.pending_buf,s.pending-k,k)),Be(e),k=s.pending,s.pending===s.pending_buf_size)){D=1;break}s.gzindex<s.gzhead.comment.length?D=s.gzhead.comment.charCodeAt(s.gzindex++)&255:D=0,re(s,D)}while(D!==0);s.gzhead.hcrc&&s.pending>k&&(e.adler=r(e.adler,s.pending_buf,s.pending-k,k)),D===0&&(s.status=be)}else s.status=be;if(s.status===be&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&Be(e),s.pending+2<=s.pending_buf_size&&(re(s,e.adler&255),re(s,e.adler>>8&255),e.adler=0,s.status=pe)):s.status=pe),s.pending!==0){if(Be(e),e.avail_out===0)return s.last_flush=-1,m}else if(e.avail_in===0&&je(I)<=je(F)&&I!==d)return fe(e,g);if(s.status===w&&e.avail_in!==0)return fe(e,g);if(e.avail_in!==0||s.lookahead!==0||I!==o&&s.status!==w){var J=s.strategy===l?ve(s,I):s.strategy===_?we(s,I):Ce[s.level].func(s,I);if((J===$||J===ce)&&(s.status=w),J===y||J===$)return e.avail_out===0&&(s.last_flush=-1),m;if(J===j&&(I===n?f._tr_align(s):I!==E&&(f._tr_stored_block(s,0,0,!1),I===p&&(Ie(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),Be(e),e.avail_out===0))return s.last_flush=-1,m}return I!==d?m:s.wrap<=0?c:(s.wrap===2?(re(s,e.adler&255),re(s,e.adler>>8&255),re(s,e.adler>>16&255),re(s,e.adler>>24&255),re(s,e.total_in&255),re(s,e.total_in>>8&255),re(s,e.total_in>>16&255),re(s,e.total_in>>24&255)):(Oe(s,e.adler>>>16),Oe(s,e.adler&65535)),Be(e),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?m:c)}function U(e){var I;return!e||!e.state?t:(I=e.state.status,I!==ae&&I!==se&&I!==ne&&I!==me&&I!==be&&I!==pe&&I!==w?fe(e,t):(e.state=null,I===pe?fe(e,u):m))}function de(e,I){var F=I.length,s,k,D,ie,K,J,_e,Xe;if(!e||!e.state||(s=e.state,ie=s.wrap,ie===2||ie===1&&s.status!==ae||s.lookahead))return t;for(ie===1&&(e.adler=h(e.adler,I,F,0)),s.wrap=0,F>=s.w_size&&(ie===0&&(Ie(s.head),s.strstart=0,s.block_start=0,s.insert=0),Xe=new a.Buf8(s.w_size),a.arraySet(Xe,I,F-s.w_size,s.w_size,0),I=Xe,F=s.w_size),K=e.avail_in,J=e.next_in,_e=e.input,e.avail_in=F,e.next_in=0,e.input=I,B(s);s.lookahead>=R;){k=s.strstart,D=s.lookahead-(R-1);do s.ins_h=(s.ins_h<<s.hash_shift^s.window[k+R-1])&s.hash_mask,s.prev[k&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=k,k++;while(--D);s.strstart=k,s.lookahead=R-1,B(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=R-1,s.match_available=0,e.next_in=J,e.input=_e,e.avail_in=K,s.wrap=ie,m}return Ye.deflateInit=L,Ye.deflateInit2=T,Ye.deflateReset=Z,Ye.deflateResetKeep=q,Ye.deflateSetHeader=Q,Ye.deflate=i,Ye.deflateEnd=U,Ye.deflateSetDictionary=de,Ye.deflateInfo="pako deflate (from Nodeca project)",Ye}var nt={},Oi;function An(){if(Oi)return nt;Oi=1;var a=rt(),f=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var r=new a.Buf8(256),b=0;b<256;b++)r[b]=b>=252?6:b>=248?5:b>=240?4:b>=224?3:b>=192?2:1;r[254]=r[254]=1,nt.string2buf=function(n){var p,d,E,m,c,t=n.length,u=0;for(m=0;m<t;m++)d=n.charCodeAt(m),(d&64512)===55296&&m+1<t&&(E=n.charCodeAt(m+1),(E&64512)===56320&&(d=65536+(d-55296<<10)+(E-56320),m++)),u+=d<128?1:d<2048?2:d<65536?3:4;for(p=new a.Buf8(u),c=0,m=0;c<u;m++)d=n.charCodeAt(m),(d&64512)===55296&&m+1<t&&(E=n.charCodeAt(m+1),(E&64512)===56320&&(d=65536+(d-55296<<10)+(E-56320),m++)),d<128?p[c++]=d:d<2048?(p[c++]=192|d>>>6,p[c++]=128|d&63):d<65536?(p[c++]=224|d>>>12,p[c++]=128|d>>>6&63,p[c++]=128|d&63):(p[c++]=240|d>>>18,p[c++]=128|d>>>12&63,p[c++]=128|d>>>6&63,p[c++]=128|d&63);return p};function o(n,p){if(p<65534&&(n.subarray&&h||!n.subarray&&f))return String.fromCharCode.apply(null,a.shrinkBuf(n,p));for(var d="",E=0;E<p;E++)d+=String.fromCharCode(n[E]);return d}return nt.buf2binstring=function(n){return o(n,n.length)},nt.binstring2buf=function(n){for(var p=new a.Buf8(n.length),d=0,E=p.length;d<E;d++)p[d]=n.charCodeAt(d);return p},nt.buf2string=function(n,p){var d,E,m,c,t=p||n.length,u=new Array(t*2);for(E=0,d=0;d<t;){if(m=n[d++],m<128){u[E++]=m;continue}if(c=r[m],c>4){u[E++]=65533,d+=c-1;continue}for(m&=c===2?31:c===3?15:7;c>1&&d<t;)m=m<<6|n[d++]&63,c--;if(c>1){u[E++]=65533;continue}m<65536?u[E++]=m:(m-=65536,u[E++]=55296|m>>10&1023,u[E++]=56320|m&1023)}return o(u,E)},nt.utf8border=function(n,p){var d;for(p=p||n.length,p>n.length&&(p=n.length),d=p-1;d>=0&&(n[d]&192)===128;)d--;return d<0||d===0?p:d+r[n[d]]>p?d:p},nt}var fr,Di;function On(){if(Di)return fr;Di=1;function a(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return fr=a,fr}var Ii;function ma(){if(Ii)return at;Ii=1;var a=ga(),f=rt(),h=An(),r=zr(),b=On(),o=Object.prototype.toString,n=0,p=4,d=0,E=1,m=2,c=-1,t=0,u=8;function g(_){if(!(this instanceof g))return new g(_);this.options=f.assign({level:c,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:t,to:""},_||{});var S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var O=a.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(O!==d)throw new Error(r[O]);if(S.header&&a.deflateSetHeader(this.strm,S.header),S.dictionary){var N;if(typeof S.dictionary=="string"?N=h.string2buf(S.dictionary):o.call(S.dictionary)==="[object ArrayBuffer]"?N=new Uint8Array(S.dictionary):N=S.dictionary,O=a.deflateSetDictionary(this.strm,N),O!==d)throw new Error(r[O]);this._dict_set=!0}}g.prototype.push=function(_,S){var O=this.strm,N=this.options.chunkSize,H,P;if(this.ended)return!1;P=S===~~S?S:S===!0?p:n,typeof _=="string"?O.input=h.string2buf(_):o.call(_)==="[object ArrayBuffer]"?O.input=new Uint8Array(_):O.input=_,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new f.Buf8(N),O.next_out=0,O.avail_out=N),H=a.deflate(O,P),H!==E&&H!==d)return this.onEnd(H),this.ended=!0,!1;(O.avail_out===0||O.avail_in===0&&(P===p||P===m))&&(this.options.to==="string"?this.onData(h.buf2binstring(f.shrinkBuf(O.output,O.next_out))):this.onData(f.shrinkBuf(O.output,O.next_out)))}while((O.avail_in>0||O.avail_out===0)&&H!==E);return P===p?(H=a.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===d):(P===m&&(this.onEnd(d),O.avail_out=0),!0)},g.prototype.onData=function(_){this.chunks.push(_)},g.prototype.onEnd=function(_){_===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function x(_,S){var O=new g(S);if(O.push(_,!0),O.err)throw O.msg||r[O.err];return O.result}function C(_,S){return S=S||{},S.raw=!0,x(_,S)}function l(_,S){return S=S||{},S.gzip=!0,x(_,S)}return at.Deflate=g,at.deflate=x,at.deflateRaw=C,at.gzip=l,at}var ot={},$e={},lr,Bi;function wa(){if(Bi)return lr;Bi=1;var a=30,f=12;return lr=function(r,b){var o,n,p,d,E,m,c,t,u,g,x,C,l,_,S,O,N,H,P,X,ue,oe,le,he,Y;o=r.state,n=r.next_in,he=r.input,p=n+(r.avail_in-5),d=r.next_out,Y=r.output,E=d-(b-r.avail_out),m=d+(r.avail_out-257),c=o.dmax,t=o.wsize,u=o.whave,g=o.wnext,x=o.window,C=o.hold,l=o.bits,_=o.lencode,S=o.distcode,O=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;e:do{l<15&&(C+=he[n++]<<l,l+=8,C+=he[n++]<<l,l+=8),H=_[C&O];t:for(;;){if(P=H>>>24,C>>>=P,l-=P,P=H>>>16&255,P===0)Y[d++]=H&65535;else if(P&16){X=H&65535,P&=15,P&&(l<P&&(C+=he[n++]<<l,l+=8),X+=C&(1<<P)-1,C>>>=P,l-=P),l<15&&(C+=he[n++]<<l,l+=8,C+=he[n++]<<l,l+=8),H=S[C&N];r:for(;;){if(P=H>>>24,C>>>=P,l-=P,P=H>>>16&255,P&16){if(ue=H&65535,P&=15,l<P&&(C+=he[n++]<<l,l+=8,l<P&&(C+=he[n++]<<l,l+=8)),ue+=C&(1<<P)-1,ue>c){r.msg="invalid distance too far back",o.mode=a;break e}if(C>>>=P,l-=P,P=d-E,ue>P){if(P=ue-P,P>u&&o.sane){r.msg="invalid distance too far back",o.mode=a;break e}if(oe=0,le=x,g===0){if(oe+=t-P,P<X){X-=P;do Y[d++]=x[oe++];while(--P);oe=d-ue,le=Y}}else if(g<P){if(oe+=t+g-P,P-=g,P<X){X-=P;do Y[d++]=x[oe++];while(--P);if(oe=0,g<X){P=g,X-=P;do Y[d++]=x[oe++];while(--P);oe=d-ue,le=Y}}}else if(oe+=g-P,P<X){X-=P;do Y[d++]=x[oe++];while(--P);oe=d-ue,le=Y}for(;X>2;)Y[d++]=le[oe++],Y[d++]=le[oe++],Y[d++]=le[oe++],X-=3;X&&(Y[d++]=le[oe++],X>1&&(Y[d++]=le[oe++]))}else{oe=d-ue;do Y[d++]=Y[oe++],Y[d++]=Y[oe++],Y[d++]=Y[oe++],X-=3;while(X>2);X&&(Y[d++]=Y[oe++],X>1&&(Y[d++]=Y[oe++]))}}else if((P&64)===0){H=S[(H&65535)+(C&(1<<P)-1)];continue r}else{r.msg="invalid distance code",o.mode=a;break e}break}}else if((P&64)===0){H=_[(H&65535)+(C&(1<<P)-1)];continue t}else if(P&32){o.mode=f;break e}else{r.msg="invalid literal/length code",o.mode=a;break e}break}}while(n<p&&d<m);X=l>>3,n-=X,l-=X<<3,C&=(1<<l)-1,r.next_in=n,r.next_out=d,r.avail_in=n<p?5+(p-n):5-(n-p),r.avail_out=d<m?257+(m-d):257-(d-m),o.hold=C,o.bits=l},lr}var ur,Ni;function ya(){if(Ni)return ur;Ni=1;var a=rt(),f=15,h=852,r=592,b=0,o=1,n=2,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return ur=function(t,u,g,x,C,l,_,S){var O=S.bits,N=0,H=0,P=0,X=0,ue=0,oe=0,le=0,he=0,Y=0,ee=0,ye,Se,R,A,z,te=null,ae=0,se,ne=new a.Buf16(f+1),me=new a.Buf16(f+1),be=null,pe=0,w,y,j;for(N=0;N<=f;N++)ne[N]=0;for(H=0;H<x;H++)ne[u[g+H]]++;for(ue=O,X=f;X>=1&&ne[X]===0;X--);if(ue>X&&(ue=X),X===0)return C[l++]=1<<24|64<<16|0,C[l++]=1<<24|64<<16|0,S.bits=1,0;for(P=1;P<X&&ne[P]===0;P++);for(ue<P&&(ue=P),he=1,N=1;N<=f;N++)if(he<<=1,he-=ne[N],he<0)return-1;if(he>0&&(t===b||X!==1))return-1;for(me[1]=0,N=1;N<f;N++)me[N+1]=me[N]+ne[N];for(H=0;H<x;H++)u[g+H]!==0&&(_[me[u[g+H]]++]=H);if(t===b?(te=be=_,se=19):t===o?(te=p,ae-=257,be=d,pe-=257,se=256):(te=E,be=m,se=-1),ee=0,H=0,N=P,z=l,oe=ue,le=0,R=-1,Y=1<<ue,A=Y-1,t===o&&Y>h||t===n&&Y>r)return 1;for(;;){w=N-le,_[H]<se?(y=0,j=_[H]):_[H]>se?(y=be[pe+_[H]],j=te[ae+_[H]]):(y=96,j=0),ye=1<<N-le,Se=1<<oe,P=Se;do Se-=ye,C[z+(ee>>le)+Se]=w<<24|y<<16|j|0;while(Se!==0);for(ye=1<<N-1;ee&ye;)ye>>=1;if(ye!==0?(ee&=ye-1,ee+=ye):ee=0,H++,--ne[N]===0){if(N===X)break;N=u[g+_[H]]}if(N>ue&&(ee&A)!==R){for(le===0&&(le=ue),z+=P,oe=N-le,he=1<<oe;oe+le<X&&(he-=ne[oe+le],!(he<=0));)oe++,he<<=1;if(Y+=1<<oe,t===o&&Y>h||t===n&&Y>r)return 1;R=ee&A,C[R]=ue<<24|oe<<16|z-l|0}}return ee!==0&&(C[z+ee]=N-le<<24|64<<16|0),S.bits=ue,0},ur}var Fi;function ba(){if(Fi)return $e;Fi=1;var a=rt(),f=Rn(),h=Tn(),r=wa(),b=ya(),o=0,n=1,p=2,d=4,E=5,m=6,c=0,t=1,u=2,g=-2,x=-3,C=-4,l=-5,_=8,S=1,O=2,N=3,H=4,P=5,X=6,ue=7,oe=8,le=9,he=10,Y=11,ee=12,ye=13,Se=14,R=15,A=16,z=17,te=18,ae=19,se=20,ne=21,me=22,be=23,pe=24,w=25,y=26,j=27,$=28,ce=29,G=30,fe=31,je=32,Ie=852,Be=592,Ee=15,re=Ee;function Oe(T){return(T>>>24&255)+(T>>>8&65280)+((T&65280)<<8)+((T&255)<<24)}function Ze(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Me(T){var L;return!T||!T.state?g:(L=T.state,T.total_in=T.total_out=L.total=0,T.msg="",L.wrap&&(T.adler=L.wrap&1),L.mode=S,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new a.Buf32(Ie),L.distcode=L.distdyn=new a.Buf32(Be),L.sane=1,L.back=-1,c)}function B(T){var L;return!T||!T.state?g:(L=T.state,L.wsize=0,L.whave=0,L.wnext=0,Me(T))}function M(T,L){var i,U;return!T||!T.state||(U=T.state,L<0?(i=0,L=-L):(i=(L>>4)+1,L<48&&(L&=15)),L&&(L<8||L>15))?g:(U.window!==null&&U.wbits!==L&&(U.window=null),U.wrap=i,U.wbits=L,B(T))}function W(T,L){var i,U;return T?(U=new Ze,T.state=U,U.window=null,i=M(T,L),i!==c&&(T.state=null),i):g}function V(T){return W(T,re)}var we=!0,ve,ke;function Ce(T){if(we){var L;for(ve=new a.Buf32(512),ke=new a.Buf32(32),L=0;L<144;)T.lens[L++]=8;for(;L<256;)T.lens[L++]=9;for(;L<280;)T.lens[L++]=7;for(;L<288;)T.lens[L++]=8;for(b(n,T.lens,0,288,ve,0,T.work,{bits:9}),L=0;L<32;)T.lens[L++]=5;b(p,T.lens,0,32,ke,0,T.work,{bits:5}),we=!1}T.lencode=ve,T.lenbits=9,T.distcode=ke,T.distbits=5}function Je(T,L,i,U){var de,e=T.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new a.Buf8(e.wsize)),U>=e.wsize?(a.arraySet(e.window,L,i-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(de=e.wsize-e.wnext,de>U&&(de=U),a.arraySet(e.window,L,i-U,de,e.wnext),U-=de,U?(a.arraySet(e.window,L,i-U,U,0),e.wnext=U,e.whave=e.wsize):(e.wnext+=de,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=de))),0}function v(T,L){var i,U,de,e,I,F,s,k,D,ie,K,J,_e,Xe,Re=0,ge,Ne,Pe,qe,pt,vt,De,We,Fe=new a.Buf8(4),Ve,Ke,Pr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return g;i=T.state,i.mode===ee&&(i.mode=ye),I=T.next_out,de=T.output,s=T.avail_out,e=T.next_in,U=T.input,F=T.avail_in,k=i.hold,D=i.bits,ie=F,K=s,We=c;e:for(;;)switch(i.mode){case S:if(i.wrap===0){i.mode=ye;break}for(;D<16;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(i.wrap&2&&k===35615){i.check=0,Fe[0]=k&255,Fe[1]=k>>>8&255,i.check=h(i.check,Fe,2,0),k=0,D=0,i.mode=O;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((k&255)<<8)+(k>>8))%31){T.msg="incorrect header check",i.mode=G;break}if((k&15)!==_){T.msg="unknown compression method",i.mode=G;break}if(k>>>=4,D-=4,De=(k&15)+8,i.wbits===0)i.wbits=De;else if(De>i.wbits){T.msg="invalid window size",i.mode=G;break}i.dmax=1<<De,T.adler=i.check=1,i.mode=k&512?he:ee,k=0,D=0;break;case O:for(;D<16;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(i.flags=k,(i.flags&255)!==_){T.msg="unknown compression method",i.mode=G;break}if(i.flags&57344){T.msg="unknown header flags set",i.mode=G;break}i.head&&(i.head.text=k>>8&1),i.flags&512&&(Fe[0]=k&255,Fe[1]=k>>>8&255,i.check=h(i.check,Fe,2,0)),k=0,D=0,i.mode=N;case N:for(;D<32;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}i.head&&(i.head.time=k),i.flags&512&&(Fe[0]=k&255,Fe[1]=k>>>8&255,Fe[2]=k>>>16&255,Fe[3]=k>>>24&255,i.check=h(i.check,Fe,4,0)),k=0,D=0,i.mode=H;case H:for(;D<16;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}i.head&&(i.head.xflags=k&255,i.head.os=k>>8),i.flags&512&&(Fe[0]=k&255,Fe[1]=k>>>8&255,i.check=h(i.check,Fe,2,0)),k=0,D=0,i.mode=P;case P:if(i.flags&1024){for(;D<16;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}i.length=k,i.head&&(i.head.extra_len=k),i.flags&512&&(Fe[0]=k&255,Fe[1]=k>>>8&255,i.check=h(i.check,Fe,2,0)),k=0,D=0}else i.head&&(i.head.extra=null);i.mode=X;case X:if(i.flags&1024&&(J=i.length,J>F&&(J=F),J&&(i.head&&(De=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),a.arraySet(i.head.extra,U,e,J,De)),i.flags&512&&(i.check=h(i.check,U,J,e)),F-=J,e+=J,i.length-=J),i.length))break e;i.length=0,i.mode=ue;case ue:if(i.flags&2048){if(F===0)break e;J=0;do De=U[e+J++],i.head&&De&&i.length<65536&&(i.head.name+=String.fromCharCode(De));while(De&&J<F);if(i.flags&512&&(i.check=h(i.check,U,J,e)),F-=J,e+=J,De)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=oe;case oe:if(i.flags&4096){if(F===0)break e;J=0;do De=U[e+J++],i.head&&De&&i.length<65536&&(i.head.comment+=String.fromCharCode(De));while(De&&J<F);if(i.flags&512&&(i.check=h(i.check,U,J,e)),F-=J,e+=J,De)break e}else i.head&&(i.head.comment=null);i.mode=le;case le:if(i.flags&512){for(;D<16;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(k!==(i.check&65535)){T.msg="header crc mismatch",i.mode=G;break}k=0,D=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),T.adler=i.check=0,i.mode=ee;break;case he:for(;D<32;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}T.adler=i.check=Oe(k),k=0,D=0,i.mode=Y;case Y:if(i.havedict===0)return T.next_out=I,T.avail_out=s,T.next_in=e,T.avail_in=F,i.hold=k,i.bits=D,u;T.adler=i.check=1,i.mode=ee;case ee:if(L===E||L===m)break e;case ye:if(i.last){k>>>=D&7,D-=D&7,i.mode=j;break}for(;D<3;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}switch(i.last=k&1,k>>>=1,D-=1,k&3){case 0:i.mode=Se;break;case 1:if(Ce(i),i.mode=se,L===m){k>>>=2,D-=2;break e}break;case 2:i.mode=z;break;case 3:T.msg="invalid block type",i.mode=G}k>>>=2,D-=2;break;case Se:for(k>>>=D&7,D-=D&7;D<32;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if((k&65535)!==(k>>>16^65535)){T.msg="invalid stored block lengths",i.mode=G;break}if(i.length=k&65535,k=0,D=0,i.mode=R,L===m)break e;case R:i.mode=A;case A:if(J=i.length,J){if(J>F&&(J=F),J>s&&(J=s),J===0)break e;a.arraySet(de,U,e,J,I),F-=J,e+=J,s-=J,I+=J,i.length-=J;break}i.mode=ee;break;case z:for(;D<14;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(i.nlen=(k&31)+257,k>>>=5,D-=5,i.ndist=(k&31)+1,k>>>=5,D-=5,i.ncode=(k&15)+4,k>>>=4,D-=4,i.nlen>286||i.ndist>30){T.msg="too many length or distance symbols",i.mode=G;break}i.have=0,i.mode=te;case te:for(;i.have<i.ncode;){for(;D<3;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}i.lens[Pr[i.have++]]=k&7,k>>>=3,D-=3}for(;i.have<19;)i.lens[Pr[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ve={bits:i.lenbits},We=b(o,i.lens,0,19,i.lencode,0,i.work,Ve),i.lenbits=Ve.bits,We){T.msg="invalid code lengths set",i.mode=G;break}i.have=0,i.mode=ae;case ae:for(;i.have<i.nlen+i.ndist;){for(;Re=i.lencode[k&(1<<i.lenbits)-1],ge=Re>>>24,Ne=Re>>>16&255,Pe=Re&65535,!(ge<=D);){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(Pe<16)k>>>=ge,D-=ge,i.lens[i.have++]=Pe;else{if(Pe===16){for(Ke=ge+2;D<Ke;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(k>>>=ge,D-=ge,i.have===0){T.msg="invalid bit length repeat",i.mode=G;break}De=i.lens[i.have-1],J=3+(k&3),k>>>=2,D-=2}else if(Pe===17){for(Ke=ge+3;D<Ke;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}k>>>=ge,D-=ge,De=0,J=3+(k&7),k>>>=3,D-=3}else{for(Ke=ge+7;D<Ke;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}k>>>=ge,D-=ge,De=0,J=11+(k&127),k>>>=7,D-=7}if(i.have+J>i.nlen+i.ndist){T.msg="invalid bit length repeat",i.mode=G;break}for(;J--;)i.lens[i.have++]=De}}if(i.mode===G)break;if(i.lens[256]===0){T.msg="invalid code -- missing end-of-block",i.mode=G;break}if(i.lenbits=9,Ve={bits:i.lenbits},We=b(n,i.lens,0,i.nlen,i.lencode,0,i.work,Ve),i.lenbits=Ve.bits,We){T.msg="invalid literal/lengths set",i.mode=G;break}if(i.distbits=6,i.distcode=i.distdyn,Ve={bits:i.distbits},We=b(p,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ve),i.distbits=Ve.bits,We){T.msg="invalid distances set",i.mode=G;break}if(i.mode=se,L===m)break e;case se:i.mode=ne;case ne:if(F>=6&&s>=258){T.next_out=I,T.avail_out=s,T.next_in=e,T.avail_in=F,i.hold=k,i.bits=D,r(T,K),I=T.next_out,de=T.output,s=T.avail_out,e=T.next_in,U=T.input,F=T.avail_in,k=i.hold,D=i.bits,i.mode===ee&&(i.back=-1);break}for(i.back=0;Re=i.lencode[k&(1<<i.lenbits)-1],ge=Re>>>24,Ne=Re>>>16&255,Pe=Re&65535,!(ge<=D);){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(Ne&&(Ne&240)===0){for(qe=ge,pt=Ne,vt=Pe;Re=i.lencode[vt+((k&(1<<qe+pt)-1)>>qe)],ge=Re>>>24,Ne=Re>>>16&255,Pe=Re&65535,!(qe+ge<=D);){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}k>>>=qe,D-=qe,i.back+=qe}if(k>>>=ge,D-=ge,i.back+=ge,i.length=Pe,Ne===0){i.mode=y;break}if(Ne&32){i.back=-1,i.mode=ee;break}if(Ne&64){T.msg="invalid literal/length code",i.mode=G;break}i.extra=Ne&15,i.mode=me;case me:if(i.extra){for(Ke=i.extra;D<Ke;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}i.length+=k&(1<<i.extra)-1,k>>>=i.extra,D-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=be;case be:for(;Re=i.distcode[k&(1<<i.distbits)-1],ge=Re>>>24,Ne=Re>>>16&255,Pe=Re&65535,!(ge<=D);){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if((Ne&240)===0){for(qe=ge,pt=Ne,vt=Pe;Re=i.distcode[vt+((k&(1<<qe+pt)-1)>>qe)],ge=Re>>>24,Ne=Re>>>16&255,Pe=Re&65535,!(qe+ge<=D);){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}k>>>=qe,D-=qe,i.back+=qe}if(k>>>=ge,D-=ge,i.back+=ge,Ne&64){T.msg="invalid distance code",i.mode=G;break}i.offset=Pe,i.extra=Ne&15,i.mode=pe;case pe:if(i.extra){for(Ke=i.extra;D<Ke;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}i.offset+=k&(1<<i.extra)-1,k>>>=i.extra,D-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){T.msg="invalid distance too far back",i.mode=G;break}i.mode=w;case w:if(s===0)break e;if(J=K-s,i.offset>J){if(J=i.offset-J,J>i.whave&&i.sane){T.msg="invalid distance too far back",i.mode=G;break}J>i.wnext?(J-=i.wnext,_e=i.wsize-J):_e=i.wnext-J,J>i.length&&(J=i.length),Xe=i.window}else Xe=de,_e=I-i.offset,J=i.length;J>s&&(J=s),s-=J,i.length-=J;do de[I++]=Xe[_e++];while(--J);i.length===0&&(i.mode=ne);break;case y:if(s===0)break e;de[I++]=i.length,s--,i.mode=ne;break;case j:if(i.wrap){for(;D<32;){if(F===0)break e;F--,k|=U[e++]<<D,D+=8}if(K-=s,T.total_out+=K,i.total+=K,K&&(T.adler=i.check=i.flags?h(i.check,de,K,I-K):f(i.check,de,K,I-K)),K=s,(i.flags?k:Oe(k))!==i.check){T.msg="incorrect data check",i.mode=G;break}k=0,D=0}i.mode=$;case $:if(i.wrap&&i.flags){for(;D<32;){if(F===0)break e;F--,k+=U[e++]<<D,D+=8}if(k!==(i.total&4294967295)){T.msg="incorrect length check",i.mode=G;break}k=0,D=0}i.mode=ce;case ce:We=t;break e;case G:We=x;break e;case fe:return C;case je:default:return g}return T.next_out=I,T.avail_out=s,T.next_in=e,T.avail_in=F,i.hold=k,i.bits=D,(i.wsize||K!==T.avail_out&&i.mode<G&&(i.mode<j||L!==d))&&Je(T,T.output,T.next_out,K-T.avail_out),ie-=T.avail_in,K-=T.avail_out,T.total_in+=ie,T.total_out+=K,i.total+=K,i.wrap&&K&&(T.adler=i.check=i.flags?h(i.check,de,K,T.next_out-K):f(i.check,de,K,T.next_out-K)),T.data_type=i.bits+(i.last?64:0)+(i.mode===ee?128:0)+(i.mode===se||i.mode===R?256:0),(ie===0&&K===0||L===d)&&We===c&&(We=l),We}function q(T){if(!T||!T.state)return g;var L=T.state;return L.window&&(L.window=null),T.state=null,c}function Z(T,L){var i;return!T||!T.state||(i=T.state,(i.wrap&2)===0)?g:(i.head=L,L.done=!1,c)}function Q(T,L){var i=L.length,U,de,e;return!T||!T.state||(U=T.state,U.wrap!==0&&U.mode!==Y)?g:U.mode===Y&&(de=1,de=f(de,L,i,0),de!==U.check)?x:(e=Je(T,L,i,i),e?(U.mode=fe,C):(U.havedict=1,c))}return $e.inflateReset=B,$e.inflateReset2=M,$e.inflateResetKeep=Me,$e.inflateInit=V,$e.inflateInit2=W,$e.inflate=v,$e.inflateEnd=q,$e.inflateGetHeader=Z,$e.inflateSetDictionary=Q,$e.inflateInfo="pako inflate (from Nodeca project)",$e}var hr,Li;function Dn(){return Li||(Li=1,hr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),hr}var dr,zi;function xa(){if(zi)return dr;zi=1;function a(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return dr=a,dr}var Pi;function Ea(){if(Pi)return ot;Pi=1;var a=ba(),f=rt(),h=An(),r=Dn(),b=zr(),o=On(),n=xa(),p=Object.prototype.toString;function d(c){if(!(this instanceof d))return new d(c);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},c||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(c&&c.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var u=a.inflateInit2(this.strm,t.windowBits);if(u!==r.Z_OK)throw new Error(b[u]);if(this.header=new n,a.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=h.string2buf(t.dictionary):p.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(u=a.inflateSetDictionary(this.strm,t.dictionary),u!==r.Z_OK)))throw new Error(b[u])}d.prototype.push=function(c,t){var u=this.strm,g=this.options.chunkSize,x=this.options.dictionary,C,l,_,S,O,N=!1;if(this.ended)return!1;l=t===~~t?t:t===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof c=="string"?u.input=h.binstring2buf(c):p.call(c)==="[object ArrayBuffer]"?u.input=new Uint8Array(c):u.input=c,u.next_in=0,u.avail_in=u.input.length;do{if(u.avail_out===0&&(u.output=new f.Buf8(g),u.next_out=0,u.avail_out=g),C=a.inflate(u,r.Z_NO_FLUSH),C===r.Z_NEED_DICT&&x&&(C=a.inflateSetDictionary(this.strm,x)),C===r.Z_BUF_ERROR&&N===!0&&(C=r.Z_OK,N=!1),C!==r.Z_STREAM_END&&C!==r.Z_OK)return this.onEnd(C),this.ended=!0,!1;u.next_out&&(u.avail_out===0||C===r.Z_STREAM_END||u.avail_in===0&&(l===r.Z_FINISH||l===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=h.utf8border(u.output,u.next_out),S=u.next_out-_,O=h.buf2string(u.output,_),u.next_out=S,u.avail_out=g-S,S&&f.arraySet(u.output,u.output,_,S,0),this.onData(O)):this.onData(f.shrinkBuf(u.output,u.next_out))),u.avail_in===0&&u.avail_out===0&&(N=!0)}while((u.avail_in>0||u.avail_out===0)&&C!==r.Z_STREAM_END);return C===r.Z_STREAM_END&&(l=r.Z_FINISH),l===r.Z_FINISH?(C=a.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===r.Z_OK):(l===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),u.avail_out=0),!0)},d.prototype.onData=function(c){this.chunks.push(c)},d.prototype.onEnd=function(c){c===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg};function E(c,t){var u=new d(t);if(u.push(c,!0),u.err)throw u.msg||b[u.err];return u.result}function m(c,t){return t=t||{},t.raw=!0,E(c,t)}return ot.Inflate=d,ot.inflate=E,ot.inflateRaw=m,ot.ungzip=E,ot}var cr,Mi;function ka(){if(Mi)return cr;Mi=1;var a=rt().assign,f=ma(),h=Ea(),r=Dn(),b={};return a(b,f,h,r),cr=b,cr}var ji;function Sa(){if(ji)return ft;ji=1;var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=ka(),h=Te(),r=Ge(),b=a?"uint8array":"array";ft.magic="\b\0";function o(n,p){r.call(this,"FlateWorker/"+n),this._pako=null,this._pakoAction=n,this._pakoOptions=p,this.meta={}}return h.inherits(o,r),o.prototype.processChunk=function(n){this.meta=n.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(b,n.data),!1)},o.prototype.flush=function(){r.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var n=this;this._pako.onData=function(p){n.push({data:p,meta:n.meta})}},ft.compressWorker=function(n){return new o("Deflate",n)},ft.uncompressWorker=function(){return new o("Inflate",{})},ft}var qi;function In(){if(qi)return Et;qi=1;var a=Ge();return Et.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},Et.DEFLATE=Sa(),Et}var Qe={},Ui;function Bn(){return Ui||(Ui=1,Qe.LOCAL_FILE_HEADER="PK",Qe.CENTRAL_FILE_HEADER="PK",Qe.CENTRAL_DIRECTORY_END="PK",Qe.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",Qe.ZIP64_CENTRAL_DIRECTORY_END="PK",Qe.DATA_DESCRIPTOR="PK\x07\b"),Qe}var pr,Zi;function Ca(){if(Zi)return pr;Zi=1;var a=Te(),f=Ge(),h=ct(),r=Fr(),b=Bn(),o=function(t,u){var g="",x;for(x=0;x<u;x++)g+=String.fromCharCode(t&255),t=t>>>8;return g},n=function(t,u){var g=t;return t||(g=u?16893:33204),(g&65535)<<16},p=function(t){return(t||0)&63},d=function(t,u,g,x,C,l){var _=t.file,S=t.compression,O=l!==h.utf8encode,N=a.transformTo("string",l(_.name)),H=a.transformTo("string",h.utf8encode(_.name)),P=_.comment,X=a.transformTo("string",l(P)),ue=a.transformTo("string",h.utf8encode(P)),oe=H.length!==_.name.length,le=ue.length!==P.length,he,Y,ee="",ye="",Se="",R=_.dir,A=_.date,z={crc32:0,compressedSize:0,uncompressedSize:0};(!u||g)&&(z.crc32=t.crc32,z.compressedSize=t.compressedSize,z.uncompressedSize=t.uncompressedSize);var te=0;u&&(te|=8),!O&&(oe||le)&&(te|=2048);var ae=0,se=0;R&&(ae|=16),C==="UNIX"?(se=798,ae|=n(_.unixPermissions,R)):(se=20,ae|=p(_.dosPermissions)),he=A.getUTCHours(),he=he<<6,he=he|A.getUTCMinutes(),he=he<<5,he=he|A.getUTCSeconds()/2,Y=A.getUTCFullYear()-1980,Y=Y<<4,Y=Y|A.getUTCMonth()+1,Y=Y<<5,Y=Y|A.getUTCDate(),oe&&(ye=o(1,1)+o(r(N),4)+H,ee+="up"+o(ye.length,2)+ye),le&&(Se=o(1,1)+o(r(X),4)+ue,ee+="uc"+o(Se.length,2)+Se);var ne="";ne+=`
\0`,ne+=o(te,2),ne+=S.magic,ne+=o(he,2),ne+=o(Y,2),ne+=o(z.crc32,4),ne+=o(z.compressedSize,4),ne+=o(z.uncompressedSize,4),ne+=o(N.length,2),ne+=o(ee.length,2);var me=b.LOCAL_FILE_HEADER+ne+N+ee,be=b.CENTRAL_FILE_HEADER+o(se,2)+ne+o(X.length,2)+"\0\0\0\0"+o(ae,4)+o(x,4)+N+ee+X;return{fileRecord:me,dirRecord:be}},E=function(t,u,g,x,C){var l="",_=a.transformTo("string",C(x));return l=b.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(t,2)+o(t,2)+o(u,4)+o(g,4)+o(_.length,2)+_,l},m=function(t){var u="";return u=b.DATA_DESCRIPTOR+o(t.crc32,4)+o(t.compressedSize,4)+o(t.uncompressedSize,4),u};function c(t,u,g,x){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=u,this.zipPlatform=g,this.encodeFileName=x,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}return a.inherits(c,f),c.prototype.push=function(t){var u=t.meta.percent||0,g=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,f.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:g?(u+100*(g-x-1))/g:100}}))},c.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var u=this.streamFiles&&!t.file.dir;if(u){var g=d(t,u,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(t){this.accumulate=!1;var u=this.streamFiles&&!t.file.dir,g=d(t,u,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),u)this.push({data:m(t),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var t=this.bytesWritten,u=0;u<this.dirRecords.length;u++)this.push({data:this.dirRecords[u],meta:{percent:100}});var g=this.bytesWritten-t,x=E(this.dirRecords.length,g,t,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(t){this._sources.push(t);var u=this;return t.on("data",function(g){u.processChunk(g)}),t.on("end",function(){u.closedSource(u.previous.streamInfo),u._sources.length?u.prepareNextSource():u.end()}),t.on("error",function(g){u.error(g)}),this},c.prototype.resume=function(){if(!f.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},c.prototype.error=function(t){var u=this._sources;if(!f.prototype.error.call(this,t))return!1;for(var g=0;g<u.length;g++)try{u[g].error(t)}catch{}return!0},c.prototype.lock=function(){f.prototype.lock.call(this);for(var t=this._sources,u=0;u<t.length;u++)t[u].lock()},pr=c,pr}var Wi;function Ra(){if(Wi)return ir;Wi=1;var a=In(),f=Ca(),h=function(r,b){var o=r||b,n=a[o];if(!n)throw new Error(o+" is not a valid compression method !");return n};return ir.generateWorker=function(r,b,o){var n=new f(b.streamFiles,o,b.platform,b.encodeFileName),p=0;try{r.forEach(function(d,E){p++;var m=h(E.options.compression,b.compression),c=E.options.compressionOptions||b.compressionOptions||{},t=E.dir,u=E.date;E._compressWorker(m,c).withStreamInfo("file",{name:d,dir:t,date:u,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(n)}),n.entriesCount=p}catch(d){n.error(d)}return n},ir}var vr,Hi;function Ta(){if(Hi)return vr;Hi=1;var a=Te(),f=Ge();function h(r,b){f.call(this,"Nodejs stream input adapter for "+r),this._upstreamEnded=!1,this._bindStream(b)}return a.inherits(h,f),h.prototype._bindStream=function(r){var b=this;this._stream=r,r.pause(),r.on("data",function(o){b.push({data:o,meta:{percent:0}})}).on("error",function(o){b.isPaused?this.generatedError=o:b.error(o)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},h.prototype.pause=function(){return f.prototype.pause.call(this)?(this._stream.pause(),!0):!1},h.prototype.resume=function(){return f.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},vr=h,vr}var _r,$i;function Aa(){if($i)return _r;$i=1;var a=ct(),f=Te(),h=Ge(),r=En(),b=kn(),o=Lr(),n=va(),p=Ra(),d=Ct(),E=Ta(),m=function(C,l,_){var S=f.getTypeOf(l),O,N=f.extend(_||{},b);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&N.unixPermissions&16384&&(N.dir=!0),N.dosPermissions&&N.dosPermissions&16&&(N.dir=!0),N.dir&&(C=t(C)),N.createFolders&&(O=c(C))&&u.call(this,O,!0);var H=S==="string"&&N.binary===!1&&N.base64===!1;(!_||typeof _.binary>"u")&&(N.binary=!H);var P=l instanceof o&&l.uncompressedSize===0;(P||N.dir||!l||l.length===0)&&(N.base64=!1,N.binary=!0,l="",N.compression="STORE",S="string");var X=null;l instanceof o||l instanceof h?X=l:d.isNode&&d.isStream(l)?X=new E(C,l):X=f.prepareContent(C,l,N.binary,N.optimizedBinaryString,N.base64);var ue=new n(C,X,N);this.files[C]=ue},c=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var l=C.lastIndexOf("/");return l>0?C.substring(0,l):""},t=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},u=function(C,l){return l=typeof l<"u"?l:b.createFolders,C=t(C),this.files[C]||m.call(this,C,null,{dir:!0,createFolders:l}),this.files[C]};function g(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var l,_,S;for(l in this.files)S=this.files[l],_=l.slice(this.root.length,l.length),_&&l.slice(0,this.root.length)===this.root&&C(_,S)},filter:function(C){var l=[];return this.forEach(function(_,S){C(_,S)&&l.push(S)}),l},file:function(C,l,_){if(arguments.length===1)if(g(C)){var S=C;return this.filter(function(N,H){return!H.dir&&S.test(N)})}else{var O=this.files[this.root+C];return O&&!O.dir?O:null}else C=this.root+C,m.call(this,C,l,_);return this},folder:function(C){if(!C)return this;if(g(C))return this.filter(function(O,N){return N.dir&&C.test(O)});var l=this.root+C,_=u.call(this,l),S=this.clone();return S.root=_.name,S},remove:function(C){C=this.root+C;var l=this.files[C];if(l||(C.slice(-1)!=="/"&&(C+="/"),l=this.files[C]),l&&!l.dir)delete this.files[C];else for(var _=this.filter(function(O,N){return N.name.slice(0,C.length)===C}),S=0;S<_.length;S++)delete this.files[_[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var l,_={};try{if(_=f.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode}),_.type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");f.checkSupport(_.type),(_.platform==="darwin"||_.platform==="freebsd"||_.platform==="linux"||_.platform==="sunos")&&(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var S=_.comment||this.comment||"";l=p.generateWorker(this,_,S)}catch(O){l=new h("error"),l.error(O)}return new r(l,_.type||"string",_.mimeType)},generateAsync:function(C,l){return this.generateInternalStream(C).accumulate(l)},generateNodeStream:function(C,l){return C=C||{},C.type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(l)}};return _r=x,_r}var gr,Gi;function Nn(){if(Gi)return gr;Gi=1;var a=Te();function f(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}return f.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var r=0,b;for(this.checkOffset(h),b=this.index+h-1;b>=this.index;b--)r=(r<<8)+this.byteAt(b);return this.index+=h,r},readString:function(h){return a.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC((h>>25&127)+1980,(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(h&31)<<1))}},gr=f,gr}var mr,Yi;function Fn(){if(Yi)return mr;Yi=1;var a=Nn(),f=Te();function h(r){a.call(this,r);for(var b=0;b<this.data.length;b++)r[b]=r[b]&255}return f.inherits(h,a),h.prototype.byteAt=function(r){return this.data[this.zero+r]},h.prototype.lastIndexOfSignature=function(r){for(var b=r.charCodeAt(0),o=r.charCodeAt(1),n=r.charCodeAt(2),p=r.charCodeAt(3),d=this.length-4;d>=0;--d)if(this.data[d]===b&&this.data[d+1]===o&&this.data[d+2]===n&&this.data[d+3]===p)return d-this.zero;return-1},h.prototype.readAndCheckSignature=function(r){var b=r.charCodeAt(0),o=r.charCodeAt(1),n=r.charCodeAt(2),p=r.charCodeAt(3),d=this.readData(4);return b===d[0]&&o===d[1]&&n===d[2]&&p===d[3]},h.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var b=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,b},mr=h,mr}var wr,Ki;function Oa(){if(Ki)return wr;Ki=1;var a=Nn(),f=Te();function h(r){a.call(this,r)}return f.inherits(h,a),h.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},h.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},h.prototype.readAndCheckSignature=function(r){var b=this.readData(4);return r===b},h.prototype.readData=function(r){this.checkOffset(r);var b=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,b},wr=h,wr}var yr,Xi;function Ln(){if(Xi)return yr;Xi=1;var a=Fn(),f=Te();function h(r){a.call(this,r)}return f.inherits(h,a),h.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var b=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,b},yr=h,yr}var br,Vi;function Da(){if(Vi)return br;Vi=1;var a=Ln(),f=Te();function h(r){a.call(this,r)}return f.inherits(h,a),h.prototype.readData=function(r){this.checkOffset(r);var b=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,b},br=h,br}var xr,Ji;function zn(){if(Ji)return xr;Ji=1;var a=Te(),f=tt(),h=Fn(),r=Oa(),b=Da(),o=Ln();return xr=function(n){var p=a.getTypeOf(n);return a.checkSupport(p),p==="string"&&!f.uint8array?new r(n):p==="nodebuffer"?new b(n):f.uint8array?new o(a.transformTo("uint8array",n)):new h(a.transformTo("array",n))},xr}var Er,Qi;function Ia(){if(Qi)return Er;Qi=1;var a=zn(),f=Te(),h=Lr(),r=Fr(),b=ct(),o=In(),n=tt(),p=0,d=3,E=function(c){for(var t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&o[t].magic===c)return o[t];return null};function m(c,t){this.options=c,this.loadOptions=t}return m.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(c){var t,u;if(c.skip(22),this.fileNameLength=c.readInt(2),u=c.readInt(2),this.fileName=c.readData(this.fileNameLength),c.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=E(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,t,c.readData(this.compressedSize))},readCentralPart:function(c){this.versionMadeBy=c.readInt(2),c.skip(2),this.bitFlag=c.readInt(2),this.compressionMethod=c.readString(2),this.date=c.readDate(),this.crc32=c.readInt(4),this.compressedSize=c.readInt(4),this.uncompressedSize=c.readInt(4);var t=c.readInt(2);if(this.extraFieldsLength=c.readInt(2),this.fileCommentLength=c.readInt(2),this.diskNumberStart=c.readInt(2),this.internalFileAttributes=c.readInt(2),this.externalFileAttributes=c.readInt(4),this.localHeaderOffset=c.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");c.skip(t),this.readExtraFields(c),this.parseZIP64ExtraField(c),this.fileComment=c.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var c=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),c===p&&(this.dosPermissions=this.externalFileAttributes&63),c===d&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var c=a(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=c.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=c.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=c.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=c.readInt(4))}},readExtraFields:function(c){var t=c.index+this.extraFieldsLength,u,g,x;for(this.extraFields||(this.extraFields={});c.index+4<t;)u=c.readInt(2),g=c.readInt(2),x=c.readData(g),this.extraFields[u]={id:u,length:g,value:x};c.setIndex(t)},handleUTF8:function(){var c=n.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var u=f.transformTo(c,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var x=f.transformTo(c,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var c=this.extraFields[28789];if(c){var t=a(c.value);return t.readInt(1)!==1||r(this.fileName)!==t.readInt(4)?null:b.utf8decode(t.readData(c.length-5))}return null},findExtraFieldUnicodeComment:function(){var c=this.extraFields[25461];if(c){var t=a(c.value);return t.readInt(1)!==1||r(this.fileComment)!==t.readInt(4)?null:b.utf8decode(t.readData(c.length-5))}return null}},Er=m,Er}var kr,en;function Ba(){if(en)return kr;en=1;var a=zn(),f=Te(),h=Bn(),r=Ia(),b=tt();function o(n){this.files=[],this.loadOptions=n}return o.prototype={checkSignature:function(n){if(!this.reader.readAndCheckSignature(n)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(p)+", expected "+f.pretty(n)+")")}},isSignature:function(n,p){var d=this.reader.index;this.reader.setIndex(n);var E=this.reader.readString(4),m=E===p;return this.reader.setIndex(d),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var n=this.reader.readData(this.zipCommentLength),p=b.uint8array?"uint8array":"array",d=f.transformTo(p,n);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var n=this.zip64EndOfCentralSize-44,p=0,d,E,m;p<n;)d=this.reader.readInt(2),E=this.reader.readInt(4),m=this.reader.readData(E),this.zip64ExtensibleData[d]={id:d,length:E,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var n,p;for(n=0;n<this.files.length;n++)p=this.files[n],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var n;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)n=new r({zip64:this.zip64},this.loadOptions),n.readCentralPart(this.reader),this.files.push(n);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var n=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(n<0){var p=!this.isSignature(0,h.LOCAL_FILE_HEADER);throw p?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(n);var d=n;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,n=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),n<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(n),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var m=d-E;if(m>0)this.isSignature(d,h.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(n){this.reader=a(n)},load:function(n){this.prepareReader(n),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},kr=o,kr}var Sr,tn;function Na(){if(tn)return Sr;tn=1;var a=Te(),f=dt(),h=ct(),r=Ba(),b=Cn(),o=Ct();function n(p){return new f.Promise(function(d,E){var m=p.decompressed.getContentWorker().pipe(new b);m.on("error",function(c){E(c)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}return Sr=function(p,d){var E=this;return d=a.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),o.isNode&&o.isStream(p)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,d.optimizedBinaryString,d.base64).then(function(m){var c=new r(d);return c.load(m),c}).then(function(c){var t=[f.Promise.resolve(c)],u=c.files;if(d.checkCRC32)for(var g=0;g<u.length;g++)t.push(n(u[g]));return f.Promise.all(t)}).then(function(c){for(var t=c.shift(),u=t.files,g=0;g<u.length;g++){var x=u[g],C=x.fileNameStr,l=a.resolve(x.fileNameStr);E.file(l,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:d.createFolders}),x.dir||(E.file(l).unsafeOriginalName=C)}return t.zipComment.length&&(E.comment=t.zipComment),E})},Sr}var Cr,rn;function Fa(){if(rn)return Cr;rn=1;function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new a;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}return a.prototype=Aa(),a.prototype.loadAsync=Na(),a.support=tt(),a.defaults=kn(),a.version="3.10.1",a.loadAsync=function(f,h){return new a().loadAsync(f,h)},a.external=dt(),Cr=a,Cr}var Rr,nn;function La(){if(nn)return Rr;nn=1;var a=et,f=lt,h=parseInt("0777",8);Rr=r.mkdirp=r.mkdirP=r;function r(b,o,n,p){typeof o=="function"?(n=o,o={}):(!o||typeof o!="object")&&(o={mode:o});var d=o.mode,E=o.fs||f;d===void 0&&(d=h),p||(p=null);var m=n||function(){};b=a.resolve(b),E.mkdir(b,d,function(c){if(!c)return p=p||b,m(null,p);switch(c.code){case"ENOENT":if(a.dirname(b)===b)return m(c);r(a.dirname(b),o,function(t,u){t?m(t,u):r(b,o,m,u)});break;default:E.stat(b,function(t,u){t||!u.isDirectory()?m(c,p):m(null,p)});break}})}return r.sync=function b(o,n,p){(!n||typeof n!="object")&&(n={mode:n});var d=n.mode,E=n.fs||f;d===void 0&&(d=h),p||(p=null),o=a.resolve(o);try{E.mkdirSync(o,d),p=p||o}catch(c){switch(c.code){case"ENOENT":p=b(a.dirname(o),n,p),b(o,n,p);break;default:var m;try{m=E.statSync(o)}catch{throw c}if(!m.isDirectory())throw c;break}}return p},Rr}var Tr={exports:{}},an;function za(){return an||(an=1,function(){var a,f=null,h=typeof window=="object"?window:ze,r=!1,b=h.process,o=Array,n=Error,p=0,d=1,E=2,m="Symbol",c="iterator",t="species",u=m+"("+t+")",g="return",x="_uh",C="_pt",l="_st",_="Invalid this",S="Invalid argument",O=`
From previous `,N="Chaining cycle detected for promise",H="Uncaught (in promise)",P="rejectionHandled",X="unhandledRejection",ue,oe,le={e:f},he=function(){},Y=/^.+\/node_modules\/yaku\/.+\n?/mg,ee=Tr.exports=function(M){var W=this,V;if(!R(W)||W._s!==a)throw pe(_);if(W._s=E,r&&(W[C]=w()),M!==he){if(!A(M))throw pe(S);V=ne(M)(fe(W,d),fe(W,p)),V===le&&re(W,p,V.e)}};ee.default=ee,Se(ee,{then:function(M,W){if(this._s===void 0)throw pe();return je(this,G(ee.speciesConstructor(this,ee)),M,W)},catch:function(B){return this.then(a,B)},_pCount:0,_pre:f,_Yaku:1}),ee.resolve=function(M){return ce(M)?M:Oe(G(this),M)},ee.reject=function(M){return re(G(this),p,M)},ee.race=function(M){var W=this,V=G(W),we=function(Ce){re(V,d,Ce)},ve=function(Ce){re(V,p,Ce)},ke=ne(be)(M,function(Ce){W.resolve(Ce).then(we,ve)});return ke===le?W.reject(ke.e):V},ee.all=function(M){var W=this,V=G(W),we=[],ve;function ke(Ce){re(V,p,Ce)}return ve=ne(be)(M,function(Ce,Je){W.resolve(Ce).then(function(v){we[Je]=v,--ve||re(V,d,we)},ke)}),ve===le?W.reject(ve.e):(ve||re(V,d,[]),V)},ee.Symbol=h[m]||{},ne(function(){Object.defineProperty(ee,ye(),{get:function(){return this}})})(),ee.speciesConstructor=function(B,M){var W=B.constructor;return W&&W[ye()]||M},ee.unhandledRejection=function(B,M){try{h.console.error(H,r?M.longStack:Be(B,M))}catch{}},ee.rejectionHandled=he,ee.enableLongStackTrace=function(){r=!0},ee.nextTick=b?b.nextTick:function(B){setTimeout(B)},ee._Yaku=1;function ye(){return ee[m][t]||u}function Se(B,M){for(var W in M)B.prototype[W]=M[W];return B}function R(B){return B&&typeof B=="object"}function A(B){return typeof B=="function"}function z(B,M){return B instanceof M}function te(B){return z(B,n)}function ae(B,M,W){if(!M(B))throw pe(W)}function se(){try{return ue.apply(oe,arguments)}catch(B){return le.e=B,le}}function ne(B,M){return ue=B,oe=M,se}function me(B,M){var W=o(B),V=0;function we(){for(var ve=0;ve<V;)M(W[ve],W[ve+1]),W[ve++]=a,W[ve++]=a;V=0,W.length>B&&(W.length=B)}return function(ve,ke){W[V++]=ve,W[V++]=ke,V===2&&ee.nextTick(we)}}function be(B,M){var W,V=0,we,ve,ke;if(!B)throw pe(S);var Ce=B[ee[m][c]];if(A(Ce))we=Ce.call(B);else if(A(B.next))we=B;else if(z(B,o)){for(W=B.length;V<W;)M(B[V],V++);return V}else throw pe(S);for(;!(ve=we.next()).done;)if(ke=ne(M)(ve.value,V++),ke===le)throw A(we[g])&&we[g](),ke.e;return V}function pe(B){return new TypeError(B)}function w(B){return(B?"":O)+new n().stack}var y=me(999,function(B,M){var W,V;if(V=B._s?M._onFulfilled:M._onRejected,V===a){re(M,B._s,B._v);return}if(W=ne(Ee)(V,B._v),W===le){re(M,p,W.e);return}Oe(M,W)}),j=me(9,function(B){Ie(B)||(B[x]=1,$(X,B))});function $(B,M){var W="on"+B.toLowerCase(),V=h[W];b&&b.listeners(B).length?B===X?b.emit(B,M._v,M):b.emit(B,M):V?V({reason:M._v,promise:M}):ee[B](M._v,M)}function ce(B){return B&&B._Yaku}function G(B){if(ce(B))return new B(he);var M,W,V;return M=new B(function(we,ve){if(M)throw pe();W=we,V=ve}),ae(W,A),ae(V,A),M}function fe(B,M){return function(W){r&&(B[l]=w(!0)),M===d?Oe(B,W):re(B,M,W)}}function je(B,M,W,V){return A(W)&&(M._onFulfilled=W),A(V)&&(B[x]&&$(P,B),M._onRejected=V),r&&(M._pre=B),B[B._pCount++]=M,B._s!==E&&y(B,M),M}function Ie(B){if(B._umark)return!0;B._umark=!0;for(var M=0,W=B._pCount,V;M<W;)if(V=B[M++],V._onRejected||Ie(V))return!0}function Be(B,M){var W=[];function V(we){return W.push(we.replace(/^\s+|\s+$/g,""))}return r&&(M[l]&&V(M[l]),function we(ve){ve&&C in ve&&(we(ve._next),V(ve[C]+""),we(ve._pre))}(M)),(B&&B.stack?B.stack:B)+(`
`+W.join(`
`)).replace(Y,"")}function Ee(B,M){return B(M)}function re(B,M,W){var V=0,we=B._pCount;if(B._s===E)for(B._s=M,B._v=W,M===p&&(r&&te(W)&&(W.longStack=Be(W,B)),j(B));V<we;)y(B,B[V++]);return B}function Oe(B,M){if(M===B&&M)return re(B,p,pe(N)),B;if(M!==f&&(A(M)||R(M))){var W=ne(Ze)(M);if(W===le)return re(B,p,W.e),B;A(W)?(r&&ce(M)&&(B._next=M),ce(M)?Me(B,M,W):ee.nextTick(function(){Me(B,M,W)})):re(B,d,M)}else re(B,d,M);return B}function Ze(B){return B.then}function Me(B,M,W){var V=ne(W,M)(function(we){M&&(M=f,Oe(B,we))},function(we){M&&(M=f,re(B,p,we))});V===le&&M&&(re(B,p,V.e),M=f)}}()),Tr.exports}var Ar,on;function Pa(){if(on)return Ar;on=1;var a=za();return Ar={extendPrototype:function(f,h){for(var r in h)f.prototype[r]=h[r];return f},isFunction:function(f){return typeof f=="function"},isNumber:function(f){return typeof f=="number"},Promise:a,slice:[].slice},Ar}var Or,sn;function Ma(){if(sn)return Or;sn=1;var a=Pa(),f=a.isFunction;return Or=function(h,r){return function(b,o,n,p,d){var E=arguments.length,m,c,t,u;c=new a.Promise(function(C,l){t=C,u=l});function g(C,l){C==null?t(l):u(C)}switch(E){case 0:h.call(r,g);break;case 1:f(b)?h.call(r,b):h.call(r,b,g);break;case 2:f(o)?h.call(r,b,o):h.call(r,b,o,g);break;case 3:f(n)?h.call(r,b,o,n):h.call(r,b,o,n,g);break;case 4:f(p)?h.call(r,b,o,n,p):h.call(r,b,o,n,p,g);break;case 5:f(d)?h.call(r,b,o,n,p,d):h.call(r,b,o,n,p,d,g);break;default:m=new Array(E);for(var x=0;x<E;x++)m[x]=arguments[x];if(f(m[E-1]))return h.apply(r,m);m[x]=g,h.apply(r,m)}return c}},Or}var Dr,fn;function ja(){if(fn)return Dr;fn=1;var a=lt,f=et,h=Fa(),r=La(),b=Ma(),o=b(a.writeFile),n=b(a.readFile),p=b(r);function d(m){function c(S,O,N,H){var P=0;return P+=S,P+=O<<8,P+=N<<16,P+=H<<24,P}if(m[0]===80&&m[1]===75&&m[2]===3&&m[3]===4)return m;if(m[0]!==67||m[1]!==114||m[2]!==50||m[3]!==52)throw new Error("Invalid header: Does not start with Cr24");var t=m[4]===3,u=m[4]===2;if(!u&&!t||m[5]||m[6]||m[7])throw new Error("Unexpected crx format version number.");if(u){var g=c(m[8],m[9],m[10],m[11]),x=c(m[12],m[13],m[14],m[15]),C=16+g+x;return m.slice(C,m.length)}var l=c(m[8],m[9],m[10],m[11]),_=12+l;return m.slice(_,m.length)}function E(m,c){var t=f.resolve(m),u=f.extname(m),g=f.basename(m,u),x=f.dirname(m);return c=c||f.resolve(x,g),n(t).then(function(C){return h.loadAsync(d(C))}).then(function(C){var l=Object.keys(C.files);return Promise.all(l.map(function(_){var S=!C.files[_].dir,O=f.join(c,_),N=S&&f.dirname(O)||O,H=C.files[_].async("nodebuffer");return p(N).then(function(){return S?H:!1}).then(function(P){return P?o(O,P):!0})}))})}return Dr=E,Dr}var ln;function qa(){return ln||(ln=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.downloadChromeExtension=void 0;const f=lt,h=et,r=ia(),b=ja(),o=async(n,{forceDownload:p=!1,attempts:d=5}={})=>{const E=(0,r.getPath)();f.existsSync(E)||await f.promises.mkdir(E,{recursive:!0});const m=h.resolve(`${E}/${n}`);if(!f.existsSync(m)||p){f.existsSync(m)&&await f.promises.rmdir(m,{recursive:!0});const c=`https://clients2.google.com/service/update2/crx?response=redirect&acceptformat=crx2,crx3&x=id%3D${n}%26uc&prodversion=${process.versions.chrome}`,t=h.resolve(`${m}.crx`);try{await(0,r.downloadFile)(c,t);try{return await b(t,m),(0,r.changePermissions)(m,755),m}catch(u){if(!f.existsSync(h.resolve(m,"manifest.json")))throw u}}catch(u){if(console.error(`Failed to fetch extension, trying ${d-1} more times`),d<=1)throw u;return await new Promise(g=>setTimeout(g,200)),await(0,a.downloadChromeExtension)(n,{forceDownload:p,attempts:d-1})}}return m};a.downloadChromeExtension=o}(Rt)),Rt}var un;function Ua(){if(un)return Ae;un=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.MOBX_DEVTOOLS=Ae.REDUX_DEVTOOLS=Ae.VUEJS_DEVTOOLS_BETA=Ae.VUEJS_DEVTOOLS=Ae.JQUERY_DEBUGGER=Ae.BACKBONE_DEBUGGER=Ae.REACT_DEVELOPER_TOOLS=Ae.EMBER_INSPECTOR=void 0,Ae.installExtension=h;const a=xe,f=qa();async function h(r,b={}){const{forceDownload:o,loadExtensionOptions:n,session:p}=b,d=p||a.session.defaultSession;if(process.type!=="browser")return Promise.reject(new Error("electron-devtools-installer can only be used from the main process"));if(Array.isArray(r))return r.reduce((t,u)=>t.then(async g=>{const x=await h(u,b);return[...g,x]}),Promise.resolve([]));let E;if(typeof r=="object"&&r.id)E=r.id;else if(typeof r=="string")E=r;else throw new Error(`Invalid extensionReference passed in: "${r}"`);const m=d.getAllExtensions().find(t=>t.id===E);if(!o&&m)return m;const c=await(0,f.downloadChromeExtension)(E,{forceDownload:o||!1});if(m!=null&&m.id){const t=new Promise(u=>{const g=(x,C)=>{C.id===m.id&&(d.removeListener("extension-unloaded",g),u())};d.on("extension-unloaded",g)});d.removeExtension(m.id),await t}return d.loadExtension(c,n)}return Ae.default=h,Ae.EMBER_INSPECTOR={id:"bmdblncegkenkacieihfhpjfppoconhi"},Ae.REACT_DEVELOPER_TOOLS={id:"fmkadmapgofadopljbjfkapdkoienihi"},Ae.BACKBONE_DEBUGGER={id:"bhljhndlimiafopmmhjlgfpnnchjjbhd"},Ae.JQUERY_DEBUGGER={id:"dbhhnnnpaeobfddmlalhnehgclcmjimi"},Ae.VUEJS_DEVTOOLS={id:"nhdogjmejiglipccpnnnanhbledajbpd"},Ae.VUEJS_DEVTOOLS_BETA={id:"ljjemllljcmogpfapbkkighbhhppjdbg"},Ae.REDUX_DEVTOOLS={id:"lmhkpmbekcpmknklioeibfkpmmfibljd"},Ae.MOBX_DEVTOOLS={id:"pfgnfdagidkfgccljigdamigbcnndkod"},Ae}var hn=Ua();const{protocol:Ir}=require("electron"),dn=process.env.NODE_ENV==="development",Za=require("exif-parser"),Pn=process.cwd();console.log(`App root: ${Pn}`);function Mn(){const a=et.join(__dirname,"preload.js"),f=new xe.BrowserWindow({width:800,height:600,minWidth:800,minHeight:500,webPreferences:{devTools:dn,contextIsolation:!0,nodeIntegration:!0,nodeIntegrationInSubFrames:!1,sandbox:!1,preload:a},titleBarStyle:"hidden",title:"Electron Media Toolbox"});ra(f),dn&&f.webContents.openDevTools(),f.webContents.openDevTools(),f.loadFile(et.join(__dirname,"../renderer/main_window/index.html"));function h(b){const o=b.match(/^\/([a-zA-Z])\/(.*)$/);return o?`${o[1]}:/${o[2]}`:b}Ir.handle("local-resource",async b=>{const o=decodeURIComponent(b.url.replace(new RegExp("^local-resource:/","i"),"")),n=process.platform==="win32"?h(o):o;console.log(`Full path: ${n}`);try{const p=await _t.promises.readFile(n);return new Response(p)}catch(p){return console.error(`Failed to read file: ${p.message}`),new Response(null,{status:500})}}),Ir.handle("thumbnail-resource",async b=>{const o=decodeURIComponent(b.url.replace(new RegExp("^thumbnail-resource:/","i"),"")),p=(process.platform==="win32"?h(o):o).replace(/\\/g,"/").toLowerCase(),E=Zn.crc32(Buffer.from(p,"utf-8")).toString(16).padStart(8,"0"),m=et.join(Pn,".cache/.thumbs"),c=et.join(m,`${E}.webp`);try{const t=await _t.promises.readFile(c);return new Response(t)}catch(t){return console.error(`Failed to read thumbnail: ${t.message}`),new Response(null,{status:500})}});function r(b){return new Promise((o,n)=>{_t.stat(b,(p,d)=>{if(p){n(`Error reading file stats: ${p.message}`);return}const E=d.size;_t.readFile(b,(m,c)=>{if(m){n(`Error reading file: ${m.message}`);return}try{const u=Za.create(c).parse();u.tags.captureTime=u.tags.DateTimeOriginal||u.tags.CreateDate,u.tags.cameraModel=u.tags.Model||"Unknown Camera",u.tags.fileSize=E,o(u)}catch(t){n(`Error parsing EXIF data: ${t.message}`)}})})})}Ir.handle("photo-info",async b=>{const o=decodeURIComponent(b.url.replace(new RegExp("^photo-info:/","i"),"")),n=process.platform==="win32"?h(o):o;try{const p=await r(n);return new Response(JSON.stringify(p),{headers:{"Content-Type":"application/json"}})}catch(p){return console.error(`Failed to read photo info or thumbnail: ${p.message}`),new Response(null,{status:500})}})}async function Wa(){try{const a=await hn.installExtension(hn.REACT_DEVELOPER_TOOLS);console.log(`Extensions installed successfully: ${a.name}`)}catch{console.error("Failed to install extensions")}}xe.app.whenReady().then(Mn).then(Wa);xe.app.on("window-all-closed",()=>{process.platform!=="darwin"&&xe.app.quit()});xe.app.on("activate",()=>{xe.BrowserWindow.getAllWindows().length===0&&Mn()});
