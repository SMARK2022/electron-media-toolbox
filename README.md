<div align="center">
  <img src="assets/app.ico" alt="SMARK App Icon" height="80">
  <h1>SMARK Media Tools</h1>
  <p><b>åŸºäº GPU/ONNX åŠ é€Ÿçš„æ‘„å½±åæœŸé€‰ç‰‡ä¸ç®¡ç†å·¥å…·ç®±</b></p>

  <p>
    <a href="README_En.md">English</a> | <b>ç®€ä½“ä¸­æ–‡</b>
  </p>

  <p>
    <img src="https://img.shields.io/badge/version-2.1.1-blue" alt="Version">
    <img src="https://img.shields.io/badge/platform-Windows-0078D6" alt="Platform">
    <img src="https://img.shields.io/badge/license-Apache--2.0-green" alt="License">
    <img src="https://img.shields.io/badge/backend-FastAPI%20%7C%20Nuitka-yellow" alt="Backend">
  </p>
</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**SMARK Media Tools** æ˜¯ä¸€æ¬¾ä¸“ä¸ºæ‘„å½±çˆ±å¥½è€…è®¾è®¡çš„æœ¬åœ°åŒ–åª’ä½“ç®¡ç†å·¥å…·ã€‚é’ˆå¯¹è¿æ‹äº§ç”Ÿçš„æµ·é‡åºŸç‰‡ä¸é‡å¤ç…§ç‰‡ï¼Œæœ¬å·¥å…·æä¾›äº†ä¸€å¥—é«˜æ•ˆçš„è‡ªåŠ¨åŒ–æ•´ç†æ–¹æ¡ˆï¼š

1.  **æ™ºèƒ½åˆ†ç»„**ï¼šé€šè¿‡ HSV ç›´æ–¹å›¾ç›¸ä¼¼åº¦ï¼Œè‡ªåŠ¨å°†è¿æ‹åºåˆ—æˆ–ç›¸ä¼¼åœºæ™¯èšç±»ã€‚
2.  **ç¾å­¦è¯„åˆ†**ï¼šé›†æˆ ZJU **LAR-IQA** æ— å‚è€ƒå›¾åƒè´¨é‡è¯„ä¼°ç®—æ³•ï¼ˆONNX Runtime / DirectML åŠ é€Ÿï¼‰ï¼Œè‡ªåŠ¨ç­›é€‰ç»„å†…æœ€ä½³ç…§ç‰‡ã€‚
3.  **ä¸€é”®å¯¼å‡º**ï¼šå¿«é€Ÿæ ‡è®°ä¿ç•™/åºŸå¼ƒï¼Œå°†ç²¾é€‰ç…§ç‰‡å¯¼å‡ºè‡³ç›®æ ‡æ–‡ä»¶å¤¹ã€‚

> **æ€§èƒ½å‚è€ƒ**ï¼šç¼©ç•¥å›¾ç”Ÿæˆçº¦ **3ms/å¸§**ï¼Œè´¨é‡è¯„ä¼°æ¨ç†çº¦ **1s/å¸§** (å–å†³äº GPU æ€§èƒ½)ã€‚

<div align="center">
  <img src="assets/gui.png" alt="SMARK Media Tools GUI" width="100%">
</div>

---

## âœ¨ ä¸»è¦ç‰¹æ€§

- **âš¡ å…¨é“¾è·¯åŠ é€Ÿ**
  - **ONNX Runtime (DirectML)**ï¼šå°† LAR-IQA æ¨¡å‹å¯¼å‡ºä¸º ONNX æ ¼å¼ï¼ŒåŸºäº DirectML åç«¯åœ¨ Windows å¹³å°ä¸Šç»Ÿä¸€æ”¯æŒ NVIDIA / AMD / é›†æˆæ˜¾å¡åŠ CPUï¼ŒåŠ é€Ÿæ¨ç†çš„åŒæ—¶è„±ç¦»ç¬¨é‡çš„ PyTorch ç¯å¢ƒä¸ CUDA ä¾èµ–ã€‚
  - **Nuitka ç¼–è¯‘**ï¼šPython åç«¯è¢«ç¼–è¯‘ä¸ºå•ä¸€ `web_api.exe`ï¼Œå¯åŠ¨é€Ÿåº¦å¿«ï¼Œèµ„æºå ç”¨ä½ã€‚

- **ğŸ§  è‡ªåŠ¨åŒ–åç«¯ç®¡ç† (v2.1.0)**
  - Electron ä¸»è¿›ç¨‹è‡ªåŠ¨æ¥ç®¡åç«¯ç”Ÿå‘½å‘¨æœŸï¼ˆå¯åŠ¨/ä¿æ´»/å…³é—­ï¼‰ã€‚
  - å†…ç½®å¥åº·æ£€æŸ¥æœºåˆ¶ï¼šå¯åŠ¨å‰ 10 ç§’è‡ªåŠ¨æ¢æµ‹åç«¯çŠ¶æ€ï¼Œå®æ—¶ç›‘æ§å“åº”å»¶è¿Ÿã€‚

- **ğŸ“¦ å¼€ç®±å³ç”¨**
  - æä¾› Windows `.msi` å®‰è£…åŒ…ï¼Œå†…å« Electron å‰ç«¯ã€é¢„ç¼–è¯‘åç«¯åŠè¿è¡Œåº“ã€‚
  - **æ— éœ€é…ç½® Python ç¯å¢ƒ**ï¼Œæ— éœ€å®‰è£… CUDA å·¥å…·åŒ…ï¼ˆä¾èµ–å·²å†…ç½®ï¼‰ã€‚

- **ğŸ¨ ç°ä»£åŒ–äº¤äº’**
  - åŸºäº Shadcn UI + Tailwind CSS æ„å»ºï¼Œæ”¯æŒé”®ç›˜å¿«æ·é”®æ“ä½œã€‚
  - ç›´è§‚çš„â€œåˆ†ç»„-è¯¦æƒ…â€è§†å›¾ï¼Œæ”¯æŒå•å¼ ç…§ç‰‡çš„å¯ç”¨/å¼ƒç”¨æ ‡è®°ã€‚

---

## ğŸ“¥ å®‰è£…ä¸è¿è¡Œ

### 1. ç»ˆç«¯ç”¨æˆ· (æ¨è)

è¯·ç›´æ¥è®¿é—® [Releases](../../releases) é¡µé¢ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼š

- ä¸‹è½½ **`Electron Media Toolbox.msi`**
- åŒå‡»å®‰è£…å³å¯ï¼Œæ— éœ€ä»»ä½•é¢å¤–é…ç½®ã€‚

### 2. å¼€å‘è€… (æºç ç¼–è¯‘)

å¦‚éœ€äºŒæ¬¡å¼€å‘ï¼Œè¯·åˆ†åˆ«å‡†å¤‡ Node.js å’Œ Python ç¯å¢ƒã€‚

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/SMARK2022/electron-media-toolbox.git

# 2. å‡†å¤‡åç«¯ (æ¨èä½¿ç”¨ Conda/venv)
cd python
pip install -r requirements.txt
python web_api.py  # å¯åŠ¨åç«¯æœåŠ¡

# 3. å¯åŠ¨å‰ç«¯ (åœ¨æ–°çš„ç»ˆç«¯çª—å£)
cd ..
npm install
npm run start
````

> **æ³¨æ„**ï¼šå¼€å‘æ¨¡å¼ä¸‹ï¼ŒElectron å°†ç›´æ¥è¿æ¥æœ¬åœ° Python æºç æœåŠ¡ï¼›æ„å»ºç”Ÿäº§ç‰ˆæœ¬æ—¶ï¼Œç³»ç»Ÿä¼šè°ƒç”¨ Nuitka å°†åç«¯ç¼–è¯‘ä¸º exe å¹¶æ‰“åŒ…ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æ¨¡å—             | æŠ€æœ¯é€‰å‹                          | è¯´æ˜                                                                |
| :--------------- | :-------------------------------- | :------------------------------------------------------------------ |
| **UI / Desktop** | Electron, Vite, React, TypeScript | Shadcn UI + Tailwind CSS ç•Œé¢æ„å»º                                   |
| **Backend**      | FastAPI, Uvicorn                  | æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸æ–‡ä»¶ I/O                                              |
| **Compiler**     | **Nuitka**                        | å°† Python ç¼–è¯‘ä¸ºç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ (`onefile`)                          |
| **AI Inference** | **ONNX Runtime (DirectML)**       | è¿è¡Œ LAR-IQA æ¨¡å‹ï¼Œç»Ÿä¸€æ”¯æŒ Windows ä¸Šçš„ NVIDIA/AMD/é›†æˆ GPU ä¸ CPU |
| **Packaging**    | Electron Forge, Wix Toolset       | ç”Ÿæˆ Windows MSI å®‰è£…åŒ…                                             |

---

## ğŸ—“ï¸ åŠŸèƒ½è§„åˆ’

* [x] **ç…§ç‰‡æ™ºèƒ½åˆ†ç»„** (HSV ç›´æ–¹å›¾)
* [x] **LAR-IQA ç¾å­¦è¯„åˆ†** (ONNX Runtime)
* [x] **åç«¯ç‹¬ç«‹ç¼–è¯‘ä¸ç”Ÿå‘½å‘¨æœŸç®¡ç†** (Nuitka + Auto-start)
* [x] **Windows MSI å®‰è£…åŒ…å°è£…**
* [ ] å¤šç»´åº¦æ’åºæŒ‡æ ‡ (äººè„¸å¯¹ç„¦æ¸…æ™°åº¦ã€æ–‡ä»¶å¤§å°ç­‰)
* [ ] è§†é¢‘æ–‡ä»¶çš„å¯¼å…¥ä¸åˆ‡ç‰‡æ”¯æŒ

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.1.1 (2025-11-23)

* **æ¨ç†åç«¯è¿ç§»**ï¼šä» `onnxruntime-gpu` åˆ‡æ¢ä¸º `onnxruntime-directml`ï¼Œåœ¨ Windows å¹³å°ä¸Šç»Ÿä¸€æ”¯æŒ NVIDIA / AMD / CPUï¼Œæ— éœ€é¢å¤–å®‰è£… CUDA/cuDNNã€‚
* **å…¼å®¹æ€§ä¼˜åŒ–**ï¼šå®Œå–„ Nuitka onefile é€€å‡ºæµç¨‹ä¸ä¿¡å·å¤„ç†ï¼Œé¿å…å¼ºåˆ¶ç»ˆæ­¢å¯¼è‡´ä¸´æ—¶è§£å‹ç›®å½•æ— æ³•æ¸…ç†ã€‚

### v2.1.0 (2025-11-22)

* **æ¶æ„å‡çº§**ï¼šåç«¯è¿ç§»è‡³ ONNX Runtimeï¼Œç§»é™¤ PyTorch ä¾èµ–ï¼Œä½“ç§¯å¤§å¹…å‡å°ã€‚
* **ç¼–è¯‘ä¼˜åŒ–**ï¼šä½¿ç”¨ Nuitka ç¼–è¯‘åç«¯ï¼Œæå¤§æå‡å¯åŠ¨é€Ÿåº¦ä¸ç¨³å®šæ€§ã€‚
* **ä½“éªŒæ”¹è¿›**ï¼šæ–°å¢åç«¯å¥åº·æ¢æµ‹ä¸å»¶è¿Ÿæ˜¾ç¤ºï¼Œä¼˜åŒ–â€œå…³äºâ€é¡µé¢ä¸ç‰ˆæœ¬æ£€æŸ¥å™¨ã€‚

### v2.0.0 (2025-11-19)

* **æ­£å¼å‘å¸ƒ**ï¼šæ¨å‡º `.msi` å®‰è£…åŒ…ï¼Œé‡æ„å¯¼å…¥/å¯¼å‡ºæµç¨‹ï¼ŒUI å…¨é¢å‡çº§ã€‚

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
SMARKMediaTools
â”œâ”€â”€ python/
â”‚   â”œâ”€â”€ web_api.py             # FastAPI åç«¯æºç 
â”‚   â”œâ”€â”€ out/web_api.exe        # Nuitka ç¼–è¯‘äº§ç‰©
â”‚   â”œâ”€â”€ checkpoint/            # ONNX æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ utils/                 # å›¾åƒå¤„ç†æ ¸å¿ƒç®—æ³•
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts                # Electron ä¸»è¿›ç¨‹ (è´Ÿè´£åç«¯ç®¡ç†)
â”‚   â”œâ”€â”€ renderer/pages/        # React é¡µé¢ (Home, Filter, etc.)
â”‚   â””â”€â”€ components/            # UI ç»„ä»¶
â””â”€â”€ package.json
```

---

## ğŸ“„ è®¸å¯è¯ä¸è‡´è°¢

æœ¬é¡¹ç›®åŸºäº **Apache License 2.0** å¼€æºã€‚

* **LAR-IQA**: [https://github.com/nasimjamshidi/LAR-IQA](https://github.com/nasimjamshidi/LAR-IQA)
* **UI Template**: [electron-shadcn](https://github.com/LuanRoger/electron-shadcn)

**ä½œè€…**: [SMARK](https://github.com/SMARK2022) | ğŸ“§ [SMARK2019@outlook.com](mailto:SMARK2019@outlook.com)

